(this["webpackJsonp@loopring-web/webapp"]=this["webpackJsonp@loopring-web/webapp"]||[]).push([[7],{107:function(e,t,n){"use strict";n.d(t,"f",(function(){return E})),n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return R})),n.d(t,"b",(function(){return D}));var a,r=n(4),c=n.n(r),o=n(23),i=n(6),s=n(1),u=n(46),l=n(90),d=n(141),b=n(159),f=n(42),p=n(11),m=n(14),j=n(172),O=(a={},Object(m.a)(a,p.f.Unknown,void 0),Object(m.a)(a,p.f.Injected,j.b),Object(m.a)(a,p.f.Network,j.d),Object(m.a)(a,p.f.WalletConnect,j.f),Object(m.a)(a,p.f.WalletLink,j.g),Object(m.a)(a,p.f.Ledger,j.c),Object(m.a)(a,p.f.Trezor,j.e),Object(m.a)(a,p.f.Authereum,j.a),a),v=n(121),h=n(980),g=n.n(h),x=n(1994),A=n(339),y=n.n(A),k=n(81),w=n(207),T=n(55),C=n(305),_=n(186);function E(){var e=Object(b.a)(),t=e.connector,n=e.library,a=e.account,r=e.chainId,c=e.active,o=e.error;return{account:a,connector:t,library:n,chainId:r,active:c,isConnected:c&&!g.a.isBlank(a),error:o}}function I(){var e=Object(u.c)((function(e){return e.account}));return{account:e,isNoAccount:function(){return e.status===f.b.NOACCOUNT},isActivated:function(){return e.status===f.b.ACTIVATED},apiKey:e.apiKey,eddsaKey:e.eddsaKey,accountId:e.accountId}}function S(){var e,t=Object(u.b)(),n=(e=Object(f.a)(),function(t,n){var a=e.states[t];if(void 0===a)throw new Error("No transitions defined for ".concat(t));var r=a[n];if(void 0===r)throw new Error("Unknown transition for event ".concat(n," in state ").concat(t));return r});return{sendEvent:Object(s.useCallback)((function(e,a){var r=n(e.status,a);r&&t(Object(v.e)(r))}),[n,t])}}function N(){var e=Object(b.a)().activate,t=S().sendEvent,n=Object(u.b)(),a=Object(s.useState)(),r=Object(i.a)(a,2),c=r[0],o=r[1];return{connect:Object(s.useCallback)((function(a){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=O[a];o(c),e(c),n(Object(v.h)(a)),r&&t(T.a.getState().account,f.c.Reset),t(T.a.getState().account,f.c.Connecting),console.log("try Connecting...")}),[e,n,t]),activatingConnector:c}}function P(){var e=Object(b.a)().deactivate,t=Object(u.b)();return{disconnect:Object(s.useCallback)((function(){e(),t(Object(v.b)(void 0))}),[e,t])}}function R(){var e=Object(u.b)(),t=Object(k.b)(),n=Object(k.c)(),a=Object(d.b)().tradingInfo,r=E().connector,i=S().sendEvent;return{lock:Object(s.useCallback)(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("useCallback lock:",t.status),i(t,f.c.Lock);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),unlock:Object(s.useCallback)(function(){var s=Object(o.a)(c.a.mark((function o(s){var u,l,d,b,m,j,O,h,g;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n&&t&&r&&s.accountId&&(null===(u=a.exchangeInfo)||void 0===u?void 0:u.exchangeAddress)&&s.status===f.b.LOCKED){c.next=5;break}return console.log("accountId:",s.accountId),console.log("exchangeAddress:",a.exchangeInfo),console.log("enter !! account.status:",s.status),c.abrupt("return");case 5:if(console.log("useUnlock useCallback:",s.status),s.status===f.b.LOCKED){c.next=8;break}throw Error("unexpected status:"+s.status);case 8:return d=void 0,b=void 0,m=void 0,c.prev=11,c.next=14,r.getProvider();case 14:if(j=c.sent,O=new y.a(j),console.log("useUnlock eddsaKey:",s.eddsaKey),s.eddsaKey){c.next=24;break}return c.next=20,p.w(O,s.accAddr,null===(h=a.exchangeInfo)||void 0===h?void 0:h.exchangeAddress,s.nonce-1,s.connectName);case 20:g=c.sent,b=Object(p.I)(Object(p.G)(g.keyPair.secretKey)),c.next=25;break;case 24:b=s.eddsaKey;case 25:return c.next=27,n.getUserApiKey({accountId:s.accountId},b);case 27:m=c.sent,console.log("useUnlock apikey:",m),d=f.c.Unlock,c.next=36;break;case 32:c.prev=32,c.t0=c.catch(11),console.log(c.t0),d=f.c.Reset;case 36:b&&e(Object(v.i)(b)),(null===(l=m)||void 0===l?void 0:l.apiKey)&&e(Object(v.f)(m.apiKey)),console.log("next event:",d),d&&i(s,d);case 40:case"end":return c.stop()}}),o,null,[[11,32]])})));return function(e){return s.apply(this,arguments)}}(),[e,i,t,n,r,a.exchangeInfo])}}function D(){var e,t=Object(u.b)(),n=I().account,a=S().sendEvent,r=Object(k.b)(),i=Object(k.c)(),s=E(),b=s.account,m=(s.active,s.isConnected),j=s.chainId,O=s.connector,h=b,g=Object(x.a)(j),A=Object(x.a)(b),y=Object(d.b)().tradingInfo;Object(l.a)(Object(o.a)(c.a.mark((function e(){var s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){return(u=Object(o.a)(c.a.mark((function e(){var o,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&h&&r&&i&&O&&(null===(o=y.exchangeInfo)||void 0===o?void 0:o.exchangeAddress)){e.next=2;break}return e.abrupt("return");case 2:if(!(g&&j&&g!==j||A&&b&&A!==b)||n.status===f.b.UNCONNNECTED){e.next=7;break}return console.log("checkStatus try to resetFunc"),t(Object(v.b)(void 0)),a(n,f.c.Reset),e.abrupt("return");case 7:s(),e.t0=n.status,e.next=e.t0===f.b.UNCONNNECTED?11:e.t0===f.b.CONNECTED?15:e.t0===f.b.NOACCOUNT?30:e.t0===f.b.DEPOSITING?31:e.t0===f.b.DEPOSIT_TO_CONFIREM?34:e.t0===f.b.UNACTIVATED?35:e.t0===f.b.ARPROVING?38:e.t0===f.b.APPROV_TO_CONFIRM?41:e.t0===f.b.LOCKED?44:e.t0===f.b.ACTIVATED?46:51;break;case 11:return m&&(t(Object(v.h)(p.f.Injected)),a(n,f.c.Connecting)),t(Object(C.a)(void 0)),t(Object(_.a)(void 0)),e.abrupt("break",52);case 15:return e.prev=15,e.next=18,r.getAccount({owner:h});case 18:u=e.sent.accInfo,n.accAddr&&n.eddsaKey&&u.owner===n.accAddr||(t(Object(v.d)(u)),t(Object(C.b)(void 0))),(null===n||void 0===n?void 0:n.connectName)!==(null===n||void 0===n?void 0:n.connectNameTemp)&&t(Object(v.g)(n.connectNameTemp)),a(n,f.c.HasPubkey),e.next=29;break;case 24:e.prev=24,e.t1=e.catch(15),Object(p.v)(e.t1),h&&t(Object(v.c)(h)),e.t1.response&&e.t1.response.data&&e.t1.response.data.resultInfo&&101002===e.t1.response.data.resultInfo.code&&a(n,f.c.ErrorResponse);case 29:case 30:return e.abrupt("break",52);case 31:return!0,a(n,f.c.FinishDeposit),e.abrupt("break",52);case 34:return e.abrupt("break",52);case 35:return!1,e.abrupt("break",52);case 38:return!1,e.abrupt("break",52);case 41:return!1,e.abrupt("break",52);case 44:return t(Object(C.a)(void 0)),e.abrupt("break",52);case 46:return w.a.checkTimeout(!0),l=setInterval((function(){var e=w.a.checkTimeout();n.status===f.b.ACTIVATED&&e&&(clearInterval(l),a(n,f.c.Lock))}),1e3),w.a.setHandler(l),t(Object(_.b)(void 0)),e.abrupt("break",52);case 51:return e.abrupt("break",52);case 52:case"end":return e.stop()}}),e,null,[[15,24]])})))).apply(this,arguments)},s=function(){var e=w.a.getHandler();n.status!==f.b.ACTIVATED&&e&&clearInterval(e)},function(){return u.apply(this,arguments)}(),e.abrupt("return",(function(){s()}));case 5:case"end":return e.stop()}}),e)}))),[C.b,_.b,C.a,_.a,r,i,n,g,j,h,t,O,null===(e=y.exchangeInfo)||void 0===e?void 0:e.exchangeAddress])}},112:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u}));var a,r=n(11);!function(e){e.processed="processed",e.no_such_order="no_such_order",e.too_many_times="too_many_times"}(a||(a={}));var c=Object(r.G)(0),o=Object(r.G)(1),i=Object(r.G)(10),s=Object(r.G)(1e4),u=1e4},121:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return j})),n.d(t,"i",(function(){return O}));var a=n(82),r=n(11),c=n(42),o=n(207),i=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL_UAT:"uat2.loopring.io",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB",REACT_APP_RPC_URL_1:"https://mainnet.eth.loopring.network",REACT_APP_API_URL:"api3.loopring.io"}).REACT_APP_TEST_ACCOUND_ID?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL_UAT:"uat2.loopring.io",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB",REACT_APP_RPC_URL_1:"https://mainnet.eth.loopring.network",REACT_APP_API_URL:"api3.loopring.io"}).REACT_APP_TEST_ACCOUND_ID:o.a.getAccountId(),t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL_UAT:"uat2.loopring.io",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB",REACT_APP_RPC_URL_1:"https://mainnet.eth.loopring.network",REACT_APP_API_URL:"api3.loopring.io"}).REACT_APP_TEST_API_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL_UAT:"uat2.loopring.io",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB",REACT_APP_RPC_URL_1:"https://mainnet.eth.loopring.network",REACT_APP_API_URL:"api3.loopring.io"}).REACT_APP_TEST_API_KEY:o.a.getApikey(),n=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL_UAT:"uat2.loopring.io",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB",REACT_APP_RPC_URL_1:"https://mainnet.eth.loopring.network",REACT_APP_API_URL:"api3.loopring.io"}).REACT_APP_TEST_OWNER?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL_UAT:"uat2.loopring.io",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB",REACT_APP_RPC_URL_1:"https://mainnet.eth.loopring.network",REACT_APP_API_URL:"api3.loopring.io"}).REACT_APP_TEST_OWNER:o.a.getAccount(),a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL_UAT:"uat2.loopring.io",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB",REACT_APP_RPC_URL_1:"https://mainnet.eth.loopring.network",REACT_APP_API_URL:"api3.loopring.io"}).REACT_APP_TEST_EDDSA_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL_UAT:"uat2.loopring.io",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB",REACT_APP_RPC_URL_1:"https://mainnet.eth.loopring.network",REACT_APP_API_URL:"api3.loopring.io"}).REACT_APP_TEST_EDDSA_KEY:o.a.getEddsakey();return console.log("defaultApiKey:",JSON.stringify(t)),{accAddr:n,status:c.b.UNCONNNECTED,accountId:e,publicKey:{},nonce:0,isContractAddress:!1,apiKey:t,eddsaKey:a,connectName:r.f.Unknown,connectNameTemp:r.f.Unknown}},s=Object(a.c)({name:"account",initialState:i(),reducers:{reset:function(e){var t=i();console.log("!!! reset account!",t),Object.assign(e,t)},setAccAddr:function(e,t){e.accAddr=t.payload},setAccountInfo:function(e,t){e.accAddr=t.payload.owner,e.accountId=t.payload.accountId,e.nonce=t.payload.nonce,e.publicKey=t.payload.publicKey},setApikey:function(e,t){e.apiKey=t.payload},setAccountStatus:function(e,t){e.status=t.payload},setEddsaKey:function(e,t){e.eddsaKey=t.payload},setConnectName:function(e,t){e.connectName=t.payload},setConnectNameTemp:function(e,t){e.connectNameTemp=t.payload},setIsContractAddress:function(e,t){e.isContractAddress=t.payload}}}),u=s.actions,l=u.reset,d=u.setAccAddr,b=u.setApikey,f=u.setConnectName,p=u.setConnectNameTemp,m=u.setAccountInfo,j=u.setAccountStatus,O=u.setEddsaKey;u.setIsContractAddress;t.a=s},126:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c.a})),n.d(t,"b",(function(){return c.b})),n.d(t,"c",(function(){return c.d}));var a=n(2),r=n(46),c=n(187),o=function(){var e=Object(r.c)((function(e){return e.amm.ammMap})),t=Object(r.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(c.a.actions.statusUnset(void 0))},updateAmmMap:function(){t(c.a.actions.getAmmMap(void 0))}})}},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return j})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return x})),n.d(t,"i",(function(){return A}));var a=n(4),r=n.n(a),c=n(23),o=n(81),i=n(46),s=n(90),u=n(55),l=n(193),d=n(11),b=n(159),f=n(1);function p(){return u.a.getState().system.chainId}function m(){var e=Object(i.c)((function(e){return e.trading}));return{tradingInfo:e,chainId:e.chainId}}function j(){var e=Object(b.a)().chainId,t=Object(i.b)();Object(f.useEffect)((function(){t(Object(l.e)(null!==e&&void 0!==e?e:d.e.GORLI))}),[e,t])}function O(){var e=Object(i.b)(),t=Object(o.b)();Object(s.a)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getMixMarkets();case 5:a=n.sent,e(Object(l.h)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.v)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function v(){var e=Object(i.b)(),t=Object(o.b)();Object(s.a)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getExchangeInfo();case 5:a=n.sent,e(Object(l.f)(a.exchangeInfo)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.v)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function h(){var e=Object(i.b)(),t=Object(o.a)();Object(s.a)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getAmmPoolConf();case 5:a=n.sent,e(Object(l.c)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.v)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function g(){var e=Object(i.b)(),t=Object(o.a)();Object(s.a)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getAmmPoolStats();case 5:a=n.sent,e(Object(l.d)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.v)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function x(){var e=Object(i.b)(),t=Object(o.a)();Object(s.a)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getAmmPoolActivityRules();case 5:a=n.sent,e(Object(l.b)(a.activityRules)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.v)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function A(){var e=Object(i.b)(),t=Object(o.b)();Object(s.a)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getTokens();case 5:a=n.sent,e(Object(l.j)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.v)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}},148:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c.c})),n.d(t,"a",(function(){return c.a}));var a=n(2),r=n(46),c=n(271);function o(){var e=Object(r.c)((function(e){return e.tokenMap})),t=Object(r.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(c.c.actions.statusUnset(void 0))},updateTokenMap:function(){t(c.c.actions.getTokenMap(void 0))}})}},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return b}));var a=n(6),r=n(1),c=n(46),o=n(189),i=n(172),s=n(11);function u(){var e=Object(o.d)(),t=Object(o.d)(s.k);return e.active?e:t}function l(){var e=u().chainId,t=Object(r.useState)(""),n=Object(a.a)(t,2),c=n[0],o=n[1];return Object(r.useEffect)((function(){switch(e){case s.e.MAINNET:o("https://etherscan.io/address/");break;default:o("https://goerli.etherscan.io/address/")}}),[e]),{etherscanUrl:c}}function d(){var e=Object(o.d)(),t=e.activate,n=e.active,c=Object(r.useState)(!1),s=Object(a.a)(c,2),u=s[0],l=s[1];return Object(r.useEffect)((function(){i.b.isAuthorized().then((function(e){e?(console.log("useEagerConnect isAuthorized"),t(i.b,void 0,!0).catch((function(){l(!0)}))):(console.log("useEagerConnect NOT isAuthorized"),l(!0))}))}),[]),Object(r.useEffect)((function(){!u&&n&&l(!0)}),[u,n]),u}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=Object(o.d)(),n=t.active,a=t.error,s=t.activate,u=t.chainId,l=Object(c.b)();Object(r.useEffect)((function(){var t=window.ethereum,r=function(){console.log("--------------------------\x3e reConnectInjected"),s(i.b),e&&e()};if(t&&t.on&&!n&&!a){var c=function(e){console.log("Handling 'chainChanged' event with payload",e),r()},o=function(e){console.log("---------------------------------------------"),console.log("Handling 'accountsChanged' event with payload",e),console.log("before reset accounts.length=",e.length),e.length>0&&(console.log("before reset!!!!!!!!!!!!!!!!1"),r())};return t.on("chainChanged",c),t.on("accountsChanged",o),function(){t.removeListener&&(t.removeListener("chainChanged",c),t.removeListener("accountsChanged",o))}}}),[n,a,u,s,l])}},172:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return h}));var a=n(444),r=n(974),c=n(537),o=n(975),i=n(976),s=n(978),u=n(979),l=12e3,d="https://mainnet.eth.loopring.network",b="https://goerli.infura.io/v3/84842078b09946638c03157f83405213";console.log("RPC_URLS 1:",d),console.log("RPC_URLS 5:",b);var f=new a.a({supportedChainIds:[1,5]}),p=new r.a({urls:{1:d,5:b},defaultChainId:1}),m=new c.b({rpc:{1:d},bridge:"https://bridge.walletconnect.org",qrcode:!0,pollingInterval:l}),j=new o.a({url:d,appName:"Loopring DEX"}),O=new i.a({chainId:1,url:d,pollingInterval:l}),v=new s.a({chainId:1,url:d,pollingInterval:l,manifestEmail:"dummy@abc.xyz",manifestAppUrl:"http://localhost:1234"}),h=new u.a({chainId:42})},186:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c.d})),n.d(t,"b",(function(){return c.c})),n.d(t,"a",(function(){return c.b}));var a=n(2),r=n(46),c=n(253);function o(){var e=Object(r.c)((function(e){return e.walletLayer2})),t=Object(r.b)();return Object(a.a)(Object(a.a)({},e),{},{resetLayer2:function(){t(c.d.actions.reset(void 0))},statusUnset:function(){t(c.d.actions.statusUnset(void 0))},updateWalletLayer2:function(){t(c.d.actions.getWalletLayer2(void 0))}})}},187:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n(82),r=n(57),c={ammMap:void 0,__timer__:-1,status:"UNSET",errorMessage:null},o=Object(a.c)({name:"ammMap",initialState:c,reducers:{getAmmMap:function(e,t){e.status=r.a.PENDING},getAmmMapStatus:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error);var n=t.payload,a=n.ammMap,c=n.__timer__;a&&(e.ammMap=a),c&&(e.__timer__=c),e.status=r.a.DONE},updateRealTimeAmmMap:function(e,t){e.status=r.a.PENDING},statusUnset:function(e){e.status=r.a.UNSET}}}),i=o.actions,s=i.getAmmMap,u=i.getAmmMapStatus,l=(i.statusUnset,i.updateRealTimeAmmMap)},1878:function(e,t,n){"use strict";n.r(t);var a=n(46),r=n(145),c=n.n(r),o=n(913),i=n(189),s=n(55),u=n(445),l=n(11),d=n(9),b=n(2036),f=n(220),p=n(1995),m=n(133),j=n(1996),O=n(0),v=Object(i.c)(l.k),h=[Object(d.ab)(f.b,{dateAdapter:p.a}),Object(d.ab)(j.a,{i18n:d.Z}),Object(d.ab)(b.a,{theme:Object(d.V)("dark")}),Object(d.ab)(m.c,{theme:Object(d.V)("dark")}),Object(d.ab)(a.a,{store:s.a})];c.a.render(Object(O.jsx)(d.E,{providers:h,children:Object(O.jsx)(i.b,{getLibrary:u.a,children:Object(O.jsx)(v,{getLibrary:u.a,children:Object(O.jsx)(o.a,{})})})}),document.getElementById("root"))},188:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var a=n(82),r=n(57),c=Object(a.c)({name:"socket",initialState:{socket:{},status:"UNSET",errorMessage:null},reducers:{socketEnd:function(e,t){e.status=r.a.PENDING},sendNewMessage:function(e,t){e.socket=t.payload.socket},getSocketStatus:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error),e.status=r.a.DONE},statusUnset:function(e){e.status=r.a.UNSET}}}),o=c.actions,i=o.getSocketStatus,s=o.sendNewMessage,u=o.socketEnd;o.statusUnset},193:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return m}));var a=n(82),r={chainId:n(11).e.GORLI,interval:"4hr",ammPoolConf:{},ammActivityRules:{},ammPoolStats:{},markets:[],marketTrades:{},tokens:{},tickerMap:{},refreshRate:1e3,refreshRateSlow:3e3},c=Object(a.c)({name:"trading",initialState:r,reducers:{setChainId:function(e,t){e.chainId=t.payload},changeTradingInterval:function(e,t){e.interval=t.payload},setTickerMap:function(e,t){e.tickerMap=t.payload},setAmmPoolStats:function(e,t){e.ammPoolStats=t.payload},setAmmActivityRules:function(e,t){e.ammActivityRules=t.payload},setAmmPoolConf:function(e,t){e.ammPoolConf=t.payload},setMarketTrades:function(e,t){e.marketTrades=t.payload},setMarkets:function(e,t){e.markets=t.payload},setTokens:function(e,t){e.tokens=t.payload},setExchangeInfo:function(e,t){e.exchangeInfo=t.payload}}}),o=c.actions,i=o.setChainId,s=o.setAmmPoolStats,u=o.setAmmActivityRules,l=o.setMarketTrades,d=o.setTickerMap,b=o.setAmmPoolConf,f=(o.changeTradingInterval,o.setMarkets),p=o.setTokens,m=o.setExchangeInfo;t.a=c},203:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(505),r=n(11);n(123),n(112);function c(e,t){return o(t[e])}function o(e){if(e){var t=a.utils.getAddress(e.address);return"https://exchange.loopring.io/assets/images/ethereum/assets/".concat(t,"/logo.png")}return""}var i=function(e,t){if(!e)throw Error("no tokens list!");return e[t]};function s(e,t,n,a,c){try{var o=i(e,t),s=a||o.precision,u=r.G(n).div("1e"+o.decimals);return r.H(u,s,c)}catch(l){}return"0"}},207:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,r=n(10),c=n(13);!function(e){e.Handler="handler",e.AccountId="account_id",e.Account="account",e.Apikey="apikey",e.Eddsakey="eddsakey",e.ActiveTime="active_time",e.AmmOrder="amm_order",e.HardwareAddresses="hardware_addresses"}(a||(a={}));var o=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getHandler",value:function(){var e=sessionStorage.getItem(a.Handler);try{if(void 0!==e&&null!==e)return parseInt(e)}catch(t){}}},{key:"setHandler",value:function(e){sessionStorage.setItem(a.Handler,e)}},{key:"clearHandler",value:function(){sessionStorage.removeItem(a.Handler)}},{key:"checkTimeout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=localStorage.getItem(a.ActiveTime),n=(new Date).getTime();if(null===t||e)e&&console.log("force reset!!"),localStorage.setItem(a.ActiveTime,n.toString());else{var r=new Date(parseInt(t));if(n-r.getTime()>6e5)return console.log("TIMEOUT! now:".concat(n," dateTimeStr:").concat(t," delta:").concat(n-r.getTime())),sessionStorage.clear(),localStorage.setItem(a.ActiveTime,n.toString()),!0}return!1}},{key:"getAccountId",value:function(){var e=sessionStorage.getItem(a.AccountId);try{if(e)return parseInt(e)}catch(t){}}},{key:"setAccountId",value:function(e){sessionStorage.setItem(a.AccountId,e.toString())}},{key:"getAccount",value:function(){return sessionStorage.getItem(a.Account)}},{key:"setAccount",value:function(e){sessionStorage.setItem(a.Account,e)}},{key:"getApikey",value:function(){return sessionStorage.getItem(a.Apikey)}},{key:"setApikey",value:function(e){sessionStorage.setItem(a.Apikey,e)}},{key:"getEddsakey",value:function(){return sessionStorage.getItem(a.Eddsakey)}},{key:"setEddsakey",value:function(e){sessionStorage.setItem(a.Eddsakey,e)}},{key:"getAmmOrder",value:function(){var e=localStorage.getItem(a.AmmOrder);return e||""}},{key:"setAmmOrder",value:function(e){localStorage.setItem(a.AmmOrder,e)}},{key:"clearAmmOrder",value:function(){localStorage.removeItem(a.AmmOrder)}},{key:"isHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);return!(!t||!t.includes(e.toLowerCase()))}},{key:"saveHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);if(t){if(!0!==t.includes(e.toLowerCase())){var n=t+","+e.toLowerCase();localStorage.setItem(a.HardwareAddresses,n)}}else localStorage.setItem(a.HardwareAddresses,e.toLowerCase())}}]),e}()},224:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var a=n(2),r=n(82),c=n(57),o=Object(r.c)({name:"tickerMap",initialState:{tickerMap:{},status:"UNSET",errorMessage:null},reducers:{getTicker:function(e,t){e.status=c.a.PENDING},getTickers:function(e,t){e.status=c.a.PENDING},getTickerStatus:function(e,t){t.error&&(e.status=c.a.ERROR,e.errorMessage=t.error),e.tickerMap=Object(a.a)(Object(a.a)({},e.tickerMap),t.payload.tickerMap),e.status=c.a.DONE},statusUnset:function(e){e.status=c.a.UNSET}}}),i=o.actions,s=i.getTicker,u=i.getTickers,l=i.getTickerStatus;i.statusUnset},244:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c.c}));var a=n(2),r=n(46),c=n(254);function o(){var e=Object(r.c)((function(e){return e.userRewardsMap})),t=Object(r.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(c.c.actions.statusUnset(void 0))},updateUserRewards:function(){t(c.c.actions.getUserRewards(void 0))}})}},250:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return b}));var a=n(82),r=n(251),c=n(57),o={env:r.a.PROD,chainId:"unknown",baseURL:"",socketURL:"",faitPrices:void 0,gasPrice:void 0,forex:void 0,__timer__:-1,status:"UNSET",errorMessage:null,topics:[]},i=Object(a.c)({name:"system",initialState:o,reducers:{updateSystem:function(e,t){e.chainId=t.payload.chainId,e.status=c.a.PENDING},updateSocketURL:function(e,t){e.socketURL=t.payload.socketURL},updateRealTimeObj:function(e,t){var n=t.payload,a=n.forex,r=n.faitPrices,c=n.gasPrice;a&&(e.forex=a),r&&(e.faitPrices=r),c&&(e.gasPrice=c)},getSystemStatus:function(e,t){t.error&&(e.status=c.a.ERROR,e.errorMessage=t.error);var n=t.payload,a=n.env,r=n.baseURL,o=n.faitPrices,i=n.gasPrice,s=n.forex,u=n.__timer__;a&&(e.env=a),r&&(e.baseURL=r),o&&(e.faitPrices=o),i&&(e.gasPrice=i),s&&(e.forex=s),u&&(e.__timer__=u),e.status=c.a.DONE},statusUnset:function(e){e.status=c.a.UNSET}}}),s=i.actions,u=s.updateSystem,l=(s.setTopics,s.getSystemStatus),d=(s.statusUnset,s.updateRealTimeObj),b=s.updateSocketURL},251:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.DEV="DEV",e.UAT="UAT",e.PROD="PROD"}(a||(a={})),function(e){e.NONETWORK="unknown"}(r||(r={}))},252:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(2),r=n(82),c=n(57),o={walletLayer1:void 0,status:"UNSET",errorMessage:null},i=Object(r.c)({name:"walletLayer1S",initialState:o,reducers:{updateWalletLayer1:function(e,t){e.status=c.a.PENDING},reset:function(e,t){e.walletLayer1=void 0,e.status=c.a.UNSET},getWalletLayer1Status:function(e,t){t.error&&(e.status=c.a.ERROR,e.errorMessage=t.error),e.walletLayer1=Object(a.a)({},t.payload.walletLayer1),e.status=c.a.DONE},statusUnset:function(e){e.status=c.a.UNSET}}}),s=i.actions,u=s.updateWalletLayer1,l=s.getWalletLayer1Status,d=(s.statusUnset,s.reset)},253:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(2),r=n(82),c=n(57),o={walletLayer2:void 0,status:"UNSET",errorMessage:null},i=Object(r.c)({name:"walletLayer2S",initialState:o,reducers:{updateWalletLayer2:function(e,t){e.status=c.a.PENDING},reset:function(e,t){e.walletLayer2=void 0,e.status=c.a.UNSET},getWalletLayer2Status:function(e,t){t.error&&(e.status=c.a.ERROR,e.errorMessage=t.error),e.walletLayer2=Object(a.a)({},t.payload.walletLayer2),e.status=c.a.DONE},statusUnset:function(e){e.status=c.a.UNSET}}}),s=i.actions,u=s.updateWalletLayer2,l=s.getWalletLayer2Status,d=(s.statusUnset,s.reset)},254:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var a=n(2),r=n(82),c=n(57),o={userRewardsMap:void 0,status:"UNSET",errorMessage:null,__timer__:-1},i=Object(r.c)({name:"userRewardsMap",initialState:o,reducers:{getUserRewards:function(e,t){e.status=c.a.PENDING},getUserRewardsStatus:function(e,t){t.error&&(e.status=c.a.ERROR,e.errorMessage=t.error),e.userRewardsMap=Object(a.a)(Object(a.a)({},e.userRewardsMap),t.payload.userRewardsMap),t.payload.__timer__&&(e.__timer__=t.payload.__timer__),e.status=c.a.DONE},statusUnset:function(e){e.status=c.a.UNSET}}}),s=i.actions,u=s.getUserRewards,l=s.getUserRewardsStatus;s.statusUnset},270:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var a=n(2),r=n(82),c=n(57),o=Object(r.c)({name:"ammActivityMap",initialState:{ammActivityMap:{},status:"UNSET",errorMessage:null},reducers:{getAmmActivityMap:function(e,t){e.status=c.a.PENDING},getAmmActivityMapStatus:function(e,t){t.error&&(e.status=c.a.ERROR,e.errorMessage=t.error),e.ammActivityMap=Object(a.a)({},t.payload.ammActivityMap),e.status=c.a.DONE},statusUnset:function(e){e.status=c.a.UNSET}}}),i=o.actions,s=i.getAmmActivityMap,u=i.getAmmActivityMapStatus;i.statusUnset},271:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var a=n(82),r=n(57),c={coinMap:{},addressIndex:void 0,tokenMap:void 0,marketMap:void 0,idIndex:void 0,status:"UNSET",errorMessage:null},o=Object(a.c)({name:"tokenMap",initialState:c,reducers:{getTokenMap:function(e,t){e.status=r.a.PENDING},getTokenMapStatus:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error);var n=t.payload,a=n.tokenMap,c=n.marketMap,o=n.addressIndex,i=n.idIndex,s=n.coinMap,u=n.marketArray,l=n.marketCoins;a&&(e.tokenMap=a),c&&(e.marketMap=c),o&&(e.addressIndex=o),i&&(e.idIndex=i),s&&(e.coinMap=s),u&&(e.marketArray=u),l&&(e.marketCoins=l),e.status=r.a.DONE},statusUnset:function(e){e.status=r.a.UNSET}}}),i=o.actions,s=i.getTokenMap,u=i.getTokenMapStatus;i.getTokenPairMap,i.statusUnset},296:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c.b})),n.d(t,"b",(function(){return c.d}));var a=n(2),r=n(46),c=n(250);function o(){var e=Object(r.c)((function(e){return e.system})),t=Object(r.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(c.b.actions.statusUnset(void 0))},updateSystem:function(e){t(c.b.actions.updateSystem(e))}})}n(251)},305:function(e,t,n){"use strict";n.d(t,"c",(function(){return a.d})),n.d(t,"b",(function(){return a.c})),n.d(t,"a",(function(){return a.b}));n(2),n(46);var a=n(252)},381:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c.a})),n.d(t,"b",(function(){return c.b}));var a=n(2),r=n(46),c=n(270);function o(){var e=Object(r.c)((function(e){return e.amm.ammActivityMap})),t=Object(r.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(c.a.actions.statusUnset(void 0))},updateAmmActivityMap:function(){t(c.a.actions.getAmmActivityMap(void 0))}})}},382:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c.d}));var a=n(2),r=n(46),c=n(188);function o(){var e=Object(r.c)((function(e){return e.socket})),t=Object(r.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(c.d.actions.statusUnset(void 0))},sendNewMessage:function(e){t(c.d.actions.sendNewMessage(e))},socketEnd:function(){t(c.d.actions.socketEnd(void 0))}})}},42:function(e,t,n){"use strict";var a,r;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),function(e){e.UNKNOWN="UNKNOWN",e.UNCONNNECTED="UNCONNNECTED",e.CONNECTED="CONNECTED",e.NOACCOUNT="NOACCOUNT",e.DEPOSITING="DEPOSITING",e.DEPOSIT_TO_CONFIREM="DEPOSIT_TO_CONFIREM",e.UNACTIVATED="UNACTIVATED",e.ARPROVING="ARPROVING",e.APPROV_TO_CONFIRM="APPROV_TO_CONFIRM",e.LOCKED="LOCKED",e.ACTIVATED="ACTIVATED"}(a||(a={})),function(e){e.Reset="Reset",e.Connecting="Connecting",e.HasPubkey="HasPubkey",e.HasNoPubkey="HasNoPubkey",e.ErrorResponse="ErrorResponse",e.FinishDeposit="FinishDeposit",e.DepositConfirmed="DepositConfirmed",e.IsSmartWallet="IsSmartWallet",e.ApproveSubmit="ApproveSubmit",e.ApproveConfirmed="ApproveConfirmed",e.Unlock="Unlock",e.Lock="Lock"}(r||(r={}));var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.UNCONNNECTED;return{initialState:e,states:{UNCONNNECTED:{Connecting:a.CONNECTED,Reset:a.UNCONNNECTED},CONNECTED:{HasPubkey:a.LOCKED,HasNoPubkey:a.UNACTIVATED,ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},NOACCOUNT:{ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},DEPOSITING:{FinishDeposit:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},DEPOSIT_TO_CONFIREM:{HasPubkey:a.ACTIVATED,HasNoPubkey:a.DEPOSIT_TO_CONFIREM,ErrorResponse:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},UNACTIVATED:{IsSmartWallet:a.ARPROVING,Reset:a.UNCONNNECTED},ARPROVING:{ApproveSubmit:a.APPROV_TO_CONFIRM,Reset:a.UNCONNNECTED},APPROV_TO_CONFIRM:{ApproveConfirmed:a.ACTIVATED,Reset:a.UNCONNNECTED},LOCKED:{Unlock:a.ACTIVATED,Reset:a.UNCONNNECTED},ACTIVATED:{Lock:a.LOCKED,Reset:a.UNCONNNECTED}}}}},445:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));n(4),n(23),n(988),n(86),n(1892),n(229);var a=n(1893);n(189),n(444),n(537);function r(e){var t=new a.a(e);return t.pollingInterval=1e4,t}function c(e){if(e&&void 0!==e&&null!==e&&""!==e.trim())return e.substr(0,6)+"..."+e.substr(e.length-4);console.log("getShortAddr got empty!")}},446:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return T})),n.d(t,"a",(function(){return C}));var a,r=n(68),c=n(1),o=n.n(c),i=n(207),s=n(107),u=n(141),l=n(0);!function(e){e.Click="click",e.Scroll="scroll",e.Mouseover="mouseover"}(a||(a={}));var d=[a.Click,a.Scroll],b=Object(r.debounce)((function(){i.a.checkTimeout(!0)}),100),f=function(e){var t=e.children;return Object(u.g)(),Object(u.h)(),Object(u.i)(),Object(u.d)(),Object(u.c)(),Object(u.e)(),Object(u.f)(),Object(s.b)(),Object(c.useEffect)((function(){return d.forEach((function(e){document.addEventListener(e,b)})),function(){d.forEach((function(e){document.removeEventListener(e,b)}))}}),[]),Object(l.jsx)(o.a.Fragment,{children:t})},p=n(6),m=n(298),j=n(927),O=n(189),v=n(172),h=n(159),g=n(121),x=n(11),A=n(46),y=n(42);var k=Object(m.a)("div",{target:"e1vtmr5h1"})({name:"17nbj0f",styles:"display:flex;align-items:center;justify-content:center;height:20rem"}),w=Object(m.a)("h2",{target:"e1vtmr5h0"})("color:",(function(e){return e.theme.colorBase.error}),";");function T(e){var t=e.children,n=Object(j.a)().t,a=Object(O.d)().active,r=Object(O.d)(x.k),o=r.active,i=r.error,s=r.activate,u=Object(h.b)();Object(c.useEffect)((function(){!u||o||i||a||s(v.d)}),[u,o,i,s,a]);var d=Object(A.b)();Object(h.d)((function(){console.log("onReConnectInjected"),d(Object(g.b)(void 0)),d(Object(g.e)(y.b.UNCONNNECTED))}),!u);var b=Object(c.useState)(!1),f=Object(p.a)(b,2),m=f[0],T=f[1];return Object(c.useEffect)((function(){var e=setTimeout((function(){T(!0)}),600);return function(){clearTimeout(e)}}),[]),u?!a&&i?Object(l.jsx)(k,{children:Object(l.jsx)(w,{children:n("unknownError")})}):a||o?t:m?Object(l.jsx)(k,{}):null:null}var C=function(e){e.children;return Object(l.jsx)(o.a.Fragment,{children:null})}},536:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=new(n(999).a),r={sendTicker:function(e){return a.next({tickerMap:e})},onSocket:function(){return a.asObservable()}}},539:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c.d}));var a=n(2),r=n(46),c=n(224);function o(){var e=Object(r.c)((function(e){return e.tickerMap})),t=Object(r.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(c.d.actions.statusUnset(void 0))},updateTickers:function(e){t(c.d.actions.getTickers({tickerKeys:e}))},updateTicker:function(e){t(c.d.actions.getTicker({tickerKey:e}))}})}},55:function(e,t,n){"use strict";var a=n(37),r=n(201),c=n(82),o=(n(46),n(666)),i=n(971),s=n(972),u=Object(c.b)("global/updateVersion"),l=n(121),d=n(193),b=function(){return(new Date).getTime()},f={},p=Object(c.c)({name:"transactions",initialState:f,reducers:{reset:function(e){Object.assign(e,f)},addTransaction:function(e,t){var n,a,r=t.payload,c=r.chainId,o=r.from,i=r.hash,s=r.approval,u=r.summary,l=r.claim;if(null===(n=e[c])||void 0===n?void 0:n[i])throw Error("the existing TX can't be added again");(null!==(a=e[c])&&void 0!==a?a:{})[i]={hash:i,approval:s,summary:u,claim:l,from:o,addedTime:b()}},clearAllTransactions:function(e,t){var n=t.payload;e[n]&&(e[n]={})},checkedTransaction:function(e,t){var n,a=t.payload,r=a.chainId,c=a.hash,o=a.blockNumber,i=null===(n=e[r])||void 0===n?void 0:n[c];i&&(i.lastCheckedBlockNumber?i.lastCheckedBlockNumber=Math.max(o,i.lastCheckedBlockNumber):i.lastCheckedBlockNumber=o)},finalizeTransaction:function(e,t){var n,a=t.payload,r=a.chainId,c=a.hash,o=a.receipt,i=null===(n=e[r])||void 0===n?void 0:n[c];i&&(i.receipt=o,i.confirmedTime=b())}}}),m=p.actions,j=(m.reset,m.addTransaction,m.clearAllTransactions,m.checkedTransaction,m.finalizeTransaction,p),O=n(26),v=n(2),h=n(57),g=Object(c.c)({name:"ammTrades",initialState:{ammTrades:[],status:"UNSET",errorMessage:null},reducers:{getAmmTrades:function(e,t){e.status=h.a.PENDING},getAmmTradesStatus:function(e,t){t.error&&(e.status=h.a.ERROR,e.errorMessage=t.error),e.ammTrades=Object(v.a)({},t.payload.ammTrades),e.status=h.a.DONE},statusUnset:function(e){e.status=h.a.UNSET}}}),x=g.actions,A=x.getAmmTrades,y=x.getAmmTradesStatus;x.statusUnset;var k=n(126),w=n(381),T=n(4),C=n.n(T),_=n(23),E=n(39),I=n(270),S=n(61),N=C.a.mark(D),P=C.a.mark(M),R=function(){var e=Object(_.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S.a.ammpoolAPI){e.next=8;break}return e.next=3,S.a.ammpoolAPI.getAmmPoolActivityRules();case 3:return t=e.sent,n=t.groupByRuleTypeAndStatus,e.abrupt("return",{data:n});case 8:return e.abrupt("return",{data:void 0});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function D(){var e,t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(E.b)(R);case 3:return e=n.sent,t=e.data,n.next=7,Object(E.d)(Object(I.c)({ammActivityMap:t}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(E.d)(Object(I.c)(n.t0));case 13:case"end":return n.stop()}}),N,null,[[0,9]])}function M(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(I.b,D)]);case 2:case"end":return e.stop()}}),P)}var U=n(6),L=n(187),B=n(11),F=n(65),K=C.a.mark(q),W=C.a.mark(z),V=C.a.mark(X),G=C.a.mark(J),Y=function(e){var t=e.ammPoolState,n=e.keyPair,a=wt.getState().tokenMap.idIndex,r=n.match(/(\w+)-(\w+)/i),c=Object(U.a)(r,3),o=c[1],i=c[2],s=wt.getState().system,u=s.forex,l=s.faitPrices;if(a&&o&&i&&l&&u){var d={amountDollar:parseFloat(t.liquidityUSD),amountYuan:parseFloat(t.liquidityUSD)/(u||6.5),totalLPToken:Object(F.a)("LP-"+n,t.lpLiquidity),totalA:Object(F.a)(o,t.liquidity[0]),totalB:Object(F.a)(i,t.liquidity[1]),rewardValue:t.rewards[0]?Object(F.a)(a[t.rewards[0].tokenId],t.rewards[0].volume):void 0,rewardToken:t.rewards[0]?a[t.rewards[0].tokenId]:void 0,rewardValue2:t.rewards[1]?Object(F.a)(a[t.rewards[1].tokenId],t.rewards[1].volume):void 0,rewardToken2:t.rewards[1]?a[t.rewards[1].tokenId]:void 0},b=Object(F.b)(o,t.fees[0]),f=Object(F.b)(i,t.fees[1]),p=Object(B.G)(b||0).times(l[o].price).plus(Object(B.G)(f||0).times(l[i].price)),m=p.times(u);return Object(v.a)(Object(v.a)({},d),{},{feeA:null===b||void 0===b?void 0:b.toNumber(),feeB:null===f||void 0===f?void 0:f.toNumber(),feeDollar:p.toNumber(),feeYuan:m.toNumber(),tradeFloat:{percent:"",timeUnit:"24h",APY:1*parseInt(t.apyBips)/100},APY:1*parseInt(t.apyBips)/100})}},H=function(){var e=Object(_.a)(C.a.mark((function e(t){var n,a,r,c,o,i,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ammpools,a={},e.next=4,Object(S.b)().getAmmPoolStats();case 4:return r=e.sent,c=r.ammPoolStats,(o=wt.getState().amm.ammMap.__timer__)&&-1!==o&&clearInterval(o),o=setInterval(Object(_.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)().getAmmPoolStats();case 2:t=e.sent.ammPoolStats,wt.dispatch(Object(L.d)({ammPoolStats:t}));case 4:case"end":return e.stop()}}),e)}))),9e5),i=wt.getState(),s=i.tokenMap,s.coinMap,u=s.idIndex,Reflect.ownKeys(n).forEach(function(){var e=Object(_.a)(C.a.mark((function e(t){var r,o,i,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=n[t]).market===t&&r.tokens.pooled&&u&&(o=u[r.tokens.pooled[0]],i=u[r.tokens.pooled[1]],s=Object(v.a)(Object(v.a)({coinA:o,coinB:i,isNew:!(Date.now()-Number(r.createdAt)>2592e5),isActivity:7===r.status,address:r.address},Y({ammPoolState:c[t],keyPair:"".concat(o,"-").concat(i)})),{},{__rawConfig__:r}),a[r.market]=s);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",{ammMap:a,__timer__:o});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function q(e){var t,n,a,r,c;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.prev=1,n=t.ammpools,o.next=5,Object(E.b)(H,{ammpools:n});case 5:return a=o.sent,r=a.ammMap,c=a.__timer__,console.log("--- getPostsSaga:",r),o.next=11,Object(E.d)(Object(L.c)({ammMap:r,__timer__:c}));case 11:o.next=17;break;case 13:return o.prev=13,o.t0=o.catch(1),o.next=17,Object(E.d)(Object(L.c)(o.t0));case 17:case"end":return o.stop()}}),K,null,[[1,13]])}function z(e){var t,n,a;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,n=t.ammPoolStats,a=wt.getState().amm.ammMap.ammMap,n&&Reflect.ownKeys(n).map((function(e){var t=e.replace("AMM-","");return a[e]=Object(v.a)(Object(v.a)({},a[e]),Y({ammPoolState:n[e],keyPair:t})),a})),r.next=7,Object(E.d)(Object(L.c)({ammMap:a}));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(E.d)(Object(L.c)(r.t0));case 13:case"end":return r.stop()}}),W,null,[[1,9]])}function X(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(L.b,q)]);case 2:case"end":return e.stop()}}),V)}function J(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(L.d,z)]);case 2:case"end":return e.stop()}}),G)}var Q=[Object(E.c)(X),Object(E.c)(J)],Z=C.a.mark(te),$=C.a.mark(ne),ee=function(){return new Promise((function(e){e([{side:"Buy",amount:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}},time:Date.now(),fee:.02,priceValue:.123,priceToken:"LRC"},{side:"Buy",amount:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}},time:Date.now(),fee:.02,priceValue:.123,priceToken:"LRC"}])}))};function te(){var e,t,n;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(E.b)(ee);case 3:return e=a.sent,t=e.data,n=t,a.next=8,Object(E.d)(y(n));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(E.d)(y(a.t0));case 14:case"end":return a.stop()}}),Z,null,[[0,10]])}function ne(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(A,te)]);case 2:case"end":return e.stop()}}),$)}var ae=Object(r.b)({ammTrades:g.reducer,ammMap:k.a.reducer,ammActivityMap:w.a.reducer}),re=[Object(E.c)(M)].concat(Object(a.a)(Q),[Object(E.c)(ne)]),ce=n(148),oe=n(14),ie=n(271),se=n(203),ue=C.a.mark(be),le=C.a.mark(fe),de=function(){var e=Object(_.a)(C.a.mark((function e(t){var n,a,r,c,o,i,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tokensMap,a=t.pairs,r=t.marketArr,c=t.tokenArr,o={},i=n,s={},u={},Reflect.ownKeys(n).forEach((function(e){e.startsWith("LP-")||(o[e]={icon:Object(se.b)(e,n),name:e,simpleName:e,description:"",company:""}),a[e]&&a[e].tokenList&&(n[e].tradePairs=a[e].tokenList),s=Object(v.a)(Object(v.a)({},s),{},Object(oe.a)({},n[e].address,e)),u=Object(v.a)(Object(v.a)({},u),{},Object(oe.a)({},n[e].tokenId,e))})),e.abrupt("return",{data:{coinMap:o,addressIndex:s,idIndex:u,tokenMap:i,marketArray:r,marketCoins:c}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function be(e){var t,n,a,r,c,o,i,s;return C.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,u.prev=1,n=t.tokensMap,a=t.marketMap,r=t.pairs,c=t.marketArr,o=t.tokenArr,u.next=5,Object(E.b)(de,{tokensMap:n,pairs:r,marketArr:c,tokenArr:o});case 5:return i=u.sent,s=i.data,u.next=9,Object(E.d)(Object(ie.b)(Object(v.a)(Object(v.a)({},s),{},{marketMap:a})));case 9:u.next=15;break;case 11:return u.prev=11,u.t0=u.catch(1),u.next=15,Object(E.d)(Object(ie.b)(u.t0));case 15:case"end":return u.stop()}}),ue,null,[[1,11]])}function fe(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(ie.a,be)]);case 2:case"end":return e.stop()}}),le)}var pe=[Object(E.c)(fe)],me=n(224),je=n(28),Oe=C.a.mark(xe),ve=C.a.mark(Ae),he=C.a.mark(ye),ge=function(){var e=Object(_.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,Object(S.c)().getTicker({market:t.join(",")});case 3:return a=e.sent,console.log(">>>tickMap:",a.tickMap),a.tickMap.forEach((function(e,t){console.log(">>>base_token_volume:",e.base_token_volume),n[t]={timeUnit:"24h",priceDollar:0,priceYuan:0,volume:Object(B.G)(e.base_token_volume).toNumber(),floatTag:e.close>e.open?"increase":"decrease",APY:0,reward:0,rewardToken:""}})),e.abrupt("return",{data:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function xe(e){var t,n,a,r,c;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload,o.prev=1,n=t.tickerKey,a=t.tickerKeys,console.log("getPostsSaga tickerKey",n,a),!(n||a&&a.length)){o.next=13;break}return o.next=7,Object(E.b)(ge,n?[n]:a);case 7:return r=o.sent,c=r.data,o.next=11,Object(E.d)(Object(me.b)({tickerMap:c}));case 11:o.next=14;break;case 13:throw new je.c(je.e.NO_TOKEN_KEY_LIST);case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(1),o.next=20,Object(E.d)(Object(me.b)(o.t0));case 20:case"end":return o.stop()}}),Oe,null,[[1,16]])}function Ae(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(me.a,xe)]);case 2:case"end":return e.stop()}}),ve)}function ye(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(me.c,xe)]);case 2:case"end":return e.stop()}}),he)}var ke=[Object(E.c)(Ae),Object(E.c)(ye)],we=n(250),Te=n(251),Ce=C.a.mark(Se),_e=C.a.mark(Ne),Ee=C.a.mark((function e(t){var n,a,r,c,o,i,s,u,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wt.dispatch(Object(l.b)(void 0)),e.next=3,Object(E.b)(Object(_.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=S.a.exchangeAPI)||void 0===t?void 0:t.getTokens();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:return n=e.sent,a=n.tokenSymbolMap,e.next=7,Object(E.b)(Object(_.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=S.a.ammpoolAPI)||void 0===t?void 0:t.getAmmPoolConf();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 7:return r=e.sent,c=r.ammpools,e.next=11,Object(E.b)(Object(_.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=S.a.exchangeAPI)||void 0===t?void 0:t.getMixMarkets());case 1:case"end":return e.stop()}}),e)}))));case 11:return o=e.sent,i=o.pairs,s=o.marketArr,u=o.tokenArr,d=o.markets,wt.dispatch(Object(ce.a)({tokensMap:a,marketMap:d,pairs:i,marketArr:s,tokenArr:u})),e.next=19,Object(E.e)("tokenMap/getTokenMapStatus");case 19:wt.dispatch(Object(k.b)({ammpools:c})),wt.dispatch(Object(w.b)({ammpools:c})),wt.getState().tokenMap.status;case 22:case"end":return e.stop()}}),e)})),Ie=function(){var e=Object(_.a)(C.a.mark((function e(t){var n,a,r,c,o,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="localhost"===window.location.hostname?Te.a.DEV:B.e.GORLI===t?Te.a.UAT:Te.a.PROD,(t=B.e.GORLI===t?B.e.GORLI:B.e.MAINNET===t?B.e.MAINNET:Te.b.NONETWORK)!==Te.b.NONETWORK){e.next=6;break}throw new je.c(je.e.NO_NETWORK_ERROR);case 6:if(S.a.InitApi(t),!S.a.exchangeAPI){e.next=20;break}return e.next=10,S.a.exchangeAPI.getFiatPrice({legal:"CNY"});case 10:return a=e.sent.fiatPrices,e.next=13,Object(S.c)().getGasPrice();case 13:return e.t0=e.sent.gasPrice,r=e.t0/1e9,c=B.e.MAINNET===t?"https://api3.loopring.io":"https://uat2.loopring.io",o=a.USDT.price,i=function(e){return e&&-1!==e&&clearInterval(e),setInterval(Object(_.a)(C.a.mark((function e(){var t,n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)().getFiatPrice({legal:"CNY"});case 2:return t=e.sent.fiatPrices,e.next=5,Object(S.c)().getGasPrice();case 5:e.t0=e.sent.gasPrice,n=e.t0/1e9,a=t.USDT,wt.dispatch(Object(k.c)(void 0)),wt.dispatch(Object(we.c)({faitPrices:t,gasPrice:n,forex:a}));case 10:case"end":return e.stop()}}),e)}))),3e5)}(i=wt.getState().system.__timer__),e.abrupt("return",{chainId:t,env:n,baseURL:c,faitPrices:a,gasPrice:r,forex:o,__timer__:i});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Se(e){var t,n,a,r,c,o,i,s,u;return C.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,l.prev=1,n=t.chainId,l.next=5,Object(E.b)(Ie,n);case 5:return a=l.sent,r=a.env,c=a.baseURL,o=a.faitPrices,i=a.gasPrice,s=a.forex,u=a.__timer__,l.next=14,Object(E.d)(Object(we.a)({env:r,baseURL:c,faitPrices:o,gasPrice:i,forex:s,__timer__:u}));case 14:return l.next=16,Object(E.b)(Ee,n);case 16:l.next=22;break;case 18:return l.prev=18,l.t0=l.catch(1),l.next=22,Object(E.d)(Object(we.a)(l.t0));case 22:case"end":return l.stop()}}),Ce,null,[[1,18]])}function Ne(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(we.e,Se)]);case 2:case"end":return e.stop()}}),_e)}var Pe=[Object(E.c)(Ne)],Re=n(252),De=C.a.mark(Le),Me=C.a.mark(Be),Ue=function(){var e=Object(_.a)(C.a.mark((function e(){var t,n,a,r,c,o,i,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(S.c)(),n=wt.getState().account,a=n.accAddr,n.accountId,r=wt.getState().tokenMap,c=r.tokenMap,o=r.marketCoins,e.next=5,t.getTokenBalances({owner:a,token:o.join()},c);case 5:return i=e.sent,(s=i.tokenBalances)&&(u=Reflect.ownKeys(s).reduce((function(e,t){return Object(v.a)(Object(v.a)({},e),{},Object(oe.a)({},t,{belong:t,count:Object(se.a)(c,t,s[t])}))}),{})),e.abrupt("return",{walletLayer1:u});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Le(){var e,t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(E.b)(Ue);case 3:return e=n.sent,t=e.walletLayer1,n.next=7,Object(E.d)(Object(Re.a)({walletLayer1:t}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(E.d)(Object(Re.a)(n.t0));case 13:case"end":return n.stop()}}),De,null,[[0,9]])}function Be(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(Re.c,Le)]);case 2:case"end":return e.stop()}}),Me)}var Fe=[Object(E.c)(Be)],Ke=n(253),We=C.a.mark(Ye),Ve=C.a.mark(He),Ge=function(){var e=Object(_.a)(C.a.mark((function e(){var t,n,a,r,c,o,i,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(S.d)(),n=wt.getState().account,a=n.accountId,r=n.apiKey,c=wt.getState().tokenMap,c.tokenMap,o=c.idIndex,c.marketCoins,!r||!a){e.next=9;break}return e.next=6,t.getUserBalances({accountId:a,tokens:""},r);case 6:s=e.sent,(u=s.userBalances)&&(i=Reflect.ownKeys(u).reduce((function(e,t){return Object(v.a)(Object(v.a)({},e),{},Object(oe.a)({},o[t],u[Number(t)]))}),{}));case 9:return e.abrupt("return",{walletLayer2:i});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ye(){var e,t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(E.b)(Ge);case 3:return e=n.sent,t=e.walletLayer2,n.next=7,Object(E.d)(Object(Ke.a)({walletLayer2:t}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(E.d)(Object(Ke.a)(n.t0));case 13:case"end":return n.stop()}}),We,null,[[0,9]])}function He(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(Ke.c,Ye)]);case 2:case"end":return e.stop()}}),Ve)}var qe=[Object(E.c)(He)],ze=n(254),Xe=C.a.mark(Ze),Je=C.a.mark($e),Qe=function(){var e=Object(_.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=wt.getState().account.accountId,a=wt.getState().userRewardsMap.__timer__,!S.a.ammpoolAPI){e.next=7;break}return a=function(e){return e&&-1!==e&&clearInterval(e),setTimeout(Object(_.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wt.dispatch(Object(ze.a)(void 0));case 1:case"end":return e.stop()}}),e)}))),12e5)}(a),e.abrupt("return",S.a.ammpoolAPI.getAmmPoolUserRewards({owner:n}).then((function(e){return{data:e.ammUserRewardMap,__timer__:a}})));case 7:return e.abrupt("return",Promise.reject({data:void 0,__timer__:a}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ze(e){var t,n,a;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.payload,r.prev=1,r.next=4,Object(E.b)(Qe);case 4:return t=r.sent,n=t.data,a=t.__timer__,r.next=9,Object(E.d)(Object(ze.b)({userRewardsMap:n,__timer__:a}));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(E.d)(Object(ze.b)(r.t0));case 15:case"end":return r.stop()}}),Xe,null,[[1,11]])}function $e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(ze.a,Ze)]);case 2:case"end":return e.stop()}}),Je)}var et=[Object(E.c)($e)],tt=n(188),nt=n(667),at=C.a.mark(it),rt=C.a.mark(st),ct=C.a.mark(ut),ot=C.a.mark(lt);function it(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(E.b)(nt.a);case 3:return e.next=5,Object(E.d)(Object(tt.a)(void 0));case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(E.d)(Object(tt.a)(e.t0));case 11:case"end":return e.stop()}}),at,null,[[0,7]])}function st(e){var t,n,a;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,n=wt.getState().system.chainId,a=t.socket,r.next=6,Object(E.b)(nt.b,{chainId:n,socket:a});case 6:return r.next=8,Object(E.d)(Object(tt.a)(void 0));case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,Object(E.d)(Object(tt.a)(r.t0));case 14:case"end":return r.stop()}}),rt,null,[[1,10]])}function ut(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(tt.c,it)]);case 2:case"end":return e.stop()}}),ct)}function lt(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.f)(tt.b,st)]);case 2:case"end":return e.stop()}}),ot)}var dt=[Object(E.c)(ut),Object(E.c)(lt)],bt=C.a.mark(ft);function ft(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([].concat(Object(a.a)(pe),Object(a.a)(Fe),Object(a.a)(qe),Object(a.a)(Pe),Object(a.a)(re),Object(a.a)(ke),Object(a.a)(et),Object(a.a)(dt)));case 2:case"end":return e.stop()}}),bt)}var pt=ft,mt=n(539),jt=n(296),Ot=n(305),vt=n(186),ht=n(382),gt=n(244),xt=Object(i.a)(),At=Object(r.b)({account:l.a.reducer,socket:ht.a.reducer,settings:O.eb.reducer,system:jt.a.reducer,trading:d.a.reducer,transactions:j.reducer,modals:O.V.reducer,userRewardsMap:gt.b.reducer,amm:ae,tokenMap:ce.b.reducer,walletLayer2:vt.d.reducer,walletLayer1:Ot.c.reducer,tickerMap:mt.a.reducer}),yt=["settings"],kt=Object(c.a)({reducer:At,middleware:[].concat(Object(a.a)(Object(c.d)({thunk:!1,serializableCheck:!1})),[Object(o.save)({states:yt}),xt]),devTools:!1,enhancers:[s.reduxBatch],preloadedState:Object(o.load)({states:yt})});kt.dispatch(u()),kt.dispatch(Object(O.W)(kt.getState().settings.language)),xt.run(pt,kt.dispatch);var wt=t.a=kt},57:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.UNSET="UNSET",e.PENDING="PENDING",e.ERROR="ERROR",e.DONE="DONE"}(a||(a={}))},61:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var a=n(10),r=n(11),c=n(141),o=function(){return new r.o(Object(c.a)())},i=function(){return new r.i(Object(c.a)())},s=function(){return new r.c(Object(c.a)())},u=function e(){Object(a.a)(this,e)};u.userAPI=void 0,u.exchangeAPI=void 0,u.ammpoolAPI=void 0,u.walletAPI=void 0,u.wsAPI=void 0,u.InitApi=function(e){u.userAPI=new r.o(e),u.exchangeAPI=new r.i(e),u.ammpoolAPI=new r.c(e),u.walletAPI=new r.q(e),u.wsAPI=new r.r(e)}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(55),r=n(11),c=n(112),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a.getState().tokenMap.tokenMap,r=i(e,t,n);return r?r.toNumber():void 0},i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a.getState().tokenMap.tokenMap;if(n&&n[e]&&"undefined"!==typeof t)try{return Object(r.G)(t).div(c.c.pow(n[e].decimals))}catch(o){throw o}}},667:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return A}));var a,r,c=n(37),o=n(6),i=n(4),s=n.n(i),u=n(23),l=n(2),d=n(14),b=n(11),f=n(61),p=n(55),m=n(296),j=n(536),O=n(973);!function(e){e.pingpong="pingpong",e.account="account",e.order="order",e.orderbook="orderbook",e.trade="trade",e.ticker="ticker",e.candlestick="candlestick",e.ammpool="ammpool"}(r||(r={}));var v={fn:function(t){"ping"===t.data&&e.looperingSocket.send("pong")}};window.socketEventMap=Object(d.a)({},b.s,v);var h=function(){var e=window||globalThis;return!(!e.looperingSocket||!e.looperingSocket.send)},g=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window||globalThis,!(n=t.loopringSocket)){e.next=8;break}return a=new Promise((function(e,t){n.onclose=function(t){e("Socket is closed, ".concat(t.reason))}})),n.close(),e.abrupt("return",a);case 8:Promise.resolve("no websocket");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,a,r,c,i,u,l,d,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chainId,a=t.socket,"unknown"===n||!f.a.wsAPI||!a){e.next=11;break}return r=n===b.e.GORLI?"uat2.loopring.io":"api3.loopring.io",e.next=5,f.a.wsAPI.getWsKey();case 5:c=e.sent,i=c.wsKey,u="wss://ws.".concat(r,"/v3/ws?wsApiKey=").concat(i),p.a.dispatch(Object(m.b)({socketURL:u})),l=window||globalThis;try{d=new WebSocket(u),l.looperingSocket=d,d.onopen=function(){console.log("WebSocket is open now.")},d.onmessage=function(e){console.log("Message:",e.data);var t=e.data;if("string"===typeof t)window.socketEventMap.pingPong.fn.call(window.socketEventMap.pingPong.deps,e);else{var n=Object(o.a)(t.topic,1)[0],a=t.data;if(n){var r=window.socketEventMap[n],c=r.fn,i=r.deps;"function"==typeof c&&c.call(i,a)}}},d.onclose=function(e){console.log("Socket is closed. Reconnect will be attempted in 1 second.",e.reason),setTimeout((function(){x.call(l,n)}),1e3)},d.onerror=function(e){console.error("Socket encountered error: ","Closing socket"),d.close(WebSocket.CLOSED)}}catch(s){console.log("connect error, not from reconnect"),(j=window||globalThis).__wsTimer__?(j.__wsTimer__.timer&&-1!==j.__wsTimer__.timer&&clearTimeout(j.__wsTimer__.timer),j.__wsTimer__.timer=-1,j.__wsTimer__.count++):j.__wsTimer__={timer:-1,count:0},j.__wsTimer__.count<5?j.__wsTimer__.timer=setTimeout((function(){x.call(j,n)}),1e3*j.__wsTimer__.count):d.onclose()}case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.socket,t.chainId,n&&Reflect.ownKeys(n).length?(void(window.socketEventMap=Object(d.a)({},r.pingpong,v)),y(),h()?(window||globalThis).looperingSocket.send():x({socket:n})):h()||g();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=e.socket,n=[],a=[];return Reflect.ownKeys(t).map((function(e){switch(e){case r.account:(a=t[r.account].map((function(e){return Object(b.x)(e)})))&&a.length&&(k(r.account),n=[].concat(Object(c.a)(n),Object(c.a)(a)));break;case r.order:(a=t[r.order].map((function(e){return Object(b.C)(e)})))&&a.length&&(k(r.order),n=[].concat(Object(c.a)(n),Object(c.a)(a)));break;case r.orderbook:(a=t[r.orderbook].map((function(e){return Object(b.D)(e)})))&&a.length&&(k(r.orderbook),n=[].concat(Object(c.a)(n),Object(c.a)(a)));break;case r.trade:(a=t[r.trade].map((function(e){return getTradeArg(e)})))&&a.length&&(k(r.trade),n=[].concat(Object(c.a)(n),Object(c.a)(a)));break;case r.ticker:(a=t[r.ticker].map((function(e){return getTickerArg(e)})))&&a.length&&(k(r.ticker),n=[].concat(Object(c.a)(n),Object(c.a)(a)));break;case r.candlestick:(a=t[r.candlestick].map((function(e){return getCandlestickArg(e)})))&&a.length&&(k(r.candlestick),n=[].concat(Object(c.a)(n),Object(c.a)(a)));break;case r.ammpool:(a=t[r.ammpool].map((function(e){return getAmmpoolArg(e)})))&&a.length&&(k(r.ammpool),n=[].concat(Object(c.a)(n),Object(c.a)(a)))}return n}))},k=function(e){var t,n;t=e,n={fn:w[e]},window.socketEventMap=Object(l.a)(Object(l.a)({},window.socketEventMap),{},Object(d.a)({},t,n))},w=(a={},Object(d.a)(a,r.account,(function(e){})),Object(d.a)(a,r.order,(function(e){})),Object(d.a)(a,r.orderbook,(function(e){})),Object(d.a)(a,r.trade,(function(e){})),Object(d.a)(a,r.ticker,(function(e){var t=Object(o.a)(e,11),n=t[0],a=t[1],r=t[2],c=t[3],i=t[4],s=t[5],u=t[6],l=t[7],d=t[8],b=t[9],f=t[10];j.a.sendTicker({market:n,timestamp:a,size:r,volume:c,open:i,high:s,low:u,close:l,count:d,bid:b,ask:f})})),Object(d.a)(a,r.candlestick,(function(e){})),Object(d.a)(a,r.ammpool,(function(e){var t=Object(o.a)(e,5),n=t[0],a=t[1],r=t[2],c=Object(o.a)(t[3],2),i=c[0],s=c[1],u=t[4];O.a.sendAmmPool({poolName:n,poolAddress:a,pooled:r,lp:{tokenId:i,volume:s},risky:u})})),a)}).call(this,n(67))},670:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(12),r=n(927),c=n(1964),o=n(458),i=n(2028),s=n(101),u=n(2029),l=n(18);n(255);var d,b=n(0),f=Object(l.a)(o.a)(d||(d=Object(a.a)(["\n  background-image: url('./static/images/error_bg.png');\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: bottom;\n  white-space: pre-wrap;\n  //h2{\n  //  position: relative;\n  //}\n"]))),p=function(e){var t=e.messageKey,n=Object(r.a)("error").t;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(f,{flex:1,display:"flex",alignItems:"flex-start",justifyContent:"center",flexDirection:"column",marginTop:4,height:680,maxWidth:1200,children:Object(b.jsxs)(o.a,{textAlign:"center",position:"relative",left:128,top:-64,children:[Object(b.jsx)(s.a,{component:"h2",variant:"h2",children:n(t)}),Object(b.jsx)(s.a,{marginY:2,component:"p",variant:"body1",color:"textSecondary",children:Object(b.jsxs)(c.a,{i18nKey:"labelConnectUs",children:["If you believe this is indeed a bug, please ",Object(b.jsx)(u.a,{component:"a",onClick:function(e){window.location.href=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"report to loopring website",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Body Content",a=null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL_UAT:"uat2.loopring.io",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB",REACT_APP_RPC_URL_1:"https://mainnet.eth.loopring.network",REACT_APP_API_URL:"api3.loopring.io"}).CONTACT_US_EMAIL)&&void 0!==e?e:"contact@loopring.io";return"mailto:".concat(a,"?subject=").concat(t,"&body=").concat(n)}(),e.preventDefault()},children:"contact us"})," ",Object(b.jsx)("br",{})," We would appreciate your feedback"]})})]})})})})}},81:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u}));var a=n(11),r=n(46),c=n(1);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.h,n=Object(r.c)((function(e){return e.trading})),o=n.chainId,i=function(){if(o)return new e(o,t)},s=Object(c.useMemo)(i,[e,o,t]);return s}function i(){return o(a.i)}function s(){return o(a.c)}function u(){return o(a.o)}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1904);function r(e,t){Object(a.a)(e,[t||{}])}},973:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=new(n(999).a),r={sendAmmPool:function(e){return a.next({ammPoolMap:e})},onSocket:function(){return a.asObservable()}}},985:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(4),r=n.n(a),c=n(23),o=n(6),i=n(1),s=n.n(i),u=n(986),l=n.n(u),d=n(90),b=n(296),f=n(11),p=n(126),m=n(148),j=n(382);function O(){var e=s.a.useState("PENDING"),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(b.c)(),u=Object(m.c)(),O=Object(p.d)();Object(j.b)();return Object(d.a)(Object(c.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){console.log("handleChainChanged chainId: ",e),i.updateSystem({chainId:e}),window.location.reload()},e.next=3,l()();case 3:if(!(n=e.sent)){e.next=14;break}return e.t0=Number,e.next=8,n.request({method:"eth_chainId"});case 8:e.t1=e.sent,a=(0,e.t0)(e.t1),n.on("chainChanged",(function(){t(a)})),i.updateSystem({chainId:a}),e.next=16;break;case 14:i.updateSystem({chainId:f.e.MAINNET}),console.log("web3 is not found");case 16:case"end":return e.stop()}}),e)}))),[]),s.a.useEffect((function(){switch(i.status){case"ERROR":i.statusUnset(),a("ERROR");break;case"DONE":i.statusUnset()}}),[i]),s.a.useEffect((function(){"ERROR"===O.status||"ERROR"===u.status?(O.statusUnset(),u.statusUnset(),a("ERROR")):"DONE"===O.status&&"DONE"===u.status&&(O.statusUnset(),u.statusUnset(),a("DONE"))}),[O,u]),{state:n}}},987:function(e,t,n){"use strict";var a,r,c,o,i=n(136),s=n(97),u=n(2),l=n(6),d=n(1),b=n.n(d),f=n(26),p=n(28),m=n(2007),j=n(2002),O=n(1900),v=n(4),h=n.n(v),g=n(23),x=n(927),A=n(107),y=n(445),k=n(42),w=n(90);!function(e){e.dark="dark",e.light="light"}(a||(a={})),function(e){e.en="en_US",e.cn="zh_CN"}(r||(r={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ERROR=1]="ERROR",e[e.UNKNOWN=2]="UNKNOWN"}(c||(c={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.WALLET=2]="WALLET"}(o||(o={}));var T=n(55),C=n(11),_=n(101),E=n(159),I=n(46);function S(){var e=Object(I.b)(),t=Object(x.a)("common").t;return{ShowDeposit:Object(d.useCallback)((function(n){var a=T.a.getState().account.status===k.b.NOACCOUNT;console.log("isNoAccount: ",a,t("depositTitleAndActive"));var r={isShow:n,props:{title:t(a?"depositTitleAndActive":"depositTitle"),description:"depositAndActiveDescription"}};e(Object(f.Z)(r))}),[e,t]),ShowTransfer:Object(d.useCallback)((function(t){return e(Object(f.bb)({isShow:t}))}),[e]),ShowWithdraw:Object(d.useCallback)((function(t){return e(Object(f.cb)({isShow:t}))}),[e]),ShowResetAccount:Object(d.useCallback)((function(t){return e(Object(f.ab)({isShow:t}))}),[e])}}var N=n(339),P=n.n(N),R=n(81),D=n(203);function M(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"PromiseJob",r=!0,c=function(){e()&&e().then((function(e){r?t(n?e[n]:e):console.log(a+" unmounted!")})).catch((function(e){console.error(e)}))},o=function(){r=!1};return{handler:c,cleanUp:o}}function U(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=M(e,t,n,a),o=c.handler,i=c.cleanUp;Object(d.useEffect)((function(){return o(),function(){return i()}}),r)}function L(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(R.b)();return U((function(){if(r)return r.getExchangeInfo()}),a,"exchangeInfo","useGetExchangeInfo",[r]),{exchangeInfo:n}}function B(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(R.b)();return U((function(){if(r)return r.getTokens()}),a,void 0,"useGetTokens",[r]),{tokens:n}}var F=n(0);function K(e){var t=function(e){var t=Object(R.c)(),n=Object(d.useState)(void 0),a=Object(l.a)(n,2),r=a[0],c=a[1],o=Object(A.a)(),i=o.apiKey,s=o.accountId;return Object(w.a)((function(){if(t&&i&&s&&e){var n=[],a=Reflect.ownKeys(e),r={};a.forEach((function(t){var a=e[t];n.push(a.tokenId),r[a.tokenId]=a})),t.getUserBalances({accountId:s,tokens:n.join(",")},i).then((function(e){var t={map:r,tokenId:{},symbol:{}};e.raw_data.forEach((function(e){var n=C.G(e.total),a=C.G(e.locked),c=n.minus(a);console.log("item:",e);var o=r[e.tokenId];t.tokenId[e.tokenId]=c.toString(),t.symbol[o.symbol]=c.toString()})),c(t)})).catch((function(t){Object(C.v)(t,"getUserBalances tokenId:"+e.tokenId)}))}}),[t,i,s,e]),{balances:r,setBalances:c}}(e).balances,n=Object(d.useState)({}),a=Object(l.a)(n,2),r=a[0],c=a[1];return Object(w.a)((function(){var n={};t&&t.symbol&&Reflect.ownKeys(t.symbol).forEach((function(a){var r=t.symbol[a];n[a]={belong:a,count:Object(D.a)(e,a,r)}}));console.log("lv2:",n),c(n)}),[t,e]),{walletMap:r}}function W(e,t){var n=Object(R.c)(),a=Object(A.a)(),r=a.accountId,c=a.apiKey,o=Object(d.useState)([]),i=Object(l.a)(o,2),s=i[0],u=i[1];return Object(w.a)(Object(g.a)(h.a.mark((function a(){var o,i,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("!!!!!!!!!useCustomDCEffect useChargeFeeList:",e,r),r&&e){a.next=3;break}return a.abrupt("return");case 3:return o=[],a.prev=4,i={accountId:r,tokenSymbol:e,requestType:t},a.next=8,n.getOffchainFeeAmt(i,c);case 8:(s=a.sent)&&(s.raw_data.fees.forEach((function(e,t){o.push({belong:e.token,fee:e.fee})})),u(o)),console.log("response:",s),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),Object(C.v)(a.t0);case 16:u(o);case 17:case"end":return a.stop()}}),a,null,[[4,13]])}))),[r,c,e]),{chargeFeeList:s}}function V(){var e=S(),t=e.ShowDeposit,n=e.ShowTransfer,a=e.ShowWithdraw,r=e.ShowResetAccount,c=Object(A.f)(),o=c.chainId,i=c.isConnected,s=c.connector,u=L().exchangeInfo,b=Object(A.a)(),m=b.account,j=b.apiKey,O=b.accountId,v=b.eddsaKey,x=B().tokens,y=null===x||void 0===x?void 0:x.tokenSymbolMap,k=Object(R.c)(),T=Object(R.b)(),_=function(e,t){var n=Object(d.useState)({}),a=Object(l.a)(n,2),r=a[0],c=a[1];return Object(w.a)(Object(g.a)(h.a.mark((function n(){var a,r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t){n.next=2;break}return n.abrupt("return");case 2:a=Reflect.ownKeys(t),r={},a.forEach((function(e){e.startsWith("LP-")||(r[e]={icon:Object(D.b)(e,t),name:e,simpleName:e,description:"",company:""})})),c(r);case 6:case"end":return n.stop()}}),n)}))),[e,t]),{coinMap:r}}(T,y).coinMap,E=function(e,t,n){var a=Object(d.useState)({}),r=Object(l.a)(a,2),c=r[0],o=r[1];return Object(w.a)(Object(g.a)(h.a.mark((function a(){var r,c,i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t&&t.accAddr&&n){a.next=2;break}return a.abrupt("return");case 2:return r={},a.next=5,e.getTokenBalances({owner:t.accAddr,token:""},n);case 5:c=a.sent,i=c.tokenBalances,Reflect.ownKeys(i).forEach((function(e){var t=i[e];r[e]={belong:e,count:Object(D.a)(n,e,t)}})),o(r);case 10:case"end":return a.stop()}}),a)}))),[e,t,n]),{walletMap:c}}(T,m,y).walletMap,I=K(y).walletMap,N=Object(d.useCallback)(function(){var e=Object(g.a)(h.a.mark((function e(t,n){var a,r,c,l,d,b,f,p,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y&&i&&s&&(null===u||void 0===u?void 0:u.exchangeAddress)&&(null===u||void 0===u?void 0:u.depositAddress)){e.next=3;break}return console.log("exchangeInfo:".concat(u," deposit exit!!!!!")),e.abrupt("return");case 3:return e.prev=3,a=y[t],e.next=7,s.getProvider();case 7:return r=e.sent,c=new P.a(r),l=m.connectName===C.f.Injected,l=!0,e.next=13,T.getGasPrice();case 13:return e.t0=e.sent.gasPrice,d=e.t0/1e9,b=35e4,e.next=18,C.B(c,m.accAddr);case 18:return f=e.sent,console.log("gasPrice:",d),console.log("account.connectName:",m.connectName," tokenInfo:",a),e.next=23,C.t(c,m.accAddr,a.address,null===u||void 0===u?void 0:u.depositAddress,d,b,o,f,l);case 23:return p=e.sent,console.log("response:",p),0,e.next=28,C.u(c,m.accAddr,null===u||void 0===u?void 0:u.exchangeAddress,a,n,0,d,b,o,f+1,l);case 28:j=e.sent,console.log("response2:",j),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(3),Object(C.v)(e.t1);case 35:case"end":return e.stop()}}),e,null,[[3,32]])})));return function(t,n){return e.apply(this,arguments)}}(),[o,i,s,m,u,y,T]),M=Object(d.useCallback)(function(){var e=Object(g.a)(h.a.mark((function e(t,n){var a,r,c,i,l,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("withdraw apiKey:",j," exchangeInfo:",u," exchangeAddr:",u.exchangeAddress),m&&m.accountId&&m.accAddr&&s&&o&&j&&u&&u.exchangeAddress){e.next=4;break}return console.log("return directly!!!!!",m,s,o,j,u),e.abrupt("return");case 4:return"5500000000000000000","5500000000000000000",console.log("exchangeAddress:",u.exchangeAddress),e.prev=7,a={accountId:m.accountId,sellTokenId:1},e.next=11,k.getNextStorageId(a,j);case 11:return r=e.sent,c={exchange:u.exchangeAddress,owner:m.accAddr,to:m.accAddr,accountId:m.accountId,storageId:r.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},extraData:"",minGas:0,validUntil:C.p},e.next=15,s.getProvider();case 15:return i=e.sent,l=new P.a(i),e.next=19,k.submitOffchainWithdraw(c,l,o,C.f.Injected,m.eddsaKey,j,!1);case 19:d=e.sent,console.log(d),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),Object(C.v)(e.t0);case 26:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t,n){return e.apply(this,arguments)}}(),[j,m,s,u,o,k]),U=Object(d.useCallback)(function(){var e=Object(g.a)(h.a.mark((function e(t){var n,a,r,c,i,l,d,b,f,p,g=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>1&&void 0!==g[1]?g[1]:"0xb6AdaC3e924B4985Ad74646FEa3610f14cDFB79c",s&&j&&o&&O&&(null===m||void 0===m?void 0:m.accAddr)){e.next=3;break}return e.abrupt("return");case 3:return a={accountId:O,sellTokenId:1},e.next=6,k.getNextStorageId(a,j);case 6:return r=e.sent,console.log("amt: ".concat(t," storageId:").concat(JSON.stringify(r))),e.prev=8,e.next=11,s.getProvider();case 11:return c=e.sent,i=new P.a(c),l=m.connectName,l=C.f.Injected,e.next=17,T.getAccount({owner:n});case 17:return d=e.sent,b=0,d&&(b=d.accInfo.accountId),f={exchange:u.exchangeAddress,payerAddr:m.accAddr,payerId:O,payeeAddr:n,payeeId:b,storageId:r.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},validUntil:C.p},console.log("request2:".concat(JSON.stringify(f))),e.next=24,k.submitInternalTransfer(f,i,o,l,v,j,!1);case 24:p=e.sent,console.log(p),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),Object(C.v)(e.t0);case 31:case"end":return e.stop()}}),e,null,[[8,28]])})));return function(t){return e.apply(this,arguments)}}(),[j,O,m,s,u,o,v,k,T]),F=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),V=Object(l.a)(F,2),G=V[0],Y=V[1],H={tradeData:{belong:void 0},coinMap:_,walletMap:E,depositBtnStatus:f.K.AVAILABLE,onDepositClick:function(e){console.log("1. onDepositClick",G),G&&G.belong&&N(G.belong.toString(),G.tradeValue),t(!1)},handlePanelEvent:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(G!==t.tradeData&&Y(t.tradeData),ee(t.tradeData.belong)):Y({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},q=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),z=Object(l.a)(q,2),X=z[0],J=z[1],Q=Object(d.useState)(""),Z=Object(l.a)(Q,2),$=Z[0],ee=Z[1],te=W($,C.l.OFFCHAIN_WITHDRAWAL).chargeFeeList,ne={tradeData:{belong:void 0},coinMap:_,walletMap:I,withdrawBtnStatus:f.K.AVAILABLE,onWithdrawClick:function(e){console.log("Swap button click",X),X&&X.belong&&M(X.belong.toString(),X.tradeValue),a(!1)},handlePanelEvent:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(X!==t.tradeData&&J(t.tradeData),ee(t.tradeData.belong)):J({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),withdrawType:p.n.Fast,withdrawTypes:p.o,chargeFeeToken:"ETH",chargeFeeTokenList:te,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},ae=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),re=Object(l.a)(ae,2),ce=re[0],oe=re[1],ie=Object(d.useState)(""),se=Object(l.a)(ie,2),ue=se[0],le=se[1],de=W(ue,C.l.TRANSFER).chargeFeeList,be={tradeData:{belong:void 0},coinMap:_,walletMap:I,transferBtnStatus:f.K.AVAILABLE,onTransferClick:function(e){console.log("onTransferClick:",ce),ce&&ce.belong&&U(ce.tradeValue),n(!1)},handlePanelEvent:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(ce!==t.tradeData&&oe(t.tradeData),le(t.tradeData.belong)):oe({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),chargeFeeToken:"ETH",chargeFeeTokenList:de,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},fe=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),pe=Object(l.a)(fe,2),me=pe[0],je=pe[1];return{depositProps:H,withdrawProps:ne,transferProps:be,resetProps:{tradeData:{belong:void 0},coinMap:_,walletMap:I,resetBtnStatus:f.K.AVAILABLE,onResetClick:function(e){console.log("onResetClick",me),me&&me.belong,r(!1)},handlePanelEvent:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?me!==t.tradeData&&je(t.tradeData):je({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fee:{count:234,price:123}},ammProps:{ammDepositData:{coinA:{belong:"ETH",balance:.3,tradeValue:0},coinB:{belong:"LRC",balance:1e3,tradeValue:0},slippage:""},ammWithdrawData:{coinA:{belong:"ETH",balance:.3,tradeValue:0},coinB:{belong:"LRC",balance:1e3,tradeValue:0},slippage:""},ammCalcData:{myCoinA:{belong:"ETH",balance:1e3,tradeValue:0},myCoinB:{belong:"LRC",balance:1e3,tradeValue:0},AtoB:50,coinInfoMap:_,slippage:.5,fee:"1%"},handleDepositEvent:function(e,t){console.log("handleDepositEvent",e,t)},handleWithDrawEvent:function(e,t){console.log("handleWithDrawEvent",e,t)},onAmmWithdrawClick:function(e){console.log("onAmmWithdrawClick",e)},onAmmDepositClick:function(e){console.log("onAmmDepositClick",e)}},swapProps:{tradeData:void 0,tradeCalcData:{coinSell:"ETH",coinBuy:"LRC",BtoS:0,StoB:0,sellCoinInfoMap:_,buyCoinInfoMap:_,walletMap:{},slippage:.5,priceImpact:"12",minimumReceived:"1%",fee:"1%"},onSwapClick:function(e){console.log("Swap button click",e)},handleSwapPanelEvent:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}}function G(e){if(!e||!(e instanceof Object)||"function"==typeof e)return e||void 0;var t=new(0,e.constructor);for(var n in e)e.hasOwnProperty(n)&&(t[n]=G(e[n]));return t}var Y=n(33),H=n(1884),q=n(1895),z=n(458),X=["onClose","open","t"],J=Object(H.a)("common")((function(e){var t=e.onClose,n=e.open,a=e.t,r=Object(Y.a)(e,X);return Object(F.jsx)(q.a,{open:n,onClose:t,"aria-labelledby":"Account information","aria-describedby":"show layer2 address, unlock/locked loopring wallet, copy address",children:Object(F.jsx)(f.s,{style:{boxShadow:"24"},children:Object(F.jsxs)(z.a,{paddingTop:3,paddingBottom:3,display:"flex",flexDirection:"column",minWidth:"var(--modal-width)",children:[Object(F.jsx)(f.r,Object(u.a)({onClose:t},Object(u.a)(Object(u.a)({},r),{},{t:a}))),Object(F.jsx)(f.a,Object(u.a)({},r))]})})})})),Q=function(e){var t=Object.assign({},e),n=V(),r=n.depositProps,c=n.withdrawProps,o=n.transferProps,i=n.resetProps,v=n.ammProps,N=n.swapProps,P=Object(s.g)(),R=function(){var e=Object(x.a)(["common","layout"]),t=e.i18n,n=e.t,r=Object(f.hb)(),c=r.setTheme,o=r.themeMode,i=r.language,s=r.setLanguage,d=S().ShowDeposit,m=Object(f.gb)(),j=m.modals,O=j.isShowAccountInfo,v=j.isShowConnect,N=m.setShowConnect,P=m.setShowAccountInfo,R=b.a.useState(!1),D=Object(l.a)(R,2),M=(D[0],D[1],b.a.useReducer((function(e){return!e}),!1)[1]),U=Object(A.a)().account,L=Object(A.e)(),B=L.lock,K=L.unlock,W=Object(A.c)().connect,V=Object(E.c)().etherscanUrl,G=(Object(I.b)(),[Object(u.a)(Object(u.a)({},p.p[0]),{},{handleSelect:function(){console.log("try to connect to ",C.f.Injected),W(C.f.Injected,!0),N({isShow:!1})}})]),Y=b.a.useState(void 0),H=Object(l.a)(Y,2),q=H[0],z=H[1],X=b.a.useCallback(Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onNotification click");case 1:case"end":return e.stop()}}),e)}))),[]),J=b.a.useCallback(Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=T.a.getState().account,console.log("onWalletBtnConnect click: ".concat(t.status)),e.t0=t.status,e.next=e.t0===k.b.NOACCOUNT?5:e.t0===k.b.UNCONNNECTED?7:e.t0===k.b.CONNECTED||e.t0===k.b.LOCKED||e.t0===k.b.ACTIVATED?9:11;break;case 5:return d(!0),e.abrupt("break",12);case 7:return N({isShow:!0}),e.abrupt("break",12);case 9:return P({isShow:!0}),e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)}))),[N,B,K,d,P]),Q=b.a.useCallback(function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===a.dark?c(a.light):c(a.dark);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]),Z=function(e){s(e)};Object(w.a)((function(){p.u[p.a.WalletConnect]=Object(u.a)(Object(u.a)({},p.u[p.a.WalletConnect]),{},{handleClick:J}),p.u[p.a.Theme]=Object(u.a)(Object(u.a)({},p.u[p.a.Theme]),{},{themeMode:o,handleClick:Q}),p.u[p.a.Language]=Object(u.a)(Object(u.a)({},p.u[p.a.Language]),{},{handleChange:Z})}),[o,i,t,J,Q,Z,X,n]);var $=function(e){var t=e.onClick;return Object(F.jsx)(f.i,{className:"unlock",startIcon:Object(F.jsx)(p.i,{fontSize:"large"}),onClick:function(e){t(e)},variant:"outlined",children:Object(F.jsxs)(_.a,{variant:"body2",marginTop:.5,children:["   ",n("labelUnLock")," "]})})},ee=b.a.useCallback((function(e){B(U)}),[U]),te=b.a.useCallback((function(e){K(U)}),[U]),ne=function(e){var t=e.onClick;return Object(F.jsx)(f.i,{className:"lock",startIcon:Object(F.jsx)(p.k,{fontSize:"large"}),onClick:function(e){t(e)},variant:"outlined",children:Object(F.jsxs)(_.a,{variant:"body2",marginTop:.5,children:["  ",n("labelLock")," "]})})};return Object(w.a)((function(){if(!U)return console.log("account"+U+"* exit"),void z(void 0);var e=U.status,t=Object(y.b)(null===U||void 0===U?void 0:U.accAddr),n=function(e){var n,a=e.status;p.s[p.g.Layer2]=Object(u.a)(Object(u.a)({},p.s[p.g.Layer2]),{},{status:p.h.default}),a===k.b.ACTIVATED?(n={addressShort:t||"",address:null===U||void 0===U?void 0:U.accAddr,level:"VIP 1",etherscanLink:V+(null===U||void 0===U?void 0:U.accAddr),mainBtn:Object(F.jsx)(ne,{onClick:function(e){ee(e)}}),connectBy:""},P({isShow:!1})):a===k.b.LOCKED?(n={addressShort:t||"",address:null===U||void 0===U?void 0:U.accAddr,level:"VIP 1",etherscanLink:V+(null===U||void 0===U?void 0:U.accAddr),mainBtn:Object(F.jsx)($,{onClick:function(e){te(e)}}),connectBy:""},P({isShow:!0})):a===k.b.UNACTIVATED||a===k.b.NOACCOUNT||a===k.b.DEPOSITING||a===k.b.DEPOSIT_TO_CONFIREM||a===k.b.ARPROVING||a===k.b.APPROV_TO_CONFIRM?(n={addressShort:t||"",address:null===U||void 0===U?void 0:U.accAddr,level:"VIP 1",etherscanLink:V+(null===U||void 0===U?void 0:U.accAddr),connectBy:""},P({isShow:!1})):P({isShow:!1}),z(n)};switch(e){case k.b.UNCONNNECTED:p.u[p.a.WalletConnect]=Object(u.a)(Object(u.a)({},p.u[p.a.WalletConnect]),{},{label:"Connect Wallet",status:p.m.default}),p.s[p.g.Layer2]=Object(u.a)(Object(u.a)({},p.s[p.g.Layer2]),{},{status:p.h.hidden}),P({isShow:!1});break;case k.b.LOCKED:p.u[p.a.WalletConnect]=Object(u.a)(Object(u.a)({},p.u[p.a.WalletConnect]),{},{label:t,status:p.m.connect}),n({status:e});break;case k.b.ACTIVATED:p.u[p.a.WalletConnect]=Object(u.a)(Object(u.a)({},p.u[p.a.WalletConnect]),{},{label:t,status:p.m.unlock}),n({status:e});break;case k.b.UNACTIVATED:case k.b.NOACCOUNT:p.u[p.a.WalletConnect]=Object(u.a)(Object(u.a)({},p.u[p.a.WalletConnect]),{},{label:t,status:p.m.noAccount}),n({status:e});break;case k.b.DEPOSITING:case k.b.DEPOSIT_TO_CONFIREM:case k.b.ARPROVING:case k.b.APPROV_TO_CONFIRM:p.u[p.a.WalletConnect]=Object(u.a)(Object(u.a)({},p.u[p.a.WalletConnect]),{},{label:t,status:p.m.accountPending}),n({status:e})}M()}),[U,V,z]),{headerToolBarData:p.u,headerMenuData:p.s,gatewayList:G,isShowConnect:v,isShowAccountInfo:O,setShowAccountInfo:P,setShowConnect:N,account:U,accountInfoProps:q}}(),D=R.headerToolBarData,M=R.headerMenuData,U=R.gatewayList,B=R.isShowConnect,K=R.isShowAccountInfo,W=R.setShowAccountInfo,G=R.setShowConnect,Y=R.account,H=R.accountInfoProps,q=(L().exchangeInfo,Object(A.d)().disconnect),z=Object(d.useCallback)((function(){W({isShow:!1}),G({isShow:!0})}),[G,W]),X=Object(d.useState)(!1),Q=Object(l.a)(X,2),Z=Q[0],$=Q[1],ee=Object(d.useState)(!1),te=Object(l.a)(ee,2),ne=te[0],ae=te[1],re=Object(x.a)("commom").t,ce=function(){ae(!1)};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(m.a,{open:ne,autoHideDuration:2500,onClose:ce,children:Object(F.jsx)(j.a,{onClose:ce,severity:"success",children:re("Address Copied to Clipboard!")})}),Object(F.jsx)(f.u,{open:Z,onClose:function(){return $(!1)},title:"ETH Address",description:Y.accAddr,url:Y.accAddr}),Object(F.jsx)(f.t,{transferProps:o,withDrawProps:c,depositProps:r,resetProps:i,ammProps:v,swapProps:N}),Object(F.jsxs)(f.o,{children:[!1,!1,Object(F.jsx)(f.n,Object(u.a)(Object(u.a)({},t),{},{headerMenuData:M,headerToolBarData:D,selected:"/"===P.pathname?p.t:P.pathname}))]}),Object(F.jsx)(O.a,{}),Object(F.jsx)(f.v,Object(u.a)({},Object(u.a)(Object(u.a)({},t),{},{gatewayList:U,open:B.isShow,onClose:function(){return G({isShow:!1})}}))),Object(F.jsx)(J,Object(u.a)({open:K.isShow,onClose:function(){W({isShow:!1})},onCopy:function(){!function(e){if(document.execCommand){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("Copy"),document.body.removeChild(t)}!!window.clipboardData&&window.clipboardData.setData("Text",e)}(Y.accAddr),ae(!0)},onViewQRCode:function(){$(!0)},onDisconnect:function(){q(),W({isShow:!1})},onSwitch:z},Object(u.a)(Object(u.a)({},H),t)))]})},Z=n(298),$=n(304),ee=n(1002);var te=Object(Z.a)(ee.a,{target:"e19jzbou1"})("& .MuiGrid-root:not(:last-of-type)>div{margin-right:",(function(e){return 3*e.theme.unit}),"px;}"),ne=Object(Z.a)(ee.a,{target:"e19jzbou0"})("&{background-color:",(function(e){return e.theme.colorBase.background().default}),";",(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})}),";.rdg{height:100%;}}",(function(e){var t=e.theme;return Object(f.G)({pLeft:3*t.unit,pRight:3*t.unit})}),";"),ae=Object(H.a)("common")((function(e){var t=function(){var e=Object(d.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(d.useState)([]),c=Object(l.a)(r,2),o=c[0],i=c[1],s=Object(R.b)();return Object(w.a)(Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return t=!0,n=function(){var e=Object(g.a)(h.a.mark((function e(){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getAllTickers();case 2:n=e.sent,r=n.tickList,c=[],r.forEach((function(e){e.base,e.quote,Object(C.G)(e.quote_token_volume).div(e.base_token_volume).toNumber(),null===e||void 0===e||e.change,e.high,e.low,Object(C.G)(e.base_token_volume).toNumber();var t=[[e.base,e.quote],[e.close,e.close],e.change,e.high,e.low,e.base_token_volume,e.base_token_volume,e.base,e.quote];c.push(t)})),c=c.sort((function(e,t){var n=0;return isNaN(t[5])||isNaN(e[5])||(n=t[5]-e[5]),n})),t&&(i(c.slice(0,4)),a(c));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,n();case 6:return e.abrupt("return",(function(){t=!1}));case 7:case"end":return e.stop()}}),e)}))),[s]),{tickList:n,big4:o}}(),n=t.tickList,a=(t.big4,n.map((function(e){return{pair:e[0].length?{first:e[0][0],last:e[0][1]}:{first:"--",last:"--"},lastPrice:Number.isFinite(e[2])?e[2]:"--",change:Number.isFinite(e[3])?e[3]:"--",high:Number.isFinite(e[4])?e[4]:"--",low:Number.isFinite(e[5])?e[5]:"--",volumn:Number.isFinite(e[6])?e[6]:"--"}}))),r=Object(u.a)(Object(u.a)({},e),{},{buyData:$.a.ETH,sellData:$.a.LRC,tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"+15%",timeUnit:"24h",volume:112312312,floatTag:p.f.increase}});return Object(F.jsxs)(z.a,{display:"flex",flexDirection:"column",flex:1,children:[Object(F.jsxs)(te,{container:!0,children:[Object(F.jsx)(ee.a,{item:!0,xs:3,children:Object(F.jsx)(f.p,Object(u.a)({},Object(u.a)(Object(u.a)({},r),{},{tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"0%",timeUnit:"24h",floatTag:p.f.none}})))}),Object(F.jsx)(ee.a,{item:!0,xs:3,children:Object(F.jsx)(f.p,Object(u.a)({},Object(u.a)(Object(u.a)({},r),{},{tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"-15%",timeUnit:"24h",floatTag:p.f.decrease}})))}),Object(F.jsx)(ee.a,{item:!0,xs:3,children:Object(F.jsx)(f.p,Object(u.a)({},Object(u.a)({},r)))}),Object(F.jsx)(ee.a,{item:!0,xs:3,children:Object(F.jsx)(f.p,Object(u.a)({},Object(u.a)({},r)))})]}),Object(F.jsx)(ne,{container:!0,marginY:3,paddingY:2,flex:1,children:Object(F.jsx)(ee.a,{item:!0,xs:12,display:"flex",children:Object(F.jsx)(f.A,Object(u.a)({onVisibleRowsChange:function(e){console.log(e)},rawData:a},Object(u.a)({},e)))})})]})})),re=n(12),ce=n(9),oe=n(507),ie=[{value:f.j.Trend,key:f.j.Trend,label:"label"+f.j.Trend},{value:f.j.Depth,key:f.j.Depth,label:"label"+f.j.Depth}];var se,ue,le,de,be,fe,pe=["props","coinAInfo","coinBInfo","tradeFloat","marketArray","t"],me=function(e){e.props;var t=e.coinAInfo,n=e.coinBInfo,a=e.tradeFloat,r=e.marketArray,c=e.t,o=Object(Y.a)(e,pe),i=function(e,t,n,a,r){var c=ie.map((function(e){var t=e.value,n=e.label,a=e.key;return{value:t,tlabel:r(n),key:a,JSX:Object(F.jsx)(F.Fragment,{children:r(n)})}})),o=Object(C.A)(a,null===t||void 0===t?void 0:t.name,null===n||void 0===n?void 0:n.name),i=o.market,s=o.amm,u=Object(d.useState)(f.j.Trend),b=Object(l.a)(u,2),p=b[0],m=b[1];console.log("---useBasicInfo market:",i," amm:",s," chartType:",p);var j=Object(d.useState)(ce.e.D1),O=Object(l.a)(j,2),v=O[0],x=(O[1],Object(d.useState)(void 0)),A=Object(l.a)(x,2),y=A[0],k=A[1],T=Object(d.useCallback)((function(e,t){console.log("useBasicInfo handleChange:",t),k(void 0),m(t)}),[k,m]),_=Object(R.b)(),E=Object.keys(ce.e).reduce((function(e,t){var n={value:ce.e[t],key:ce.e[t],label:"label"+ce.e[t]};return e.push({value:n.value,tlabel:r(n.label?n.label:n.key),key:n.key,JSX:Object(F.jsx)(F.Fragment,{children:r(n.label?n.label:n.key)})}),e}),[]);return Object(w.a)(Object(g.a)(h.a.mark((function e(){var t,n,a,r,c,o,u,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,_&&i&&s){e.next=3;break}return e.abrupt("return");case 3:if(p!==f.j.Trend){e.next=17;break}return n={market:s,interval:C.n.min15,limit:96},e.prev=5,e.next=8,_.getCandlestick(n);case 8:a=e.sent,t&&(r=a.candlesticks.map((function(e){return{timeStamp:e.timestamp,low:e.low,high:e.high,open:e.open,close:e.close,volume:e.quoteVol}})),console.log("useBasicInfo amm: ".concat(s," candlesticks originData: "),r),k(r)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),Object(C.v)(e.t0,"ChartPanel getCandlestick");case 15:e.next=30;break;case 17:return c={market:i},e.prev=18,e.next=21,_.getMixDepth(c);case 21:o=e.sent,u=o.depth,console.log("useBasicInfo depth:",u),t&&(l={bidsPrices:u.bids_prices,bidsAmtTotals:u.bids_amtTotals,asksPrices:u.asks_prices,asksAmtTotals:u.asks_amtTotals},k(l)),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(18),Object(C.v)(e.t1);case 30:return e.abrupt("return",(function(){t=!1}));case 31:case"end":return e.stop()}}),e,null,[[5,12],[18,27]])}))),[_,s,i,p]),{chartUnit:v,chartType:p,tgItemJSXs:c,tgItemJSXsPriceChart:E,handleChange:T,originData:y}}(0,t,n,r,c),s=i.chartType,b=i.tgItemJSXs,p=i.tgItemJSXsPriceChart,m=i.handleChange,j=i.originData,O=Object(f.hb)().upColor;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ee.a,{item:!0,xs:8,children:Object(F.jsx)(oe.d,Object(u.a)({},Object(u.a)(Object(u.a)({coinAInfo:t,coinBInfo:n},o),{},{t:c,tradeFloat:a})))}),Object(F.jsx)(ee.a,{item:!0,xs:4,display:"flex",justifyContent:"flex-end",alignItems:"flex-end",children:Object(F.jsx)(f.I,Object(u.a)(Object(u.a)({exclusive:!0},Object(u.a)(Object(u.a)({},o),{},{t:c,tgItemJSXs:b,value:s})),{},{handleChange:m}))}),Object(F.jsx)(ee.a,{item:!0,xs:12,children:Object(F.jsx)(z.a,{minHeight:256,maxHeight:256,display:"block",style:{height:"100%",width:"100%"},children:Object(F.jsx)(f.C,{type:s,data:null!==j&&void 0!==j?j:[],riseColor:O,handleMove:function(){}})})}),Object(F.jsx)(ee.a,{item:!0,xs:12,height:24,display:"flex",justifyContent:"flex-end",children:Object(F.jsx)(f.I,Object(u.a)(Object(u.a)({exclusive:!0},Object(u.a)(Object(u.a)({},o),{},{t:c,tgItemJSXs:p,value:ce.e.D1,size:"small"})),{},{handleChange:function(){}}))})]})},je=n(2e3),Oe=n(2027),ve=n(2006),he=n(18),ge=Object(he.a)(z.a)(se||(se=Object(re.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .tableWrapper {\n    margin-top: ","px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 1.5*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),xe=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},Ae=he.a.div(ue||(ue=Object(re.a)(["\n          position: relative;\n          width: 100%;\n          margin-top: ","px;\n        "])),(function(e){return 4*e.theme.unit})),ye=Object(he.a)(f.m)(le||(le=Object(re.a)(["\n          position: absolute;\n          top: 0;\n          right: ","px;\n          margin: ","px 0 0 0;\n        "])),(function(e){return e.theme.unit}),(function(e){return e.theme.unit})),ke=Object(H.a)("common")((function(e){var t=e.tradeArray,n=e.myTradeArray,a=e.t,r=Object(d.useState)(!1),c=Object(l.a)(r,2),o=c[0],i=c[1],s=Object(d.useState)(1),b=Object(l.a)(s,2),p=b[0],m=b[1];return Object(F.jsxs)(Ae,{children:[Object(F.jsx)(ye,{control:Object(F.jsx)(ve.a,{checked:o,size:"small",checkedIcon:Object(F.jsx)(ce.h,{}),icon:Object(F.jsx)(ce.f,{}),color:"default",onChange:function(){i((function(e){return!e}))}}),label:a("labelTradePanelHideOtherPairs")}),Object(F.jsxs)(je.a,{value:p,onChange:function(e,t){m(t)},"aria-label":"tabs switch",children:[Object(F.jsx)(Oe.a,Object(u.a)({label:a("labelMyTrade")},xe(0))),Object(F.jsx)(Oe.a,Object(u.a)({label:a("labelRecent")},xe(1)))]}),Object(F.jsx)(ge,{marginTop:2,children:0===p?Object(F.jsx)(f.L,{rawData:n}):Object(F.jsx)(f.L,{rawData:t})})]})})),we=n(627),Te=n(37),Ce=n(14),_e=n(61),Ee=n(148),Ie=n(126),Se=n(186),Ne=n(115),Pe=void 0;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UNCONNNECTED=1]="UNCONNNECTED",e[e.CONNECTED=2]="CONNECTED",e[e.NOACCOUNT=3]="NOACCOUNT",e[e.DEPOSITING=4]="DEPOSITING",e[e.DEPOSIT_TO_CONFIREM=5]="DEPOSIT_TO_CONFIREM",e[e.UNACTIVATED=6]="UNACTIVATED",e[e.ARPROVING=7]="ARPROVING",e[e.APPROV_TO_CONFIRM=8]="APPROV_TO_CONFIRM",e[e.LOCKED=9]="LOCKED",e[e.ACTIVATED=10]="ACTIVATED",e[e.DEFAULT=11]="DEFAULT"}(fe||(fe={}));var Re=function(e){var t,n;switch(T.a.getState().account.status){case k.b.UNKNOWN:var a=e[fe.UNKNOWN]?e[fe.UNKNOWN]:[],r=Object(l.a)(a,2);return t=r[0],n=r[1],"function"===typeof t?t.call(Pe,n):void 0;case k.b.UNCONNNECTED:var c=e[fe.UNCONNNECTED]?e[fe.UNCONNNECTED]:[],o=Object(l.a)(c,2);if(t=o[0],n=o[1],"function"===typeof t)return t.call(Pe,n);break;case k.b.CONNECTED:var i=e[fe.CONNECTED]?e[fe.CONNECTED]:[],s=Object(l.a)(i,2);if(t=s[0],n=s[1],"function"===typeof t)return t.call(Pe,n);break;case k.b.NOACCOUNT:var u=e[fe.NOACCOUNT]?e[fe.NOACCOUNT]:[],d=Object(l.a)(u,2);if(t=d[0],n=d[1],"function"===typeof t)return t.call(Pe,n);break;case k.b.DEPOSITING:var b=e[fe.DEPOSITING]?e[fe.DEPOSITING]:[],f=Object(l.a)(b,2);if(t=f[0],n=f[1],"function"===typeof t)return t.call(Pe,n);break;case k.b.DEPOSIT_TO_CONFIREM:var p=e[fe.DEPOSIT_TO_CONFIREM]?e[fe.DEPOSIT_TO_CONFIREM]:[],m=Object(l.a)(p,2);if(t=m[0],n=m[1],"function"===typeof t)return t.call(Pe,n);break;case k.b.UNACTIVATED:var j=e[fe.UNACTIVATED]?e[fe.UNACTIVATED]:[],O=Object(l.a)(j,2);if(t=O[0],n=O[1],"function"===typeof t)return t.call(Pe,n);break;case k.b.ARPROVING:var v=e[fe.ARPROVING]?e[fe.ARPROVING]:[],h=Object(l.a)(v,2);if(t=h[0],n=h[1],"function"===typeof t)return t.call(Pe,n);break;case k.b.APPROV_TO_CONFIRM:var g=e[fe.APPROV_TO_CONFIRM]?e[fe.APPROV_TO_CONFIRM]:[],x=Object(l.a)(g,2);if(t=x[0],n=x[1],"function"===typeof t)return t.call(Pe,n);break;case k.b.LOCKED:var A=e[fe.LOCKED]?e[fe.LOCKED]:[],y=Object(l.a)(A,2);if(t=y[0],n=y[1],"function"===typeof t)return t.call(Pe,n);break;case k.b.ACTIVATED:var w=e[fe.ACTIVATED]?e[fe.ACTIVATED]:[],C=Object(l.a)(w,2);if(t=C[0],n=C[1],"function"===typeof t)return t.call(Pe,n)}var _=e[fe.DEFAULT]?e[fe.DEFAULT]:[],E=Object(l.a)(_,2);if(t=E[0],n=E[1],"function"===typeof t)return t.call(Pe,n)},De=(de={},Object(Ce.a)(de,fe.UNCONNNECTED,[function(){return"labelConnectWallet"}]),Object(Ce.a)(de,fe.DEFAULT,[function(){return"depositTitleAndActive"}]),Object(Ce.a)(de,fe.ACTIVATED,[function(){}]),Object(Ce.a)(de,fe.LOCKED,[function(){return"labelUnLock"}]),de),Me=(be={},Object(Ce.a)(be,fe.UNCONNNECTED,[function(){T.a.dispatch(Object(f.Y)({isShow:!0}))}]),Object(Ce.a)(be,fe.DEFAULT,[function(){T.a.dispatch(Object(f.Z)({isShow:!0}))}]),Object(Ce.a)(be,fe.LOCKED,[function(){T.a.dispatch(Object(f.X)({isShow:!0}))}]),be),Ue=function(){var e,t=T.a.getState().walletLayer2.walletLayer2,n=T.a.getState().tokenMap.tokenMap;return t&&(e=Reflect.ownKeys(t).reduce((function(e,a){var r=t[a],c=r.total,o=r.locked,i=r.pending.withdraw,s=C.G(c).minus(C.G(o)).minus(C.G(i)).toString();return Object(u.a)(Object(u.a)({},e),{},Object(Ce.a)({},a,{belong:a,count:Object(D.a)(n,a,s),detail:t[a]}))}),{})),{walletMap:e}};function Le(e){var t=e.coinKey,n=e._tradeCalcData,a=e.tokenMap,r=e.coinMap;if(t){var c=t.match(/(\w+)-(\w+)/i),o=Object(l.a)(c,3),i=(o[0],o[1]),s=o[2];if(i&&r&&r[i]&&(n.coinSell=i),i!==s&&s&&-1!==a[i].tradePairs.findIndex((function(e){return e===s})))return n.coinBuy=s,n}return n.coinSell&&""!==n.coinSell?(n.coinBuy&&""!==n.coinBuy&&"undefined"!==n.coinBuy||(a&&a[n.coinSell].tradePairs?n.coinBuy=a[n.coinSell].tradePairs[0]:(n.coinSell="LRC",n.coinBuy="ETH")),n):(n.coinSell="LRC",n.coinBuy="ETH",n)}var Be,Fe=n(65),Ke=function(e){var t=e.coinKey,n=e.ammKey,a=e.ammMap;return new Promise((function(e,r){_e.a.ammpoolAPI&&_e.a.exchangeAPI?Promise.all([_e.a.ammpoolAPI.getAmmPoolSnapshot({poolAddress:a[n].address}),_e.a.exchangeAPI.getMixTicker({market:t})]).then((function(t){var n=Object(l.a)(t,2),a=n[0].ammPoolSnapshot,r=n[1].tickMap;e({ammPoolsBalance:a,tickMap:r})})):r(new p.c(p.e.NO_SDK))}))},We=function(e){var t,n,a=e.coinKey,r=(e.market,e.ammPoolsBalance),c=e.tokenMap,o=e.tickerData,i=e._tradeCalcData,s=e.coinMap,d=e.marketCoins,b=a.match(/(\w+)-(\w+)/i),f=Object(l.a)(b,3),m=f[1];f[2];if(n=o.base===m?Number(o.close):0!==Number(o.close)?1/Number(o.close):0,isNaN(n)&&r){var j,O=Object(C.z)(a),v=O.base,h=O.quote,g=r.pooled[0],x=r.pooled[1];if(v&&h&&c[v].tokenId===g.tokenId)j=[[v,g.volume],[h,x.volume]];else{if(!v||!h||c[v].tokenId!==x.tokenId)throw new p.c(p.e.NO_SUPPORT_PAIR);j=[[h,x.volume],[v,g.volume]]}var A,y=j,k=Object(l.a)(y,2),w=k[0],T=k[1];if(w&&T)n=null===(A=Object(Fe.b)(w[0],w[1]))||void 0===A?void 0:A.div(Object(Fe.b)(T[0],T[1])||1).toNumber()}return i.StoB=n,i.BtoS=0!==n&&void 0!==n?1/(1*n):0,i.sellCoinInfoMap=s&&(null===d||void 0===d?void 0:d.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(Ce.a)({},t,s[t]))}),{})),i.buyCoinInfoMap=s&&c&&(null===(t=c[i.coinSell].tradePairs)||void 0===t?void 0:t.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(Ce.a)({},t,s[t]))}),{})),{_tradeCalcData:i}},Ve=function(e){var t=isNaN(e.close)?0:e.close,n=isNaN(e.close)||isNaN(e.open)||e.open===e.close?p.f.none:e.close>e.open?p.f.increase:p.f.decrease;return{percent:(e.close-e.open)/e.open,timeUnit:"24h",priceYuan:t,priceDollar:t,floatTag:n,reward:0,APY:0}},Ge=function(e){var t=Object(_e.d)(),n=T.a.getState().account,a=n.accountId,r=n.apiKey;return t.getUserTrades({accountId:a},r).then((function(e){return e.userTrades}))},Ye=function(e,t){var n=[];return t.forEach((function(e){try{var t,a=Object(C.z)(e.market),r=a.base,c=a.quote;T.a.getState().system.forex,T.a.getState().settings.currency;if(T.a.getState().tokenMap.tokenMap)n.push({side:e.side===C.m.Sell?ce.Q.Sell:ce.Q.Buy,amount:{from:{key:r,value:r?Object(Fe.a)(r,e.volume):void 0},to:{key:c,value:r?null===(t=Object(Fe.b)(r,e.volume))||void 0===t?void 0:t.times(e.price).toNumber():void 0}},price:{key:"",value:C.G(e.price).toNumber()},fee:{key:"",value:c?Object(Fe.a)(c,e.fee):void 0},time:parseInt(e.tradeTime.toString())})}catch(o){console.log(o)}})),n},He=function(){var e,t=T.a.getState().account,n=t.accountId,a=t.apiKey;return null===(e=_e.a.ammpoolAPI)||void 0===e?void 0:e.getUserAmmPoolTxs({accountId:n},a).then((function(e){return e.userAmmPoolTxs}))},qe=function(e,t){var n=[],a=T.a.getState().tokenMap,r=a.tokenMap,c=a.coinMap,o=a.idIndex;return t.forEach((function(t){try{var a=T.a.getState().system.forex;if(c&&r&&o&&(!e||r["LP-"+e].tokenId===t.lpToken.tokenId)){var i,s,u=o[t.lpToken.tokenId].match(/LP-(\w+)-(\w+)/i),d=Object(l.a)(u,3),b=d[1],p=d[2];n.push({type:t.txType===C.b.JOIN?f.e.add:f.e.remove,totalDollar:1e3,totalYuan:1e3/Number(a),amountA:Object(Fe.a)(b,null===(i=t.poolTokens[0])||void 0===i?void 0:i.actualAmount),amountB:Object(Fe.a)(b,null===(s=t.poolTokens[1])||void 0===s?void 0:s.actualAmount),time:Number(t.updatedAt),coinA:c[b],coinB:c[p],status:t.txStatus})}return n}catch(m){console.log(m)}})),n},ze=function(e){void 0!==typeof e.customSlippage&&T.a.dispatch(Object(f.db)(e.customSlippage))},Xe=n(68),Je=["sell","buy","slippage"],Qe=Object(we.default)(z.a)(Be||(Be=Object(re.a)(["\n  @media only screen and (min-height: 680px ) and (min-width:1024px){\n    position: fixed;\n  }\n"]))),Ze=Object(H.a)("common")((function(e){var t=Object.assign({},e),n=function(){p.r.wait;var e=Object(s.h)(":symbol"),t=Object(Ee.c)(),n=t.coinMap,a=t.tokenMap,r=t.marketArray,c=t.marketCoins,o=t.marketMap,i=Object(Ie.d)().ammMap,d=Object(f.gb)(),m=(d.setShowConnect,d.setShowAccountInfo,S().ShowDeposit,Object(A.a)().account),j=Object(Se.c)(),O=b.a.useState(void 0),v=Object(l.a)(O,2),x=v[0],y=v[1],k=b.a.useState(void 0),T=Object(l.a)(k,2),_=T[0],E=T[1],I=b.a.useState([]),N=Object(l.a)(I,2),P=N[0],R=N[1],D=b.a.useState([]),M=Object(l.a)(D,2),U=M[0],L=M[1],B=b.a.useState(void 0),F=Object(l.a)(B,2),K=F[0],W=F[1],V=b.a.useState({coinAInfo:void 0,coinBInfo:void 0}),G=Object(l.a)(V,2),H=G[0],q=G[1],z=b.a.useState(void 0),X=Object(l.a)(z,2),J=X[0],Q=X[1],Z=b.a.useState(void 0),$=Object(l.a)(Z,2),ee=$[0],te=$[1];b.a.useEffect((function(){var t,n=null!==(t=null===e||void 0===e?void 0:e.params.symbol)&&void 0!==t?t:void 0;ce(n,void 0,void 0,void 0)}),[]),b.a.useEffect((function(){}),[]),b.a.useEffect((function(){switch(j.status){case"ERROR":j.statusUnset();break;case"DONE":j.statusUnset();var e=Ue().walletMap;if(_){var t,n,a,c;E(Object(u.a)(Object(u.a)({},_),{},{walletMap:e})),y({sell:{belong:_.sellCoinInfoMap?null===(t=_.sellCoinInfoMap[_.coinSell])||void 0===t?void 0:t.simpleName:void 0,balance:e?null===(n=e[_.coinSell])||void 0===n?void 0:n.count:0},buy:{belong:_.sellCoinInfoMap?null===(a=_.sellCoinInfoMap[_.coinBuy])||void 0===a?void 0:a.simpleName:void 0,balance:e?null===(c=e[_.coinBuy])||void 0===c?void 0:c.count:0}});var o=Object(C.A)(r,_.coinSell,_.coinBuy);o.amm,o.market,Ge().then((function(e){var t=Ye(0,e);L(t||[])}))}}}),[j.status,L]),b.a.useEffect((function(){}),[]),Object(w.a)((function(){var e=Re(De);te(e)}),[m.status,De]);var ne=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.tradeData,e.abrupt("return",new Promise((function(e){switch(n){case Ne.a.SEll_CLICK:case Ne.a.BUY_CLICK:break;case Ne.a.SELL_SELECTED:ce("".concat(a.sell.belong,"-").concat(a.buy.belong),"sell",a,J);break;case Ne.a.BUY_SELECTED:ce("".concat(a.sell.belong,"-").concat(a.buy.belong),"buy",a,J);break;case Ne.a.EXCHANGE_CLICK:ce("".concat(a.sell.belong,"-").concat(a.buy.belong),void 0,void 0,J)}e(void 0)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(g.a)(h.a.mark((function e(t,n,c){var s,l,d,b,f,p,m,j,O,v,g,x;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n[t].tradeValue&&_&&("sell"===t?n.buy.tradeValue=C.G(n.sell.tradeValue).times(_.StoB).toNumber():n.sell.tradeValue=C.G(n.buy.tradeValue).times(_.BtoS).toNumber()),b="".concat(null===(s=H.coinAInfo)||void 0===s?void 0:s.simpleName,"-").concat(null===(l=H.coinBInfo)||void 0===l?void 0:l.simpleName),e.next=4,null===(d=_e.a.exchangeAPI)||void 0===d?void 0:d.getMixDepth({market:b});case 4:if(f=e.sent,r&&a&&o&&f&&i&&_){e.next=8;break}return p=Object(u.a)({},_),e.abrupt("return",{_tradeData:n,_tradeCalcData:p});case 8:return j=(j=(m="sell"===t)?n.sell.tradeValue:n.buy.tradeValue)?j.toString():"0",O=n.sell.belong,v=n.buy.belong,g=C.E(j,O,v,m,r,a,o,null===f||void 0===f?void 0:f.depth,Object(Ce.a)({},"AMM-"+b,i["AMM-"+b].__rawConfig__),c,"6","200"),console.log("output:",g),_.priceImpact=null===g||void 0===g?void 0:g.priceImpact,m?n.buy.tradeValue=(null===g||void 0===g?void 0:g.output)?parseFloat(null===g||void 0===g?void 0:g.output):0:n.sell.tradeValue=(null===g||void 0===g?void 0:g.output)?parseFloat(null===g||void 0===g?void 0:g.output):0,x=Object(u.a)({},_),e.abrupt("return",{_tradeData:n,_tradeCalcData:x});case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),re=b.a.useCallback(Xe.debounce(function(){var e=Object(g.a)(h.a.mark((function e(t,n,a){var r,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t,n,a);case 2:r=e.sent,c=r._tradeData,o=r._tradeCalcData,y(c),E(o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),1e3),[y,E,ae]),ce=function(){var e=Object(g.a)(h.a.mark((function e(t,o,s,d){var b,f,m,O,v,g,A,k,w,T,I,S,N,P;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_&&t==="".concat(_.coinSell,"-").concat(_.coinBuy)&&s&&o&&(!x||x[o].tradeValue!==s[o].tradeValue)?re(o,s,d):(b={},f=void 0,m=Le({coinKey:t,_tradeCalcData:{},tokenMap:a,coinMap:n}),O=Object(C.A)(r,m.coinSell,m.coinBuy),v=O.amm,g=O.market,A=g.match(/(\w+)-(\w+)/i),k=Object(l.a)(A,3),w=k[1],T=k[2],E(Object(u.a)(Object(u.a)({},_),m)),n&&q({coinAInfo:n[w],coinBInfo:n[T]}),j.walletLayer2&&(I=Ue(),S=I.walletMap,m.walletMap=S,Ge().then((function(e){var t=Ye(0,e);L(t||[])}))),N=[],r&&v&&g&&i&&(N=[null===(P=_e.a.exchangeAPI)||void 0===P?void 0:P.getMarketTrades({market:g}),Ke({coinKey:g,ammKey:v,ammMap:i})],Promise.all(Object(Te.a)(N)).then((function(e){var t=Object(l.a)(e,2),r=t[0].marketTrades,o=t[1],i=o.ammPoolsBalance,s=o.tickMap;if(Q(i),a){var u,d,p,j,O=We({coinKey:"".concat(m.coinSell,"-").concat(m.coinBuy),market:g,ammPoolsBalance:i,tickerData:s[g]?s[g]:{},tokenMap:a,_tradeCalcData:m,coinMap:n,marketCoins:c})._tradeCalcData;m=O,b=Ve(s[g]?s[g]:{}),f=Ye(0,r),E(m),W(b),R(f),y({sell:{belong:m.sellCoinInfoMap?null===(u=m.sellCoinInfoMap[m.coinSell])||void 0===u?void 0:u.simpleName:void 0,balance:m.walletMap?null===(d=m.walletMap[m.coinSell])||void 0===d?void 0:d.count:0},buy:{belong:m.sellCoinInfoMap?null===(p=m.sellCoinInfoMap[m.coinBuy])||void 0===p?void 0:p.simpleName:void 0,balance:m.walletMap?null===(j=m.walletMap[m.coinBuy])||void 0===j?void 0:j.count:0}})}})).catch((function(e){throw new p.c(Object(u.a)(Object(u.a)({},p.e.TRADE_LITE_SET_PAIR_ERROR),{},{options:e}))}))));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();return{tradeCalcData:_,tradeFloat:K,tradeArray:P,myTradeArray:U,tradeData:x,pair:H,marketArray:r,onSwapClick:function(e){var t=e.sell,n=e.buy,a=e.slippage,r=Object(Y.a)(e,Je),c=Object.assign(Me,Object(Ce.a)({},fe.ACTIVATED,[function(){console.log("onSwap",t,n,a),r.__cache__&&ze(r.__cache__)},{sell:t,buy:n,slippage:a}]));Re(c)},swapBtnI18nKey:ee,handleSwapPanelEvent:ne}}(),a=n.tradeCalcData,r=n.tradeData,c=n.tradeFloat,o=n.tradeArray,i=n.myTradeArray,d=n.marketArray,m=n.handleSwapPanelEvent,j=n.onSwapClick,O=n.pair,v=n.swapBtnI18nKey;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(ee.a,{container:!0,marginRight:3,alignContent:"flex-start",children:[Object(F.jsx)(me,Object(u.a)({},Object(u.a)(Object(u.a)(Object(u.a)({},t),O),{},{marketArray:d,tradeFloat:c,tradeArray:o}))),Object(F.jsx)(ke,{tradeArray:o,myTradeArray:i})]}),Object(F.jsx)(z.a,{display:"flex",style:{minWidth:"var(--swap-box-width)"},children:Object(F.jsx)(Qe,{children:Object(F.jsx)(f.F,Object(u.a)({tradeData:r,tradeCalcData:a,onSwapClick:j,swapBtnI18nKey:v},Object(u.a)({handleSwapPanelEvent:m},t)))})})]})}));function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.h,n=Object(E.a)(),a=n.chainId,r=n.active,c=function(){if(r&&a)return new e(a,t)},o=Object(d.useMemo)(c,[e,a,r,t]);return o}var et=[{key:0,value:"Connecting"},{key:1,value:"Connected"},{key:2,value:"Closing"},{key:3,value:"Closed"}],tt=function(e){var t=e.topics,n=e.verify,a=e.needApiKey,r=e.apiKey,c=Object(d.useRef)(null),o=Object(d.useState)(void 0),i=Object(l.a)(o,2),s=i[0],u=i[1],b=Object(d.useState)({key:0,value:"Connecting"}),f=Object(l.a)(b,2),p=f[0],m=f[1],j=Object(E.a)().chainId,O=$e(C.r),v=function(){O&&j&&O.getWsKey().then((function(e){var n="wss://ws.";switch(j){case C.e.MAINNET:n+="api3.loopring.io";break;default:n+="uat2.loopring.io",n="wss://ws.uat2.loopring.io"}n+="/v3/ws?wsApiKey="+e;try{c.current=new WebSocket(n);c.current.onopen=function(e){var n,o;m(et[null!==(n=null===(o=c.current)||void 0===o?void 0:o.readyState)&&void 0!==n?n:0]),function(e){var t={op:"sub",unsubscribeAll:"true",topics:e};a&&r&&(t.apiKey=r);var n=JSON.stringify(t);g(n)}(t)},c.current.onclose=function(e){var t,n;m(et[null!==(t=null===(n=c.current)||void 0===n?void 0:n.readyState)&&void 0!==t?t:0])},c.current.onerror=function(e){var t,n;m(et[null!==(t=null===(n=c.current)||void 0===n?void 0:n.readyState)&&void 0!==t?t:0])},c.current.onmessage=function(e){u(e.data)}}catch(o){console.log(o)}}))},h=function(){var e;null===(e=c.current)||void 0===e||e.close()},g=function(e){var t;null===(t=c.current)||void 0===t||t.send(e)};return Object(d.useEffect)((function(){return n&&(c.current&&3!==c.current.readyState||v()),function(){var e;null===(e=c.current)||void 0===e||e.close()}}),[c,n]),{wsData:s,readyState:p,sendMessage:g,closeWebSocket:h,reconnect:function(){try{h(),c.current=null,v()}catch(e){console.log(e)}}}};function nt(e){var t=[];t.push(Object(C.F)("LRC-ETH")),t.push(Object(C.y)("0x18920d6E6Fb7EbE057a4DD9260D6D95845c95036"));return{socketData:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=Object(d.useState)({}),c=Object(l.a)(r,2),o=c[0],i=c[1],s=Object(d.useState)(!0),u=Object(l.a)(s,2),b=u[0],f=u[1];Object(d.useEffect)((function(){var e=!0;return console.log("enter checkIsLocalPage"),document.addEventListener("visibilitychange",(function(){var t=!0;"hidden"===document.visibilityState&&(t=!1),e?f(t):console.log("unmounted! dont setIsLocalPage!")})),function(){e=!1}}),[]);var p=tt({topics:e,apiKey:n,needApiKey:t,verify:a}),m=p.wsData,j=p.readyState,O=p.closeWebSocket,v=p.reconnect,h=p.sendMessage;return Object(d.useEffect)((function(){if((!t||n)&&a){if("ping"===m)try{h("pong")}catch(e){console.log(e)}else m&&i(JSON.parse(m));3===j.key&&b&&v(),b||O()}}),[m,j,b,a,n]),{socketData:o}}(t,!1,e).socketData}}var at,rt,ct,ot,it,st,ut,lt,dt,bt,ft=function(){Object(d.useRef)(null);var e=Object(A.a)(),t=e.account,n=(e.isNoAccount,nt(e.apiKey).socketData),a=function(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(R.b)();return U((function(){if(r)return r.getMarkets()}),a,void 0,"useGetMarkets",[r]),{markets:n}}().markets,r=L().exchangeInfo,c=B().tokens,o=function(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(R.b)();return U((function(){if(r)return r.getGasPrice()}),a,void 0,"useGetGas",[r]),{gas:n}}().gas;null===o||void 0===o||o.data;console.log("account:",t),console.log("exchangeInfo:",r),console.log("tokens:",c);t.accAddr&&t.accAddr;return Object(F.jsxs)("div",{children:["Debug",Object(F.jsxs)("div",{children:["account:",JSON.stringify(t)]}),Object(F.jsxs)("div",{children:["eddsaKey:",t.eddsaKey]}),Object(F.jsxs)("div",{children:["wsdata: ",JSON.stringify(n)]}),Object(F.jsx)("div",{children:"----------------------------"}),Object(F.jsxs)("div",{children:["markets:",JSON.stringify(a)]}),Object(F.jsx)("div",{children:"----------------------------"}),Object(F.jsxs)("div",{children:["depositAddress:",null===r||void 0===r?void 0:r.depositAddress]}),Object(F.jsxs)("div",{children:["exchangeAddress:",null===r||void 0===r?void 0:r.exchangeAddress]}),Object(F.jsx)("div",{children:"----------------------------"}),Object(F.jsxs)("div",{children:["tokens:",JSON.stringify(c)]}),Object(F.jsx)("div",{children:"----------------------------"})]})},pt=n(2028),mt=n(446),jt=Object(he.a)(z.a)(at||(at=Object(re.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    display: flex;\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n    flex: 1;\n    \n    .rdg {\n      flex: 1;\n    }\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Ot=Object(H.a)("common")((function(e){var t=b.a.useRef(null),n=b.a.useState(10),a=Object(l.a)(n,2),r=a[0],c=a[1],o=b.a.useState([]),i=Object(l.a)(o,2),s=i[0],p=i[1],m=T.a.getState().account,j=m.accountId,O=m.apiKey;return Object(d.useEffect)((function(){!function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_e.a&&_e.a.userAPI&&j&&O)){e.next=6;break}return e.next=3,_e.a.userAPI.getUserTranferList({accountId:j},O);case 3:t=e.sent,n=t.userTransfers.map((function(e){return{token:e.symbol,from:e.senderAddress,to:e.receiverAddress,amount:Number(Object(Fe.a)(e.symbol,e.amount)),fee:{unit:e.feeTokenSymbol||"",value:Number(Object(Fe.a)(e.symbol,e.feeAmount||0))},memo:e.memo||"",time:e.timestamp,txnHash:e.hash,status:"processed"===e.status?f.N.processed:"processing"===e.status?f.N.processing:"received"===e.status?f.N.received:f.N.failed,tradeType:"TRANSFER"===e.txType?f.P.transfer:"DEPOSIT"===e.txType?f.P.deposit:f.P.withdraw}})),p(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[j,O]),b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&c(Math.floor((n-120)/44)-2)}),[t,r]),Object(F.jsxs)(jt,{ref:t,children:[Object(F.jsx)("div",{className:"title",children:"Transactions"}),Object(F.jsx)("div",{className:"tableWrapper",children:Object(F.jsx)(f.O,Object(u.a)({},Object(u.a)({rawData:s,pagination:{pageSize:r}},e)))})]})})),vt=n(1899),ht=["t"],gt=Object(he.a)(z.a)(rt||(rt=Object(re.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    display: flex;\n    flex: 1;\n    height: 100%;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),xt=Object(he.a)(z.a)(ct||(ct=Object(re.a)(["\n  height: 225px;\n\n  > div {\n    position: relative;\n    width: calc(50% - 6px);\n    height: 100%;\n    background-color: ",";\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: ","px ","px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit}),(function(e){return 2.5*e.theme.unit}),(function(e){return 3*e.theme.unit})),At=Object(he.a)(z.a)(ot||(ot=Object(re.a)(["\n  position: absolute;\n  z-index: 10000;\n  right: ","px;\n  bottom: ","px;\n"])),(function(e){return 3*e.theme.unit}),(function(e){return 2.5*e.theme.unit})),yt=[{value:"24 H",key:"24 H"},{value:"1 W",key:"1 W"},{value:"ALL",key:"ALL"}],kt=[{timeStamp:150,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:160,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:170,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:180,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:190,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:200,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:210,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:220,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:230,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:240,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)}],wt=Object(H.a)("common")((function(e){var t=e.t,n=Object(Y.a)(e,ht),a=Object(d.useRef)(null),r=Object(d.useState)(10),c=Object(l.a)(r,2),o=c[0],i=c[1],s=Object(d.useState)("24 H"),b=Object(l.a)(s,2),p=b[0],m=b[1],j=T.a.getState().walletLayer2.walletLayer2;Object(d.useEffect)((function(){!function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_e.a||!_e.a.walletAPI){e.next=7;break}if(!j){e.next=7;break}return e.next=4,null===(t=_e.a.walletAPI)||void 0===t?void 0:t.getUserAssets({wallet:"0xeF041462825bFdF79b2f1f02A70b2753cB5b1516",assetType:C.d.DEX});case 4:n=e.sent,console.log({userAssets:n}),n.assetSeries.length&&n.assetSeries.length;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[j]),Object(d.useEffect)((function(){var e,t=null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.offsetHeight;t&&i(Math.floor((t-120)/44)-1)}),[a,o]);var O=S(),v=O.ShowDeposit,x=O.ShowTransfer,A=O.ShowWithdraw,y=(O.ShowResetAccount,{assetInfo:{totalAsset:123456.789,priceTag:ce.C.Dollar},onShowDeposit:function(){v(!0)},onShowTransfer:function(){x(!0)},onShowWithdraw:function(){A(!0)}}),k=B().tokens,w=(null===k||void 0===k||k.tokenSymbolMap,T.a.getState().system.faitPrices),E=w?Object.entries(w).map((function(e){return{token:e[0],detail:e[1]}})):[],I=Object.entries(T.a.getState().tokenMap.tokenMap||{}).map((function(e){return{token:e[0],tokenDetail:e[1]}})),N=j?Object.keys(j):[],P=j?Object.values(j):[],R=N.map((function(e,t){var n,a,r=Number(null===(n=E.find((function(t){return t.token===e})))||void 0===n?void 0:n.detail.price)/Number(null===(a=E.find((function(e){return"USDT"===e.token})))||void 0===a?void 0:a.detail.price);return{name:e,value:Number(Object(Fe.a)(e,P[t].total))*r}})),D=N.map((function(e,t){var n,a,r,c=P[t],o=Number(null===(n=E.find((function(t){return t.token===e})))||void 0===n?void 0:n.detail.price)/Number(null===(a=E.find((function(e){return"USDT"===e.token})))||void 0===a?void 0:a.detail.price),i=Number(Object(Fe.a)(e,c.total)),s=Number(Object(Fe.a)(e,c.locked));return{token:{type:(null===(r=I.find((function(t){return t.token===e})))||void 0===r?void 0:r.tokenDetail.isLpToken)?f.J.lp:f.J.single,value:e},amount:i,available:i-s,locked:s,smallBalance:o*Number(Object(Fe.a)(e,P[t].total))<1}}));return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(z.a,{children:Object(F.jsx)(f.f,Object(u.a)({},Object(u.a)(Object(u.a)({t:t},n),y)))}),Object(F.jsxs)(xt,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:2,children:[Object(F.jsxs)(vt.a,{component:"div",children:[Object(F.jsx)(_.a,{component:"span",color:"textSecondary",variant:"body1",children:"Asset Distribution"}),Object(F.jsx)(f.l,{data:R})]}),Object(F.jsxs)(vt.a,{component:"div",children:[Object(F.jsx)(_.a,{component:"span",color:"textSecondary",variant:"body1",children:"Total Assets"}),Object(F.jsx)(f.C,{type:f.j.Trend,data:kt}),Object(F.jsx)(At,{children:Object(F.jsx)(f.I,Object(u.a)({exclusive:!0,size:"small"},Object(u.a)(Object(u.a)({},n),{},{t:t,data:yt,value:p,setValue:m})))})]})]}),Object(F.jsx)(gt,{marginTop:2,children:Object(F.jsx)("div",{className:"tableWrapper",ref:a,children:Object(F.jsx)(f.g,Object(u.a)({},Object(u.a)({rawData:D,pagination:{pageSize:o},showFiliter:!0},n)))})})]})})),Tt=Object(he.a)(z.a)(it||(it=Object(re.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    display: flex;\n    flex: 1;\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n\n    .rdg {\n      flex: 1;\n    }\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Ct=Object(H.a)("common")((function(e){var t=b.a.useRef(null),n=b.a.useState(10),a=Object(l.a)(n,2),r=a[0],c=a[1],o=b.a.useState([]),i=Object(l.a)(o,2),s=i[0],p=i[1],m=T.a.getState().account,j=m.accountId,O=m.apiKey;return Object(d.useEffect)((function(){!function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_e.a&&_e.a.userAPI&&j&&O)){e.next=5;break}return e.next=3,_e.a.userAPI.getUserTrades({accountId:j},O);case 3:(t=e.sent)&&t.userTrades&&p(t.userTrades.map((function(e){var t=e.market.split("-"),n=t[t.length-2],a=t[t.length-1];return{side:e.side,price:{key:n,value:Number(e.price)},fee:{key:n,value:Number(Object(Fe.a)(n,e.fee))},time:Number(e.tradeTime),amount:{from:{key:n,value:Number(Object(Fe.a)(n,e.volume))},to:{key:a,value:Number(Object(Fe.a)(n,e.volume))/Number(e.price)}}}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[j,O]),b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&c(Math.floor((n-120)/44)-2)}),[t,r]),Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(Tt,{ref:t,children:[Object(F.jsx)("div",{className:"title",children:"Trades"}),Object(F.jsx)("div",{className:"tableWrapper",children:Object(F.jsx)(f.L,Object(u.a)({},Object(u.a)({rawData:s,pagination:{pageSize:r}},e)))})]})})})),_t=Object(he.a)(z.a)(st||(st=Object(re.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    flex: 1;\n    background-color: ",";\n    border-radius: ","px;\n    padding: 20px;\n\n    .title {\n        font-family: Gilroy-Medium;\n        font-size: ","px;\n        line-height: 19px;\n    }\n\n    .tableWrapper {\n        display: flex;\n        flex: 1;\n        margin-top: 20px;\n        border: 1px solid ",";\n        border-radius: ","px;\n        padding: 26px;\n\n        .rdg {\n            flex: 1;\n        }\n    }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Et=Object(H.a)("common")((function(e){var t=b.a.useRef(null),n=b.a.useState(10),a=Object(l.a)(n,2),r=a[0],c=a[1],o=b.a.useState([]),i=Object(l.a)(o,2),s=i[0],p=i[1],m=T.a.getState().account,j=m.accountId,O=m.apiKey;return Object(d.useEffect)((function(){!function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_e.a&&_e.a.userAPI&&j&&O)){e.next=5;break}return e.next=3,_e.a.userAPI.getOrders({accountId:j},O);case 3:(t=e.sent)&&Array.isArray(t.orders)&&t.orders.length&&p(t.orders.map((function(e){var t=e.market.split("-"),n=t[t.length-2],a=t[t.length-1],r=e.volumes,c=r.baseAmount,o=r.quoteAmount,i=r.baseFilled,s=r.quoteFilled;return{side:"BUY"===e.side?ce.Q.Buy:ce.Q.Sell,amount:{from:{key:n,value:Number(Object(Fe.a)(n,c))},to:{key:a,value:Number(Object(Fe.a)(a,o))}},average:Number(Object(Fe.a)(a,s))/Number(Object(Fe.a)(n,i)),filledAmount:{from:{key:n,value:Number(Object(Fe.a)(n,i))},to:{key:a,value:Number(Object(Fe.a)(a,s))}},filledPrice:{key:a,value:Number(e.price)},time:1e3*e.validity.start,status:e.status,detailTable:[]}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[j,O]),b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&c(Math.floor((n-120)/44)-2)}),[t,r]),Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(_t,{ref:t,children:[Object(F.jsx)("div",{className:"title",children:"Order History"}),Object(F.jsx)("div",{className:"tableWrapper",children:Object(F.jsx)(f.w,Object(u.a)({},Object(u.a)({pagination:{pageSize:r},rawData:s},e)))})]})})})),It=n(2035),St=n(2033),Nt=n(1896),Pt=n(1964),Rt=n(133),Dt=["t","i18n"],Mt=Object(he.a)(ee.a)(ut||(ut=Object(re.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  ",";\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})})),Ut=Object(he.a)(It.a)((function(e){var t=e.theme;return{"& .Mui-checked":{color:t.colorBase.textPrimary,"& + .MuiSwitch-track.MuiSwitch-track":{border:"solid ".concat(t.colorBase.success)},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.success}},"& .MuiSwitch-track":{border:"solid ".concat(t.colorBase.error),opacity:1},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.error}}})),Lt=function(e){var t=e.t,n=e.currency,a=e.label,r=e.handleChange,c=b.a.useState(n||p.b.dollar),o=Object(l.a)(c,2),i=o[0],s=o[1],u=b.a.useCallback((function(e){s(e.target.value),r&&r(e.target.value)}),[r]);return Object(F.jsxs)(f.x,{"aria-label":t(a),IconComponent:p.d,labelId:"language-selected",id:"language-selected",value:i,autoWidth:!0,onChange:u,children:[Object(F.jsxs)(f.y,{value:p.b.dollar,children:["$ ",t("labelUSDollar")]}),Object(F.jsxs)(f.y,{value:p.b.yen,children:["\xa5 ",t("labelCNYYuan")]})]})},Bt=Object(he.a)(St.a)(lt||(lt=Object(re.a)(["\n  margin: ","px 0 ","px 0px;\n"])),(function(e){return e.theme.unit}),(function(e){return e.theme.unit})),Ft=(Object(he.a)(St.a)(dt||(dt=Object(re.a)(["\n  margin: 0;\n  flex: 1;\n  width: 1px;\n  height: ","px;\n  background: ",";\n"])),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.focus})),Object(H.a)(["common","layout"])((function(e){var t=e.t,n=e.i18n,a=Object(Y.a)(e,Dt),r=Object(Rt.f)(),c=Object(f.hb)(),o=c.setUpColor,i=c.setLanguage,s=c.setCurrency,l=c.currency,d=c.upColor,b=n.language;return Object(F.jsxs)(ee.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",flexWrap:"nowrap",children:[Object(F.jsx)(_.a,{variant:"h4",component:"h3",marginY:1,paddingLeft:2,children:t("labelTitleSecurity")}),Object(F.jsxs)(Mt,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:[Object(F.jsxs)(z.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(F.jsx)(_.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleResetL2Keypair")}),Object(F.jsx)(Bt,{}),Object(F.jsxs)(ee.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(F.jsx)(ee.a,{item:!0,xs:8,display:"flex",flexDirection:"column",children:Object(F.jsx)(_.a,{variant:"body1",component:"p",children:Object(F.jsxs)(Pt.a,{i18nKey:"resetDescription",children:["Create a new signing key for layer-2 authentication (no backup needed). This will",Object(F.jsx)(f.R,{component:"span",children:"cancel all your pending orders"}),"."]})})}),Object(F.jsx)(ee.a,{item:!0,xs:4,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(F.jsx)(Nt.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnReset")})}),Object(F.jsx)(ee.a,{item:!0,xs:12,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:Object(F.jsx)(_.a,{variant:"body2",component:"p",paddingTop:1,children:t("labelHadChangPassword",{passDay:"14 hours"})})})]})]}),Object(F.jsxs)(z.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(F.jsx)(_.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleExportAccount")}),Object(F.jsx)(Bt,{}),Object(F.jsxs)(ee.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(F.jsx)(ee.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(F.jsx)(_.a,{variant:"body1",component:"p",children:t("descriptionExportAccount")})}),Object(F.jsx)(ee.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(F.jsxs)(ee.a,{item:!0,children:[" ",Object(F.jsx)(Nt.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnExportAccount")})]})})]})]})]}),Object(F.jsx)(_.a,{variant:"h4",component:"h3",marginY:1,paddingLeft:2,children:t("labelTitlePreferences")}),Object(F.jsx)(Mt,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:Object(F.jsxs)(z.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(F.jsxs)(ee.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(F.jsx)(ee.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(F.jsx)(_.a,{variant:"body1",component:"p",children:t("labelLanguage")})}),Object(F.jsx)(ee.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(F.jsx)(ee.a,{item:!0,children:Object(F.jsx)(f.h,Object(u.a)({},Object(u.a)(Object(u.a)({t:t},a),{},{language:b,label:"languageSetting",handleChange:function(e){i(e),n.changeLanguage(e)}})))})})]}),Object(F.jsxs)(ee.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(F.jsx)(ee.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(F.jsx)(_.a,{variant:"body1",component:"p",children:t("labelCurrency")})}),Object(F.jsx)(ee.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(F.jsx)(ee.a,{item:!0,children:Object(F.jsx)(Lt,Object(u.a)({},Object(u.a)(Object(u.a)({t:t},a),{},{currency:l,label:"currencySetting",handleChange:function(e){s(e)}})))})})]}),Object(F.jsxs)(ee.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,children:[Object(F.jsx)(ee.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(F.jsx)(_.a,{variant:"body1",component:"p",children:t("labelColors")})}),Object(F.jsxs)(ee.a,{item:!0,xs:5,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:[Object(F.jsx)(_.a,{variant:"body1",component:"span",paddingX:2,children:Object(F.jsxs)(Pt.a,{i18nKey:"whichColorIsUp",children:[Object(F.jsxs)("span",{style:{textTransform:"capitalize",color:d===p.l.green?r.colorBase.success:r.colorBase.error},children:[{up:d===p.l.green?t("labelgreen"):t("labelred")}," up"]}),"and ",Object(F.jsxs)("span",{style:{textTransform:"capitalize",color:d===p.l.green?r.colorBase.error:r.colorBase.success},children:[{down:d===p.l.green?t("labelred"):t("labelgreen")}," down"]})]})}),Object(F.jsx)(Ut,{checked:d===p.l.green,color:"default",onChange:function(e){e.target.checked?o(p.l.green):o(p.l.red)}})]})]})]})})]})}))),Kt=["t"],Wt=p.v,Vt=Object(he.a)(z.a)(bt||(bt=Object(re.a)(["\n  ","\n   \n"])),(function(e){var t=e.theme;return"\n    background-color: ".concat(t.colorBase.background().default,";\n    width: 100%;\n    min-width:auto;\n    ").concat(t.border.defaultFrame({c_key:"blur"}),";\n    & > div{\n      background-color:initial;\n      border:0;\n      width:auto;\n      min-width: var(--swap-box-width);\n      max-width: 520px;\n    }\n    ")})),Gt=Object(H.a)(["layout","common"],{withRef:!0})(f.E),Yt=function(){var e,t=Object(s.h)("/layer2/:item"),n=T.a.getState().account.status,a=Object(x.a)(),r=a.t,c=Object(Y.a)(a,Kt),o=null!==(e=null===t||void 0===t?void 0:t.params.item)&&void 0!==e?e:"assets",i=V().depositProps;return Object(F.jsxs)(F.Fragment,{children:["  ",n===k.b.NOACCOUNT||n===k.b.DEPOSITING||n===k.b.DEPOSIT_TO_CONFIREM?Object(F.jsx)(Vt,{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",alignContent:"flex-start",children:Object(F.jsx)(f.k,Object(u.a)(Object(u.a)({},Object(u.a)(Object(u.a)(Object(u.a)({},c),i),{},{title:r("depositTitleAndActive"),description:"depositAndActiveDescription"})),{},{children:" "}))}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(z.a,{width:"200px",display:"flex",justifyContent:"stretch",marginRight:3,children:Object(F.jsx)(f.D,{children:Object(F.jsx)(Gt,{selected:o,subMenu:Wt})})}),Object(F.jsxs)(z.a,{minHeight:420,display:"flex",alignItems:"stretch",flexDirection:"column",marginTop:0,flex:1,children:["assets"===o&&Object(F.jsx)(wt,{}),"transactions"===o&&Object(F.jsx)(Ot,{}),"trades"===o&&Object(F.jsx)(Ct,{}),"orders"===o&&Object(F.jsx)(Et,{}),"setting"===o&&Object(F.jsx)(Ft,{})]})]})]})},Ht=n(57),qt=n(382),zt=n(539),Xt=n(536);var Jt,Qt,Zt,$t,en,tn,nn,an=["t","ammActivityMap"],rn=Object(he.a)(z.a)(Jt||(Jt=Object(re.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n\n  .rdg {\n    flex: 1;\n  }\n\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit})),cn=Object(H.a)("common")((function(e){e.t,e.ammActivityMap,Object(Y.a)(e,an);var t=b.a.useRef(null),n=b.a.useState(10),a=Object(l.a)(n,2),r=a[0],c=a[1],o=function(e){var t=e.pageSize,n=b.a.useState([]),a=Object(l.a)(n,2),r=a[0],c=a[1],o=b.a.useState(1),i=Object(l.a)(o,2),s=i[0],d=i[1],f=b.a.useState([]),m=Object(l.a)(f,2),j=m[0],O=m[1],v=Object(Ee.c)().coinMap,h=Object(Ie.d)(),g=h.ammMap,x=h.status,A=h.statusUnset,y=Object(zt.b)(),k=y.tickerMap,w=y.status,T=y.statusUnset,C=y.updateTickers,_=Object(qt.b)(),E=_.status,I=_.statusUnset,S=b.a.useCallback((function(e){try{var t=G(g);for(var n in e)t[n].tradeFloat=e[n];c(Object.keys(t).map((function(e){return v&&(t[e].coinAInfo=v[t[e].coinA],t[e].coinBInfo=v[t[e].coinB]),t[e]})))}catch(a){throw new p.c(Object(u.a)(Object(u.a)({},p.e.NO_TOKEN_MAP),{},{options:a}))}}),[g]),N=b.a.useCallback((function(e){if(d(e),g&&Object.keys(g).length>0){for(var n=[],a=(s-1)*t;a<Object.keys(g).length&&a<(s-1)*t+t;a++)n.push(Object.keys(g)[a]);O(n)}}),[g,s,t]),P=b.a.useMemo((function(){return Xt.a.onSocket()}),[]);return b.a.useEffect((function(){g&&0!==Object.keys(g).length&&N(s);var e=P.subscribe((function(e){e?S(e):C(j)}));return function(){return e.unsubscribe()}}),[P]),b.a.useEffect((function(){switch(E){case"ERROR":console.log("ERROR","open websocket error get moment value from api "),I(),C(j)}}),[E,I]),b.a.useEffect((function(){switch(w){case"ERROR":console.log("ERROR","get ticker error,ui"),T();break;case"PENDING":break;case"DONE":T(),S(k)}}),[w,T]),b.a.useEffect((function(){switch(x){case"ERROR":console.log("ERROR","get ammMap error,ui"),A();break;case Ht.a.PENDING:console.log("PENDING","get ammMap error,ui");break;case Ht.a.DONE:A(),N(1)}}),[x,A,N]),{page:s,rawData:r,updateTickersUI:N}}({pageSize:r}),i=o.updateTickersUI,s=o.rawData,d=o.page;b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&c(Math.floor((n-120)/44)-1)}),[t,r]);var m=b.a.useCallback((function(e){i(e)}),[i]);return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(rn,{display:"flex",flexDirection:"column",ref:t,children:Object(F.jsx)(f.z,{rawData:s,handlePageChange:m,page:d,pagination:{pageSize:r}})})})})),on=n(2009),sn=n(2029),un=n(2008),ln=function(e){var t=e.pair,n=e._ammCalcData,a=e.ammType,r=(e.tokenMap,e.coinMap),c=e.walletMap,o=e.ammMap,i=e.tickerData,s=e.ammPoolsBalance;if(n.coinInfoMap=r,i&&(n.AtoB=Number(i.close)),isNaN(n.AtoB)&&s){var u=Object(Fe.b)(t.coinAInfo.simpleName,s.pooled[0].volume),l=Object(Fe.b)(t.coinBInfo.simpleName,s.pooled[1].volume);n.AtoB=l&&u&&l.div(u).toNumber()}if(t.coinAInfo)if(a===f.c.Deposit){var d,b;n.myCoinA={belong:t.coinAInfo.simpleName,balance:c?null===(d=c[t.coinAInfo.simpleName])||void 0===d?void 0:d.count:0},n.myCoinB={belong:t.coinBInfo.simpleName,balance:c?null===(b=c[t.coinBInfo.simpleName])||void 0===b?void 0:b.count:0}}else{var p="".concat(t.coinAInfo.simpleName,"-").concat(t.coinBInfo.simpleName),m=0,j=0;if(c){var O,v=c?null===(O=c["LP-"+p])||void 0===O?void 0:O.count:0,h=o["AMM-"+p],g=h.totalLPToken,x=h.totalA,A=h.totalB;x&&g&&A&&(m=x/g*v,j=A/g*v)}n.myCoinA={belong:t.coinAInfo.simpleName,balance:m},n.myCoinB={belong:t.coinBInfo.simpleName,balance:j}}return n},dn=n(171),bn=["pair","walletMap","ammType","snapShotData"],fn=function(e){var t=e.pair,n=e.walletMap,a=e.ammType,r=e.snapShotData,c=Object(Y.a)(e,bn),o=function(e){var t=e.pair,n=e.walletMap,a=e.ammType,r=e.snapShotData,c=Object(Ee.c)(),o=c.coinMap,i=c.tokenMap,s=Object(Ie.d)().ammMap,d=Object(A.a)().account,p=b.a.useState(),m=Object(l.a)(p,2),j=m[0],O=m[1],v=b.a.useState({coinA:{belong:void 0},coinB:{belong:void 0},slippage:.5}),x=Object(l.a)(v,2),y=x[0],k=x[1],T=b.a.useState({coinA:{belong:void 0},coinB:{belong:void 0},slippage:.5}),C=Object(l.a)(T,2),_=C[0],E=C[1],I=b.a.useState(void 0),S=Object(l.a)(I,2),N=S[0],P=S[1],R=b.a.useState(void 0),D=Object(l.a)(R,2),M=D[0],U=D[1],L=b.a.useCallback(function(){var e=Object(g.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=ln({pair:t,ammType:a,_ammCalcData:{},tokenMap:i,coinMap:o,walletMap:n,ammMap:s,tickerData:null===r||void 0===r?void 0:r.tickerData,ammPoolsBalance:null===r||void 0===r?void 0:r.ammPoolsBalance}),O(Object(u.a)(Object(u.a)({},j),c)),c.myCoinA&&(a===f.c.Deposit?k({coinA:c.myCoinA,coinB:c.myCoinB,slippage:.5}):E({coinA:c.myCoinA,coinB:c.myCoinB,slippage:.5}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,n]),B=b.a.useCallback((function(e,t){console.log("handleDepositEvent",e,t)}),[]),F=b.a.useCallback((function(e,t){console.log("handleDepositEvent",e,t)}),[]);b.a.useEffect((function(){r&&L(t)}),[r,t,L,n]),Object(w.a)((function(){var e=Re(De);P(e),U(e)}),[d.status,De]);var K=b.a.useCallback((function(e){var t=Object.assign(Me,Object(Ce.a)({},fe.ACTIVATED,[function(e){console.log("onAmmWithdraw",e),e.__cache__&&ze(e.__cache__)},e]));Re(t)}),[]),W=b.a.useCallback((function(e){var t=Object.assign(Me,Object(Ce.a)({},fe.ACTIVATED,[function(){console.log(" onAmmDeposit",e),e.__cache__&&ze(e.__cache__)},e]));Re(t)}),[]);return{ammCalcData:j,ammDepositData:y,ammWithdrawData:_,handleDepositEvent:B,handleWithDrawEvent:F,onAmmWithdrawClick:K,onAmmDepositClick:W,ammDepositBtnI18nKey:N,ammWithdrawBtnI18nKey:M}}({pair:t,snapShotData:r,walletMap:n,ammType:a||f.c.Deposit}),i=o.ammCalcData,s=o.ammDepositData,d=o.ammWithdrawData,p=o.handleDepositEvent,m=o.handleWithDrawEvent,j=o.onAmmWithdrawClick,O=o.onAmmDepositClick,v=o.ammDepositBtnI18nKey,x=o.ammWithdrawBtnI18nKey,y=b.a.useCallback((function(){if((!r||!r.tradeData||!r.ammPoolsBalance)&&void 0===v&&void 0===x)return!0}),[r,x,x]);return Object(F.jsxs)(F.Fragment,{children:[" ",t?Object(F.jsx)(f.b,Object(u.a)(Object(u.a)({},Object(u.a)({},c)),{},{ammWithdrawData:d,ammDepositData:s,ammCalcData:i,handleDepositEvent:p,handleWithDrawEvent:m,onAmmWithdrawClick:j,onAmmDepositClick:O,tabSelected:a||f.c.Deposit,ammDepositBtnI18nKey:v,ammWithdrawBtnI18nKey:x,ammDepositBtnStatus:y()?dn.h.LOADING:dn.h.AVAILABLE,ammWithdrawBtnStatus:y()?dn.h.LOADING:dn.h.AVAILABLE})):Object(F.jsx)(z.a,{width:"var(--swap-box-width)"})]})},pn=n(102),mn=n.n(pn),jn=n(296),On=n(123),vn=n.n(On),hn=function(e,t){var n=e.ammActivityMap,a=e.type,r=e.ammPoolActivityStatus,c=T.a.getState().tokenMap,o=c.coinMap,i=c.tokenMap,s=c.idIndex,u={};return n&&n[a]&&r.forEach((function(e){n[a][e]&&n[a][e].reduce((function(n,a){if(o&&a.awardRules[0]&&s&&i){var r,c=s[a.awardRules[0].tokenId],u={rewardToken:o[c],myRewards:e===C.a.InProgress&&t&&t[a.market]?Object(Fe.a)(c,null===(r=t[a.market])||void 0===r?void 0:r.currentRewards[0].volume):0,duration:{from:new Date(null===a||void 0===a?void 0:a.rangeFrom),to:new Date(null===a||void 0===a?void 0:a.rangeTo)},isPass:C.a.EndOfGame===e};n[a.market]?n[a.market].push(u):n[a.market]=[u]}return n}),u)})),gn(u)},gn=function(e,t){var n=T.a.getState().tokenMap.coinMap,a=T.a.getState().amm.ammMap.ammMap;try{return e&&n?Reflect.ownKeys(e).reduce((function(t,r){var c=a[r];if(c&&c.coinA&&n&&e[r]){var o=e[r].map((function(e){return Object(u.a)(Object(u.a)({},G(c)),{},{coinAInfo:n[c.coinA],coinBInfo:n[c.coinB],activity:e})}));t=[].concat(Object(Te.a)(t),Object(Te.a)(o))}return t}),[]):[]}catch(r){return console.log(r),[]}},xn=function(e){var t,n,a,r,c,o,i,s,u,l,d,b,f,p,m=e.coinA,j=e.coinB,O=e.ammUserReward,v=e.idIndex,h=e.faitPrices,g=e.forex,x=e.walletMap,A=e.snapShotData;if(O&&(t=O.currentRewards[0]?v[O.currentRewards[0].tokenId]:void 0,n=O.currentRewards[1]?v[O.currentRewards[1].tokenId]:void 0,a=O?Object(Fe.b)(m,O.feeRewards[0]):Object(C.G)(0),r=O?Object(Fe.b)(j,O.feeRewards[1]):Object(C.G)(0),a=a||Object(C.G)(0),r=r||Object(C.G)(0),o=(c=a.times(h[m].price).plus(r.times(h[j].price))).times(g),i=t?Object(Fe.b)(t,O.currentRewards[0].volume):Object(C.G)(0),s=n?Object(Fe.b)(n,O.currentRewards[1].volume):Object(C.G)(0),i=i||Object(C.G)(0),s=s||Object(C.G)(0),l=(u=i.times(t?h[t].price:1).plus(s.times(n?h[n].price:1))).times(g)),x&&x["LP-"+m+"-"+j]&&A){var y=new vn.a(_walletMap["LP-"+m+"-"+j].detail.total).div(A.ammPoolsBalance.lp.volume);d=y.times(Object(Fe.b)(m,A.ammPoolsBalance.pooled[0].volume)||1),b=y.times(Object(Fe.b)(j,A.ammPoolsBalance.pooled[1].volume)||1),p=(f=d.times(h[m].price).plus(b.times(h[j].price))).times(g)}return{feeA:a?a.toNumber():void 0,feeB:r?r.toNumber():void 0,reward:i?i.toNumber():void 0,rewardToken:t?$.a[t]:void 0,reward2:s?s.toNumber():void 0,rewardToken2:n?$.a[n]:void 0,rewardDollar:u?u.toNumber():void 0,rewardYuan:l?l.toNumber():void 0,feeDollar:c?c.toNumber():void 0,feeYuan:o?o.toNumber():void 0,ammDetail:{coinAInfo:$.a[m],coinBInfo:$.a[j]},balanceA:d?d.toNumber():void 0,balanceB:b?b.toNumber():void 0,balanceDollar:f?f.toNumber():void 0,balanceYuan:p?p.toNumber():void 0}},An=function(e,t,n,a){var r=T.a.getState().tokenMap,c=r.coinMap,o=r.idIndex,i=r.tokenMap,s=T.a.getState().system,u=s.faitPrices,d=s.forex,b=e.match(/(\w+)-(\w+)/i),f=Object(l.a)(b,3),p=f[1],m=f[2];if(n&&n["AMM-"+e]&&a&&a.ammPoolsBalance){var j=n["AMM-"+e];if(c&&i&&o&&d&&u)return xn({coinA:p,coinB:m,ammUserReward:j,idIndex:o,faitPrices:u,forex:d,walletMap:t,snapShotData:a})}return{feeA:void 0,feeB:void 0,feeDollar:void 0,feeYuan:void 0,reward:void 0,rewardToken:void 0,balanceA:void 0,balanceB:void 0,balanceYuan:void 0,balanceDollar:void 0}},yn=n(244),kn=function(e){var t=e.ammMap,n=e.coinMap,a=e.ammActivityMap,r=e.ammKey;if(t&&n){var c=G(t[r]),o=a[r];return c&&c.coinA&&(c.myCoinA=n[c.coinA],c.myCoinB=n[c.coinB],c.activity=o||{}),c}},wn=["t","ammActivityMap"],Tn=Object(he.a)(z.a)(Qt||(Qt=Object(re.a)(["\n  ",";\n  background-color: ",";\n"])),(function(e){return e.theme.border.defaultFrame({c_key:"blur"})}),(function(e){return e.theme.colorBase.background().default})),Cn=Object(he.a)(z.a)(Zt||(Zt=Object(re.a)(["\n  width: 100%;\n  height: calc(100% - 64px);\n  \n  //height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: ","px 0 ;\n  .rdg {\n    \n    flex: 1;\n  }\n\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return e.theme.unit})),_n=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"tabpanel-".concat(e)}},En=Object(H.a)("common")((function(e){var t,n,a,r,c,o,i,d,p,m,j,O,v,h,g,x,A,y=e.t,k=e.ammActivityMap,w=Object(Y.a)(e,wn),E=Object(f.hb)().currency,I=function(e){var t=Object(s.h)("/liquidity/pools/coinPair/:symbol"),n=Object(Ee.c)(),a=n.coinMap,r=n.tokenMap,c=n.marketArray,o=(Object(jn.c)().faitPrices,Object(Ie.d)()),i=Object(yn.a)(),d=o.ammMap,f=o.updateAmmMap,p=Object(Se.c)(),m=b.a.useState(void 0),j=Object(l.a)(m,2),O=j[0],v=j[1],h=b.a.useState([]),g=Object(l.a)(h,2),x=g[0],A=(g[1],b.a.useState([])),y=Object(l.a)(A,2),k=y[0],w=y[1],_=b.a.useState(void 0),E=Object(l.a)(_,2),I=E[0],S=E[1],N=b.a.useState(void 0),P=Object(l.a)(N,2),R=P[0],D=P[1],M=b.a.useState({feeA:0,feeB:0,feeDollar:0,feeYuan:0,reward:0,rewardToken:void 0,balanceA:0,balanceB:0,balanceYuan:0,balanceDollar:0}),U=Object(l.a)(M,2),L=U[0],B=U[1],F=b.a.useState({myCoinA:void 0,myCoinB:void 0,activity:void 0,totalRewards:void 0,amountDollar:void 0,amountYuan:void 0,totalLPToken:void 0,totalA:void 0,totalB:void 0,rewardToken:void 0,rewardValue:void 0,feeA:void 0,feeB:void 0,isNew:void 0,isActivity:void 0}),K=Object(l.a)(F,2),W=K[0],V=K[1],G=b.a.useState(void 0),Y=Object(l.a)(G,2),H=Y[0],q=Y[1],z=b.a.useState({coinAInfo:void 0,coinBInfo:void 0}),X=Object(l.a)(z,2),J=X[0],Q=X[1],Z=b.a.useCallback((function(e){var t,n=Ue().walletMap;return v(n),n&&(null===(t=He())||void 0===t||t.then((function(t){var n=qe(e,t);w(n||[])}))),n}),[Ue,He,qe,c,J]);return b.a.useEffect((function(){var n,o=null!==(n=null===t||void 0===t?void 0:t.params.symbol)&&void 0!==n?n:void 0,i={},s=o.match(/(\w+)-(\w+)/i),b=Object(l.a)(s,3),m=b[1],j=b[2],O=Object(C.A)(c,m,j),v=O.amm,h=O.market,g=kn({ammMap:d,coinMap:a,ammActivityMap:e,ammKey:v});if(V(g||{}),a&&Q({coinAInfo:a[m],coinBInfo:a[j]}),p.walletLayer2&&Z(h),v&&h&&d){f();var x=[Ke({coinKey:h,ammKey:v,ammMap:d})];Promise.all([].concat(x)).then((function(e){var t=Object(l.a)(e,1)[0],n=t.ammPoolsBalance,a=t.tickMap;if(r){var c={tickerData:a[h],ammPoolsBalance:n};i=Ve(a[h]?a[h]:{}),q(i),V(Object(u.a)(Object(u.a)({},g),{},{tradeFloat:Object(u.a)(Object(u.a)({},i),{},{APY:g.APY})})),D(c)}})).catch((function(e){throw console.log(e),Error}))}}),[]),b.a.useEffect((function(){var e,t,n=Object(C.A)(c,null===(e=J.coinAInfo)||void 0===e?void 0:e.simpleName,null===(t=J.coinBInfo)||void 0===t?void 0:t.simpleName).market;if(n&&R&&R.ammPoolsBalance)switch(p.status){case"ERROR":p.statusUnset();break;case"DONE":p.statusUnset();var a=Z(n),r=An(n,a,I,R);B(r)}}),[p.status,I]),b.a.useEffect((function(){var e,t,n=Object(C.A)(c,null===(e=J.coinAInfo)||void 0===e?void 0:e.simpleName,null===(t=J.coinBInfo)||void 0===t?void 0:t.simpleName).market;if(n)switch(i.status){case"ERROR":i.statusUnset();break;case"DONE":var a=T.a.getState().userRewardsMap.userRewardsMap;S(a);var r=An(n,O,I,R);B(r)}}),[i.status,i.statusUnset]),b.a.useEffect((function(){if("ERROR"===o.status)o.statusUnset();else if("DONE"===o.status){var t,n;if(o.statusUnset(),o.ammMap&&(null===(t=J.coinAInfo)||void 0===t?void 0:t.simpleName)&&(null===(n=J.coinBInfo)||void 0===n?void 0:n.simpleName)){var r=kn({ammMap:d,coinMap:a,ammActivityMap:e,ammKey:"AMM-"+J.coinAInfo.simpleName+J.coinBInfo.simpleName});V(Object(u.a)(Object(u.a)(Object(u.a)({},W),r),{},{tradeFloat:W.tradeFloat}))}}}),[o.status,o.ammMap,o.statusUnset,J,e,r]),{walletMap:O,myAmm:L,coinPairInfo:W,snapShotData:R,pair:J,tradeFloat:H,ammMarketArray:x,myAmmMarketArray:k}}({ammActivityMap:k}),S=I.tradeFloat,N=I.snapShotData,P=I.pair,R=I.coinPairInfo,D=I.walletMap,M=I.ammMarketArray,U=I.myAmmMarketArray,L=I.myAmm,B=b.a.useState(0),K=Object(l.a)(B,2),W=K[0],V=K[1],G=b.a.useState((null===w||void 0===w?void 0:w.page)?w.page:1),H=Object(l.a)(G,2),q=H[0],X=H[1],J=b.a.useCallback((function(e){X(e)}),[]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(ee.a,{container:!0,children:[Object(F.jsx)(ee.a,{item:!0,xs:8,children:Object(F.jsxs)(on.a,{"aria-label":"breadcrumb",children:[Object(F.jsx)(sn.a,{color:"textSecondary",href:"/#/liquidity/pools",children:y("labelAmmList")}),Object(F.jsxs)(_.a,{color:"textSecondary",display:"flex",alignItems:"center",justifyContent:"center",children:[null===(t=P.coinAInfo)||void 0===t?void 0:t.simpleName,"-",null===(n=P.coinBInfo)||void 0===n?void 0:n.simpleName]})]})}),Object(F.jsx)(ee.a,{item:!0,xs:4,alignItems:"center",justifyContent:"flex-end",display:"flex",children:Object(F.jsx)(sn.a,{href:"/#/liquidity/pools",variant:"h5",children:y("labelBack")})})]}),Object(F.jsx)(ee.a,{container:!0,marginTop:3,children:Object(F.jsx)(ee.a,{item:!0,xs:7,children:Object(F.jsx)(f.M,Object(u.a)({},Object(u.a)(Object(u.a)(Object(u.a)({},w),{},{t:y},P),{},{tradeFloat:S,isNew:!1})))})}),Object(F.jsxs)(z.a,{flex:1,display:"flex",alignItems:"stretch",flexDirection:"row",marginTop:3,children:[Object(F.jsx)(z.a,{flex:1,display:"flex",children:Object(F.jsxs)(ee.a,{container:!0,spacing:2,wrap:"nowrap",children:[Object(F.jsxs)(ee.a,{item:!0,md:5,xs:12,paddingRight:2,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",children:[Object(F.jsxs)(Tn,{paddingY:3,marginBottom:2,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(F.jsxs)(_.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",children:[Object(F.jsx)(_.a,{component:"span",style:{textTransform:"capitalize"},children:y("labelLiquidity")}),Object(F.jsx)(_.a,{component:"span",style:{textTransform:"uppercase"},children:y("labelAPY")})]}),Object(F.jsx)(_.a,{component:"p",color:"textPrimary",display:"flex",justifyContent:"space-between",marginTop:1,children:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(_.a,{component:"span",children:[" ","undefined"===typeof R.amountDollar?"N/A":E===ce.k.dollar?ce.C.Dollar+Object(ce.W)(R.amountDollar):ce.C.Yuan+Object(ce.W)(R.amountYuan?R.amountYuan:0)]}),Object(F.jsxs)(_.a,{component:"span",children:[" ",R.tradeFloat?R.tradeFloat.APY:"N/A","%"]})]})}),Object(F.jsxs)(_.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:2,children:[Object(F.jsxs)(_.a,{component:"span",color:"textSecondary",children:[Object(F.jsx)(un.a,{mdDown:!0,children:y("labelLPTotal")}),y("labelLPTokens")]}),Object(F.jsx)(_.a,{component:"span",color:"textSecondary",children:R.totalLPToken})]}),Object(F.jsxs)(_.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(F.jsxs)(_.a,{component:"span",color:"textSecondary",children:[Object(F.jsx)(un.a,{mdDown:!0,children:y("labelLPTotal")}),null===(a=R.myCoinA)||void 0===a?void 0:a.simpleName]}),Object(F.jsx)(_.a,{component:"span",color:"textSecondary",children:R.totalA})]}),Object(F.jsxs)(_.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(F.jsxs)(_.a,{component:"span",color:"textSecondary",children:[Object(F.jsx)(un.a,{mdDown:!0,children:y("labelLPTotal")}),null===(r=R.myCoinB)||void 0===r?void 0:r.simpleName]}),Object(F.jsx)(_.a,{component:"span",color:"textSecondary",children:R.totalB})]})]}),Object(F.jsxs)(Tn,{paddingY:3,marginBottom:2,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(F.jsxs)(_.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(F.jsxs)(_.a,{component:"span",color:"textSecondary",variant:"body2",style:{textTransform:"capitalize"},children:[null===(c=R.tradeFloat)||void 0===c?void 0:c.timeUnit," ",y("labelVolume")]}),Object(F.jsxs)(_.a,{component:"span",color:"textSecondary",children:[y("labelFee")," "]})]}),Object(F.jsxs)(_.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,alignItems:"center",children:[Object(F.jsx)(_.a,{component:"span",variant:"h4",color:"textPrimary",children:E===ce.k.dollar?ce.C.Dollar+Object(ce.W)(R.tradeFloat&&R.tradeFloat.priceDollar?R.tradeFloat.priceDollar:0):ce.C.Yuan+Object(ce.W)(R.tradeFloat&&R.tradeFloat.priceYuan?R.tradeFloat.priceYuan:0)}),Object(F.jsxs)(_.a,{noWrap:!0,textAlign:"center",component:"span",color:"textSecondary",variant:"body2",textOverflow:"ellipsis",display:"flex",alignItems:"center",children:[Object(F.jsxs)(_.a,{component:"span",color:"inherit",variant:"inherit",display:"flex",flexDirection:"column",children:[Object(F.jsx)(_.a,{component:"span",color:"inherit",variant:"inherit",children:null===(o=R.myCoinA)||void 0===o?void 0:o.simpleName}),Object(F.jsx)(_.a,{component:"span",color:"inherit",variant:"inherit",children:R.feeA?Object(ce.W)(R.feeA):"N/A"})]}),Object(F.jsx)(_.a,{component:"span",color:"inherit",variant:"h5",paddingX:1,children:" + "}),Object(F.jsxs)(_.a,{component:"span",color:"inherit",variant:"inherit",display:"flex",flexDirection:"column",children:[Object(F.jsx)(_.a,{component:"span",color:"inherit",variant:"inherit",children:null===(i=R.myCoinB)||void 0===i?void 0:i.simpleName}),Object(F.jsx)(_.a,{component:"span",color:"inherit",variant:"inherit",children:R.feeB?Object(ce.W)(R.feeB):"N/A"})]})]})]})]}),Object(F.jsxs)(Tn,{paddingY:3,marginBottom:2,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(F.jsx)(_.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",children:Object(F.jsxs)(_.a,{component:"span",color:"textSecondary",children:[" ",y("labelMyPoolShare")]})}),Object(F.jsxs)(_.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(F.jsxs)(_.a,{component:"span",color:"textSecondary",children:[Object(F.jsx)(F.Fragment,{children:L.balanceA?Object(ce.W)(L.balanceA,2):"N/A"}),Object(F.jsxs)(F.Fragment,{children:[" ",null===(d=R.myCoinA)||void 0===d?void 0:d.simpleName]})]}),Object(F.jsxs)(_.a,{component:"span",color:"textecondary",variant:"h5",children:[" ",L.feeA?Object(ce.W)(L.feeA):"N/A"," ",null===(p=R.myCoinA)||void 0===p?void 0:p.simpleName,"  "]})]}),Object(F.jsxs)(_.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(F.jsxs)(_.a,{component:"span",color:"textSecondary",children:[Object(F.jsx)(F.Fragment,{children:L.balanceB?Object(ce.W)(L.balanceB,2):"N/A"}),Object(F.jsxs)(F.Fragment,{children:[" ",null===(m=R.myCoinB)||void 0===m?void 0:m.simpleName]})]}),Object(F.jsxs)(_.a,{component:"span",color:"textSecondary",variant:"h5",children:[" ",L.feeB?Object(ce.W)(L.feeB):"N/A"," ",null===(j=R.myCoinB)||void 0===j?void 0:j.simpleName]})]})]}),Object(F.jsxs)(Tn,{paddingY:3,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(F.jsxs)(z.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(F.jsxs)(_.a,{display:"flex",flexDirection:"column",component:"div",children:[Object(F.jsx)(_.a,{variant:"body2",component:"h5",color:"textSecondary",children:y("labelReward")}),Object(F.jsx)(_.a,{variant:"body1",component:"span",color:"textPrimary",children:"undefined"===typeof R.isActivity?"N/A":Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(_.a,{component:"span",children:[R.activity?Object(ce.W)(R.activity.totalRewards):"N/A"," "]}),Object(F.jsx)(_.a,{component:"span",children:null===(O=R.activity)||void 0===O||null===(v=O.rewardToken)||void 0===v?void 0:v.simpleName})]})})]}),Object(F.jsxs)(_.a,{display:"flex",flexDirection:"column",alignItems:"flex-end",component:"div",children:[Object(F.jsx)(_.a,{variant:"body2",component:"h5",color:"textSecondary",children:y("labelMyReward")}),Object(F.jsx)(_.a,{variant:"body1",component:"span",color:"textPrimary",children:"undefined"===typeof L.reward?"N/A":Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(_.a,{component:"span",children:[" ",Object(ce.W)(L.reward)," "]}),Object(F.jsxs)(_.a,{component:"span",children:[" ",null===(h=R.activity)||void 0===h||null===(g=h.rewardToken)||void 0===g?void 0:g.simpleName]})]})})]})]}),Object(F.jsx)(_.a,{alignSelf:"flex-start",variant:"body2",color:"textSecondary",component:"span",marginTop:1,children:"undefined"===typeof R.isActivity?y("labelNoActiveEvent"):Object(F.jsxs)(F.Fragment,{children:[y("labelDate")," :",Object(F.jsxs)(F.Fragment,{children:[" ",mn()(null===(x=R.activity)||void 0===x?void 0:x.duration.from).format("L")+" - "+mn()(null===(A=R.activity)||void 0===A?void 0:A.duration.to).format("L")]})]})})]})]}),Object(F.jsx)(un.a,{mdDown:!0,children:Object(F.jsx)(ee.a,{item:!0,md:7,paddingRight:2})})]})}),Object(F.jsx)(z.a,{display:"flex",children:Object(F.jsx)(fn,{pair:P,walletMap:D,snapShotData:N})})]}),Object(F.jsx)(ee.a,{container:!0,marginY:3,children:Object(F.jsxs)(ee.a,{item:!0,xs:12,children:[Object(F.jsxs)(je.a,{value:W,onChange:function(e,t){V(t),X(1)},"aria-label":"tabs switch",children:[Object(F.jsx)(Oe.a,Object(u.a)({label:y("labelAll")},_n(0))),Object(F.jsx)(Oe.a,Object(u.a)({label:y("labelMe")},_n(1)))]}),Object(F.jsx)(Cn,{marginTop:2,children:0===W?Object(F.jsx)(f.d,{rawData:M,handlePageChange:J,page:q}):Object(F.jsx)(f.d,{rawData:U,handlePageChange:J,page:q})})]})})]})})),In=n(984),Sn=["ammProps","t","ammActivityMap"],Nn=b.a.memo(b.a.forwardRef((function(e,t){return e?Object(F.jsx)(In.a,Object(u.a)({ref:t},e)):Object(F.jsx)(F.Fragment,{})}))),Pn=function(e){var t=e.ammActivityViewMap;return Object(F.jsx)(F.Fragment,{children:t.map((function(e,t){return Object(F.jsx)(ee.a,{item:!0,xs:12,sm:6,lg:4,children:Object(F.jsx)(Nn,Object(u.a)({},e))},t)}))})},Rn=Object(H.a)("common")((function(e){e.ammProps;var t=e.t,n=e.ammActivityMap,a=(Object(Y.a)(e,Sn),function(e){var t=e.ammActivityMap,n=Object(yn.a)(),a=b.a.useState([]),r=Object(l.a)(a,2),c=r[0],o=r[1],i=b.a.useState([]),s=Object(l.a)(i,2),u=s[0],d=s[1];return b.a.useEffect((function(){t&&Object.keys(t).length>0&&(o(hn({ammActivityMap:t,type:"AMM_MINING",ammPoolActivityStatus:[C.a.NotStarted,C.a.InProgress]},n.userRewardsMap)),d(hn({ammActivityMap:t,type:"AMM_MINING",ammPoolActivityStatus:[C.a.EndOfGame]},n.userRewardsMap)))}),[t]),b.a.useEffect((function(){"ERROR"===n.status?n.statusUnset():"DONE"===n.status&&(n.statusUnset(),o(hn({ammActivityMap:t,type:"AMM_MINING",ammPoolActivityStatus:[C.a.NotStarted,C.a.InProgress]},n.userRewardsMap)),d(hn({ammActivityMap:t,type:"AMM_MINING",ammPoolActivityStatus:[C.a.EndOfGame]},n.userRewardsMap)))}),[n.status]),{ammActivityViewMap:c,ammActivityPastViewMap:u}}({ammActivityMap:n})),r=a.ammActivityViewMap,c=a.ammActivityPastViewMap,o=b.a.useState(0),i=Object(l.a)(o,2),s=i[0],u=i[1];return Object(F.jsxs)(ee.a,{container:!0,spacing:2,children:[Object(F.jsx)(ee.a,{item:!0,xs:12,children:Object(F.jsxs)(je.a,{value:s,onChange:function(e,t){u(t)},"aria-label":"tabs switch",children:[Object(F.jsx)(Oe.a,{label:t("labelCurrentActivities")}),Object(F.jsx)(Oe.a,{label:t("labelPastActivities")})]})}),Object(F.jsx)(Pn,{ammActivityViewMap:0===s?r:c})]})})),Dn=n(510),Mn=function(e){var t=e.market,n=e.ammDetail,a=e.walletMap,r=e.ammUserRewardMap;if(a&&n)return function(e,t,n,a){var r,c,o,i,s=T.a.getState().tokenMap,d=s.coinMap,b=s.idIndex,f=s.tokenMap,p=T.a.getState().system,m=p.faitPrices,j=p.forex,O=e.match(/(\w+)-(\w+)/i),v=Object(l.a)(O,3),h=v[1],g=v[2],x={};if(t&&t["LP-"+h+"-"+g]&&j){var A=new vn.a(t["LP-"+h+"-"+g].detail.total).div(a.totalLPToken);r=A.times(Object(Fe.b)(h,a.totalA?a.totalA:0)||1),c=A.times(Object(Fe.b)(g,a.totalB?a.totalB:0)||1),i=(o=r.times(m[h].price).plus(c.times(m[g].price))).times(j),x={balanceA:r.toNumber(),balanceB:c.toNumber(),balanceYuan:i.toNumber(),balanceDollar:o.toNumber()}}if(n&&n["AMM-"+e]&&a&&j){var y,k,w,_,E,I,S,N,P,R,D=n["AMM-"+e];return d&&f&&b&&j&&m&&D&&(y=D.currentRewards[0]?b[D.currentRewards[0].tokenId]:void 0,k=D.currentRewards[1]?b[D.currentRewards[1].tokenId]:void 0,w=D?Object(Fe.b)(h,D.feeRewards[0]):Object(C.G)(0),_=D?Object(Fe.b)(g,D.feeRewards[1]):Object(C.G)(0),w=w||Object(C.G)(0),_=_||Object(C.G)(0),I=(E=w.times(m[h].price).plus(_.times(m[g].price))).times(j),S=y?Object(Fe.b)(y,D.currentRewards[0].volume):Object(C.G)(0),N=k?Object(Fe.b)(k,D.currentRewards[1].volume):Object(C.G)(0),S=S||Object(C.G)(0),N=N||Object(C.G)(0),R=(P=S.times(y?m[y].price:1).plus(N.times(k?m[k].price:1))).times(j),x=Object(u.a)(Object(u.a)({},x),{},{feeA:w?w.toNumber():void 0,feeB:_?_.toNumber():void 0,reward:S?S.toNumber():void 0,rewardToken:y?d[y]:void 0,reward2:N?N.toNumber():void 0,rewardToken2:k?d[k]:void 0,rewardDollar:P?P.toNumber():void 0,rewardYuan:R?R.toNumber():void 0,feeDollar:E?E.toNumber():void 0,feeYuan:I?I.toNumber():void 0,ammDetail:{coinAInfo:h?d[h]:void 0,coinBInfo:g?d[g]:void 0}})),x}return{feeA:void 0,feeB:void 0,feeDollar:void 0,feeYuan:void 0,reward:void 0,rewardToken:void 0,balanceA:void 0,balanceB:void 0,balanceYuan:void 0,balanceDollar:void 0}}(t,a,r,n)},Un=function(e){e.ammActivityMap;var t=Object(Se.c)(),n=Object(yn.a)(),a=Object(Ee.c)().marketArray,r=Object(Ie.d)(),c=r.ammMap,o=b.a.useState(void 0),i=Object(l.a)(o,2),s=(i[0],i[1]),u=b.a.useState(void 0),d=Object(l.a)(u,2),f=d[0],p=d[1],m=b.a.useState([]),j=Object(l.a)(m,2),O=j[0],v=j[1],h=b.a.useState([]),g=Object(l.a)(h,2),x=g[0],A=g[1],y=b.a.useCallback((function(){var e,t=Ue().walletMap;(s(t),t)&&(null===(e=He())||void 0===e||e.then((function(e){var t=qe(void 0,e);A(t||[])})));return t}),[Ue,He,qe,a]),k=b.a.useCallback((function(e){return e&&c?Reflect.ownKeys(e).reduce((function(t,a){if(/LP-/i.test(a)){var r,o=a.replace("LP-","AMM-"),i=a.replace("LP-","");void 0!==(r=Mn({ammDetail:c[o],walletMap:e,market:i,ammUserRewardMap:n.userRewardsMap}))&&t.push(r)}return t}),[]):[]}),[c,n.userRewardsMap]);return b.a.useEffect((function(){if(t.walletLayer2){var e=y();if(c){var n=k(e);v(n)}}}),[]),b.a.useEffect((function(){switch(t.status){case"ERROR":t.statusUnset();break;case"DONE":t.statusUnset();var e=y();if(r.ammMap){var n=k(e);v(n)}}}),[t.status]),b.a.useEffect((function(){if("ERROR"===r.status)r.statusUnset();else if("DONE"===r.status&&(r.statusUnset(),t.walletLayer2)){var e=k(t.walletLayer2);v(e)}}),[r.status]),b.a.useEffect((function(){if("ERROR"===n.status)n.statusUnset();else if("DONE"===n.status){n.statusUnset();var e=function(e){var t=e.userRewardsMap,n=T.a.getState().tokenMap,a=n.coinMap,r=n.idIndex,c=n.tokenMap,o=T.a.getState().system,i=o.faitPrices,s=o.forex;if(t&&r&&a&&c&&i&&s)return Object.keys(t).reduce((function(e,n){if(/AMM-/i.test(n)){var a=n.match(/AMM-(\w+)-(\w+)/i),c=Object(l.a)(a,3),o=c[1],u=c[2],d=t[n],b=xn({coinB:u,coinA:o,ammUserReward:d,idIndex:r,faitPrices:i,forex:s}),f=b.rewardDollar,p=b.rewardYuan,m=b.feeDollar,j=b.feeYuan;e.rewardDollar=f?Object(C.G)(f).plus(e.rewardDollar).toNumber():0,e.rewardYuan=p?Object(C.G)(p).plus(e.rewardYuan).toNumber():0,e.feeDollar=m?Object(C.G)(m).plus(e.feeDollar).toNumber():0,e.feeYuan=j?Object(C.G)(j).plus(e.feeYuan).toNumber():0}return e}),{rewardDollar:0,rewardYuan:0,feeDollar:0,feeYuan:0})}({userRewardsMap:n.userRewardsMap});if(p(e),t.walletLayer2&&r.ammMap){var a=k(t.walletLayer2);v(a)}}}),[n.status]),{myAmmMarketArray:x,summaryReward:f,myPoolRow:O}},Ln=["t","ammActivityMap"],Bn=[{value:"24 H",key:"24 H"},{value:"1 W",key:"1 W"},{value:"ALL",key:"ALL"}],Fn=(Object(he.a)(z.a)($t||($t=Object(re.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n"]))),Object(he.a)(ee.a)(en||(en=Object(re.a)(["\n  position: relative;\n  width: 100%;\n  background-color: ",";\n  border-radius: ","px;\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}))),Kn=Object(he.a)(z.a)(tn||(tn=Object(re.a)(["\n  position: absolute;\n  z-index: 99;\n  top: ","px;\n  width: 100%;\n"])),(function(e){return e.theme.unit})),Wn=Object(he.a)(ee.a)(nn||(nn=Object(re.a)(["\n  & {\n    background-color: ",";\n    ",";\n  }\n\n  ","\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})}),(function(e){var t=e.theme;return Object(f.G)({pLeft:3*t.unit,pRight:3*t.unit})})),Vn=Object(H.a)("common")((function(e){var t=e.t,n=e.ammActivityMap,a=Object(Y.a)(e,Ln),r=b.a.useState("ALL"),c=Object(l.a)(r,2),o=c[0],i=c[1],s=b.a.useState(1),d=Object(l.a)(s,2),m=d[0],j=d[1],O=Object(f.hb)().currency,v=b.a.useCallback((function(e){j(e)}),[]),h=Un({ammActivityMap:n}),g=h.myAmmMarketArray,x=h.summaryReward,A=h.myPoolRow;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(Fn,{container:!0,spacing:1,padding:3,margin:0,children:[Object(F.jsxs)(ee.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",item:!0,sm:3,children:[Object(F.jsx)(_.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelTotalPositionValue")}),Object(F.jsx)(_.a,{variant:"h4",marginTop:1,children:void 0===x?"N/A":O===p.b.dollar?p.j.Dollar+Object(p.q)(void 0!==x.rewardDollar?x.rewardDollar:0)+Object(p.q)(void 0!==x.feeDollar?x.feeDollar:0):p.j.Yuan+Object(p.q)(x.rewardYuan?x.rewardYuan:0)+Object(p.q)(x.feeYuan?x.feeYuan:0)})]}),Object(F.jsxs)(ee.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",item:!0,sm:3,children:[Object(F.jsx)(_.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelFeeRewards")}),Object(F.jsx)(_.a,{variant:"h4",marginTop:1,children:void 0===x?"N/A":O===p.b.dollar?p.j.Dollar+Object(p.q)(x.feeDollar?x.feeDollar:0):p.j.Yuan+Object(p.q)(x.feeYuan?x.feeYuan:0)})]}),Object(F.jsxs)(ee.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",item:!0,sm:3,children:[Object(F.jsx)(_.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelMiningRewards")}),Object(F.jsx)(_.a,{variant:"h4",marginTop:1,children:void 0===x?"N/A":O===p.b.dollar?p.j.Dollar+Object(p.q)(x.rewardDollar?x.rewardDollar:0):p.j.Yuan+Object(p.q)(x.rewardYuan?x.rewardYuan:0)})]})]}),Object(F.jsxs)(Fn,{container:!0,marginY:2,height:340,children:[Object(F.jsxs)(Kn,{display:"flex",padding:3,justifyContent:"space-between",children:[Object(F.jsx)(_.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelLiquidityValue")}),Object(F.jsx)(z.a,{marginRight:-1,children:Object(F.jsx)(f.I,Object(u.a)({exclusive:!0,size:"small"},Object(u.a)(Object(u.a)({},a),{},{t:t,data:Bn,value:o,setValue:i})))})]}),Object(F.jsx)(f.C,{type:f.j.Trend,data:[]})]}),Object(F.jsx)(_.a,{paddingLeft:2,variant:"h4",children:t("labelMyAmm")}),Object(F.jsx)(Wn,{container:!0,marginY:2,paddingY:2,flex:1,height:568,children:Object(F.jsx)(ee.a,{item:!0,xs:12,display:"flex",flexDirection:"column",children:Object(F.jsx)(Dn.a,{rawData:A,pagination:{pageSize:5},handleDeposit:function(e){console.log()},handleWithdraw:function(e){console.log()},handlePageChange:function(){}})})}),Object(F.jsx)(_.a,{paddingLeft:2,variant:"h4",children:t("labelMyAmmRecord")}),Object(F.jsx)(Wn,{container:!0,marginTop:2,paddingY:2,flex:1,children:Object(F.jsx)(ee.a,{item:!0,xs:12,display:"flex",flexDirection:"column",children:Object(F.jsx)(f.d,{rawData:g,handlePageChange:v,page:m})})})]})})),Gn=n(381),Yn=p.w,Hn=Object(H.a)(["layout","common"],{withRef:!0})(f.E),qn=function(){var e,t,n=function(){var e=Object(Gn.c)(),t=Object(yn.a)().updateUserRewards,n=Object(A.a)().account,a=Object(Ie.d)(),r=a.ammMap,c=a.updateAmmMap,o=b.a.useState(e.ammActivityMap),i=Object(l.a)(o,2),s=i[0],u=i[1];return b.a.useEffect((function(){r&&0!==Object.keys(r).length||c()}),[]),b.a.useEffect((function(){switch(e.status){case"ERROR":e.statusUnset();break;case"DONE":e.statusUnset(),u(e.ammActivityMap)}}),[e.status]),b.a.useEffect((function(){n.accountId&&t()}),[n.accountId]),{ammActivityMap:s}}().ammActivityMap,a=Object(s.h)(["/liquidity/:item",":next/"]),r=null!==(e=null===a||void 0===a?void 0:a.params.item)&&void 0!==e?e:"pools",c=Object(s.h)(["/liquidity/:item/:next/:symbol"]),o=void 0;return c&&(null===c||void 0===c||null===(t=c.params)||void 0===t?void 0:t.next)&&"pools"===c.params.item&&(o=c.params.symbol?c.params.symbol:"LRC-ETH"),Object(F.jsxs)(F.Fragment,{children:[o&&Object(F.jsx)(z.a,{display:"flex",flexDirection:"column",flex:1,alignSelf:"flex-start",children:Object(F.jsx)(En,{ammActivityMap:n})}),!o&&Object(F.jsxs)(F.Fragment,{children:["  ",Object(F.jsx)(z.a,{width:"200px",display:"flex",justifyContent:"stretch",marginRight:3,marginBottom:3,children:Object(F.jsx)(f.D,{children:Object(F.jsx)(Hn,{selected:r,subMenu:Yn})})}),Object(F.jsxs)(z.a,{minHeight:420,display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",marginTop:0,flex:1,marginBottom:3,children:["pools"===r&&!o&&Object(F.jsx)(cn,{ammActivityMap:n}),"amm-mining"===r&&!o&&Object(F.jsx)(Rn,{ammActivityMap:n}),"my-liquidity"===r&&!o&&Object(F.jsx)(Vn,{ammActivityMap:n}),"orderBook-Mining"===r&&Object(F.jsx)(Rn,{ammActivityMap:n})]})]})]})};t.a=function(){return Object(F.jsxs)(i.a,{children:[Object(F.jsx)(Q,{}),Object(F.jsx)(pt.a,{maxWidth:"lg",style:{minHeight:"calc(100% - 64px - 32px)",display:"flex",flexDirection:"column"},children:Object(F.jsx)(z.a,{display:"flex",flex:1,alignItems:"stretch",flexDirection:"row",marginTop:3,children:Object(F.jsxs)(s.c,{children:[Object(F.jsx)(s.a,{exact:!0,component:Ze,path:"/"}),Object(F.jsx)(s.a,{exact:!0,component:ae,path:"/markets"}),Object(F.jsx)(s.a,{component:Ze,path:"/trading/lite"}),Object(F.jsx)(s.a,{component:Ze,path:"/trading/lite(/:symbol)"}),Object(F.jsx)(s.a,{exact:!0,component:Yt,path:"/layer2"}),Object(F.jsx)(s.a,{exact:!0,component:Yt,path:"/layer2/assets"}),Object(F.jsx)(s.a,{exact:!0,component:Yt,path:"/layer2/transactions"}),Object(F.jsx)(s.a,{exact:!0,component:Yt,path:"/layer2/trades"}),Object(F.jsx)(s.a,{exact:!0,component:Yt,path:"/layer2/orders"}),Object(F.jsx)(s.a,{exact:!0,component:Yt,path:"/layer2/setting"}),Object(F.jsx)(s.a,{exact:!0,component:qn,path:"/liquidity"}),Object(F.jsx)(s.a,{exact:!0,component:qn,path:"/liquidity/pools/*"}),Object(F.jsx)(s.a,{exact:!0,component:qn,path:"/liquidity/pools"}),Object(F.jsx)(s.a,{exact:!0,component:qn,path:"/liquidity/amm-mining"}),Object(F.jsx)(s.a,{exact:!0,component:qn,path:"/liquidity/my-liquidity"}),Object(F.jsx)(s.a,{exact:!0,component:qn,path:"/liquidity/orderBook-Mining"}),Object(F.jsx)(s.a,{exact:!0,component:qn,path:"/liquidity/maker-rebates"}),Object(F.jsx)(mt.a,{children:Object(F.jsx)(s.a,{exact:!0,path:"/debug",children:Object(F.jsx)(ft,{})})})]})})})]})}}},[[1878,9,4,2,3,1,8,5,6]]]);
//# sourceMappingURL=main~a97bfcba.62ea183a.chunk.js.map