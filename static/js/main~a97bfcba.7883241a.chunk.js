(this["webpackJsonp@loopring-web/webapp"]=this["webpackJsonp@loopring-web/webapp"]||[]).push([[7],{1005:function(e,t,n){"use strict";var a=n(140),r=n(102),c=n(3),o=n(7),s=n(0),i=n.n(s),u=n(29),l=n(35),d=n(1981),b=n(1979),p=n(1909),O=n(1990),f=n(1911),j=n(75),m=n(5),h=n.n(m),g=n(21),v=n(961),A=n(518),x=n(90);var T=n(43),C=n(66),_=n(361),k=n(242),y=n(58),E=n(278),S=n(173),I=n(89);function P(){var e=Object(I.b)(),t=Object(v.a)("common").t;return{ShowDeposit:Object(s.useCallback)((function(n){var a=k.a.getState().account.status===T.b.NOACCOUNT;console.log("isNoAccount: ",a,t("depositTitleAndActive"));var r={isShow:n,props:{title:t(a?"depositTitleAndActive":"depositTitle"),description:"depositAndActiveDescription"}};e(Object(u.setShowDeposit)(r))}),[e,t]),ShowTransfer:Object(s.useCallback)((function(t){return e(Object(u.setShowTransfer)({isShow:t}))}),[e]),ShowWithdraw:Object(s.useCallback)((function(t){return e(Object(u.setShowWithdraw)({isShow:t}))}),[e]),ShowResetAccount:Object(s.useCallback)((function(t){return e(Object(u.setShowResetAccount)({isShow:t}))}),[e])}}var R,w=n(314),N=n.n(w),D=n(63),B=n(28),M=n(104),L=n.n(M),U=n(478),F=1e4;!function(e){e.Normal="Normal",e.EmptyInput="EmptyInput",e.ExceedUserBalance="ExceedUserBalance",e.ExceedPoolBalance="ExceedPoolBalance",e.Loading="Loading"}(R||(R={}));var K=function(e,t,n,a){var r=R.Normal;e=new L.a(e),t=new L.a(t),n=new L.a(n),a=new L.a(a);var c=new L.a(0);return e.gt(t)?r=R.ExceedUserBalance:n.gt(a)?r=R.ExceedPoolBalance:(e.eq(c)||n.eq(c))&&(r=R.EmptyInput),{isNormal:r===R.Normal}};function W(e,t){var n=t[e];if(n){var a=U.utils.getAddress(n.address);return"https://exchange.loopring.io/assets/images/ethereum/assets/".concat(a,"/logo.png")}return""}var H=function(e,t,n){if(e){var a=e[t].tokenList,r={};if(a)return a.forEach((function(e){r[e]={icon:W(e,n),name:e,simpleName:e,description:"",company:""}})),{right:a,coinMapRight:r}}},V=function(e,t){if(!e)throw Error("no tokens list!");return e[t]},G=function(e,t,n){var a=V(t,n),r=e.pooledMap[a.tokenId].volume;return{tokenInfo:a,tokenVol:r,reserve:B.f(r)}},Y=function(e,t){if(!e||!t)return{key:void 0,key_bak:void 0,isOK:!1};return{key:"AMM-"+e+"-"+t,key_bak:"AMM-"+t+"-"+e,isOK:!0}},q=function(e,t){var n=t.key,a=t.key_bak;return e[n]?e[n]:e[a]},z=function(e,t,n,a,r){var c=X(e,t,n,a),o=c.ammInfo,s=c.ammBalance,i=V(r,n),u=V(r,a);return{ammInfo:o,ammBalance:s,baseBalance:s.pooledMap[i.tokenId],quoteBalance:s.pooledMap[u.tokenId]}},X=function(e,t,n,a){var r=Y(n,a),c=q(e,r),o=q(t,r);if(!c||!o)throw Error("no ammInfo! no ammBalance!");return{ammInfo:c,ammBalance:o,feeBips:parseInt(c.feeBips)}},J=function(e,t){return void 0===e&&(e=0),B.f(e).times("1e"+t.decimals)},Q=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,r=V(e,t),c=1e7,o=B.f(c*(1-a)),s=B.f(n).times("1e"+r.decimals),i=s.times(o).dividedBy(c),u=Z(e,t,i);return{outInWei:i,out:u}},$=function(e,t,n,a){var r=V(e,t),c=B.f(F-a);return B.f(n).times("1e"+r.decimals).times(c).dividedBy(F)};function Z(e,t,n,a,r){try{var c=V(e,t),o=a||c.precision,s=B.f(n).div("1e"+c.decimals);return B.h(s,o,r)}catch(i){return 0}}function ee(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,r=V(e,t);return"undefined"===typeof r?0:B.f(n).times("1e"+r.decimals).toFixed(0,a)}var te=n(189);function ne(){var e=Object(s.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(D.b)();return Object(te.a)((function(){if(r)return r.getMarkets()}),a,void 0,"useGetMarkets",[r]),{markets:n}}function ae(){var e=Object(s.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(D.b)();return Object(te.a)((function(){if(r)return r.getExchangeInfo()}),a,"exchangeInfo","useGetExchangeInfo",[r]),{exchangeInfo:n}}function re(){var e=Object(s.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(D.b)();return Object(te.a)((function(){if(r)return r.getTokens()}),a,void 0,"useGetTokens",[r]),{tokens:n}}var ce=n(513),oe=n(85),se=n(144);n(347);function ie(e){var t=Object(D.c)(),n=Object(s.useState)(void 0),a=Object(o.a)(n,2),r=a[0],c=a[1],i=Object(x.a)(),u=i.apiKey,l=i.accountId;return Object(C.a)((function(){if(t&&u&&l&&e){var n=[],a=Reflect.ownKeys(e),r={};a.forEach((function(t){var a=e[t];n.push(a.tokenId),r[a.tokenId]=a})),t.getUserBalances({accountId:l,tokens:n.join(",")},u).then((function(t){var n={map:r,tokenId:{},symbol:{}};t.forEach((function(a){var c=B.f(a.total),o=B.f(a.locked),s=c.minus(o);console.log("item:",a);var i=r[a.tokenId];t[0].total,t[0].locked,s.toString(),Z(e,i.symbol,s);n.tokenId[a.tokenId]=s.toString(),n.symbol[i.symbol]=s.toString()})),c(n)})).catch((function(t){Object(oe.a)(t,"getUserBalances tokenId:"+e.tokenId)}))}}),[t,u,l,e]),{balances:r,setBalances:c}}var ue=n(1),le=function(){var e=Object(v.a)(["common","layout"]),t=e.i18n,n=e.t,a=Object(u.useSettings)(),r=a.setTheme,s=a.themeMode,d=a.language,b=a.setLanguage,p=P().ShowDeposit,O=i.a.useState(!1),f=Object(o.a)(O,2),j=f[0],m=f[1],I=i.a.useReducer((function(e){return!e}),!1)[1],R=Object(x.a)().account,w=Object(x.e)(),N=w.lock,D=w.unlock,B=Object(x.c)().connect,M=Object(S.c)().etherscanUrl,L=[Object(c.a)(Object(c.a)({},l.gatewayList[0]),{},{handleSelect:function(){console.log("try to connect to ",y.b.Injected),B(y.b.Injected,!0),m(!1)}})],U=i.a.useState(void 0),F=Object(o.a)(U,2),K=F[0],W=F[1],H=i.a.useCallback(Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onNotification click");case 1:case"end":return e.stop()}}),e)}))),[]),V=i.a.useCallback(Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.getState().account,console.log("onWalletBtnConnent click: ".concat(t.status)),e.t0=t.status,e.next=e.t0===T.b.NOACCOUNT?5:e.t0===T.b.UNCONNNECTED?7:e.t0===T.b.LOCKED?9:e.t0===T.b.ACTIVATED?13:17;break;case 5:return p(!0),e.abrupt("break",18);case 7:return m(!0),e.abrupt("break",18);case 9:return console.log("onWalletBtnConnent try to unlock"),e.next=12,D(t);case 12:return e.abrupt("break",18);case 13:return console.log("onWalletBtnConnent try to lock"),e.next=16,N(t);case 16:case 17:return e.abrupt("break",18);case 18:case"end":return e.stop()}}),e)}))),[m,N,D,p]),G=i.a.useCallback(function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===_.b.dark?r(_.b.light):r(_.b.dark);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r]),Y=function(e){b(e)},q=i.a.useState(!!(null===R||void 0===R?void 0:R.accAddr)),z=Object(o.a)(q,2),X=z[0],J=z[1],Q=i.a.useState(!1),$=Object(o.a)(Q,2),Z=$[0],ee=$[1],te=i.a.useCallback((function(e){e.stopPropagation(),e.preventDefault(),J(!X)}),[J,X]);Object(C.a)((function(){l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(c.a)(Object(c.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{handleClick:V}),l.headerToolBarData[l.ButtonComponentsMap.Theme]=Object(c.a)(Object(c.a)({},l.headerToolBarData[l.ButtonComponentsMap.Theme]),{},{themeMode:s,handleClick:G}),l.headerToolBarData[l.ButtonComponentsMap.Language]=Object(c.a)(Object(c.a)({},l.headerToolBarData[l.ButtonComponentsMap.Language]),{},{handleChange:Y})}),[s,d,t,V,G,Y,H,n]);var ne=Object(A.a)("common")((function(e){var t=e.t;return Object(ue.jsx)(u.Button,{variant:"contained",size:"small",color:"primary",onClick:function(e){return ee(!0)},children:t("labelGoAdvance")})}));return Object(C.a)((function(){if(!R)return console.log("account"+R+"* exit"),void W(void 0);var e=R.status,t=function(e){if(e&&void 0!==e&&null!==e&&""!==e.trim())return e.substr(0,6)+"..."+e.substr(e.length-4);console.log("getShortAddr got empty!")}(null===R||void 0===R?void 0:R.accAddr);t&&K&&K.address!==t||t?W({address:t,level:"VIP 1",ethLink:M+(null===R||void 0===R?void 0:R.accAddr),mainBtn:Object(ue.jsx)(ne,{})}):t&&W(void 0);var a=function(){l.headerMenuData[l.HeadMenuTabKey.Layer2]=Object(c.a)(Object(c.a)({},l.headerMenuData[l.HeadMenuTabKey.Layer2]),{},{extender:Object(ue.jsx)(E.a,{disabled:!R,onClick:te,"aria-label":n("labelShowAccountInfo"),color:"primary",children:X?Object(ue.jsx)(l.HideIcon,{}):Object(ue.jsx)(l.ViewIcon,{})}),status:l.HeaderMenuTabStatus.default})};switch(e){case T.b.UNCONNNECTED:l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(c.a)(Object(c.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{label:"Connect Wallet",status:l.WalletStatus.default}),l.headerMenuData[l.HeadMenuTabKey.Layer2]=Object(c.a)(Object(c.a)({},l.headerMenuData[l.HeadMenuTabKey.Layer2]),{},{status:l.HeaderMenuTabStatus.hidden});break;case T.b.LOCKED:l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(c.a)(Object(c.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{label:t,status:l.WalletStatus.connect}),a();break;case T.b.ACTIVATED:l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(c.a)(Object(c.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{label:t,status:l.WalletStatus.unlock}),a();break;case T.b.UNACTIVATED:case T.b.NOACCOUNT:l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(c.a)(Object(c.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{label:t,status:l.WalletStatus.noAccount}),a();break;case T.b.DEPOSITING:case T.b.DEPOSIT_TO_CONFIREM:case T.b.ARPROVING:case T.b.APPROV_TO_CONFIRM:l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(c.a)(Object(c.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{label:t,status:l.WalletStatus.accountPending}),a()}I()}),[R,X,M,W]),{headerToolBarData:l.headerToolBarData,headerMenuData:l.headerMenuData,gatewayList:L,open:j,setOpen:m,setShowAccountInfo:J,account:R,showAccountInfo:X,accountInfoProps:K,advanceOpen:Z,setAdvanceOpen:ee}};function de(e,t){var n=Object(D.c)(),a=Object(x.a)(),r=a.accountId,c=a.apiKey,i=Object(s.useState)([]),u=Object(o.a)(i,2),l=u[0],d=u[1];return Object(C.a)(Object(g.a)(h.a.mark((function a(){var o,s,i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("!!!!!!!!!useCustomDCEffect useChargeFeeList:",e,r),r&&e){a.next=3;break}return a.abrupt("return");case 3:return o=[],a.prev=4,s={accountId:r,tokenSymbol:e,requestType:t},a.next=8,n.getOffchainFeeAmt(s,c);case 8:(i=a.sent)&&(i.fees.forEach((function(e,t){o.push({belong:e.token,fee:e.fee})})),d(o)),console.log("response:",i),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),Object(oe.a)(a.t0);case 16:d(o);case 17:case"end":return a.stop()}}),a,null,[[4,13]])}))),[r,c,e]),{chargeFeeList:l}}function be(){var e=P(),t=e.ShowDeposit,n=e.ShowTransfer,a=e.ShowWithdraw,r=e.ShowResetAccount,c=Object(x.f)(),i=c.chainId,d=c.isConnected,b=c.connector,p=ae().exchangeInfo,O=Object(x.a)(),f=O.account,j=O.apiKey,m=O.accountId,v=O.eddsaKey,A=re().tokens,T=null===A||void 0===A?void 0:A.tokenSymbolMap,_=Object(D.c)(),k=Object(D.b)(),E=function(e,t){var n=Object(s.useState)({}),a=Object(o.a)(n,2),r=a[0],c=a[1];return Object(C.a)(Object(g.a)(h.a.mark((function n(){var a,r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t){n.next=2;break}return n.abrupt("return");case 2:a=Reflect.ownKeys(t),r={},a.forEach((function(e){e.startsWith("LP-")||(r[e]={icon:W(e,t),name:e,simpleName:e,description:"",company:""})})),c(r);case 6:case"end":return n.stop()}}),n)}))),[e,t]),{coinMap:r}}(k,T).coinMap,S=function(e,t,n){var a=Object(s.useState)({}),r=Object(o.a)(a,2),c=r[0],i=r[1];return Object(C.a)(Object(g.a)(h.a.mark((function a(){var r,c,o;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t&&t.accAddr&&n){a.next=2;break}return a.abrupt("return");case 2:return r={},a.next=5,e.getTokenBalances({owner:t.accAddr,token:""},n);case 5:c=a.sent,o=c.tokenBalances,Reflect.ownKeys(o).forEach((function(e){var t=o[e];r[e]={belong:e,count:Z(n,e,t)}})),i(r);case 10:case"end":return a.stop()}}),a)}))),[e,t,n]),{walletMap:c}}(k,f,T).walletMap,I=function(e){var t=ie(e).balances,n=Object(s.useState)({}),a=Object(o.a)(n,2),r=a[0],c=a[1];return Object(C.a)((function(){var n={};t&&t.symbol&&Reflect.ownKeys(t.symbol).forEach((function(a){var r=t.symbol[a];n[a]={belong:a,count:Z(e,a,r)}})),console.log("lv2:",n),c(n)}),[t,e]),{walletMap:r}}(T).walletMap,R=Object(s.useCallback)(function(){var e=Object(g.a)(h.a.mark((function e(t,n){var a,r,c,o,s,u,l,O,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T&&d&&b&&(null===p||void 0===p?void 0:p.exchangeAddress)&&(null===p||void 0===p?void 0:p.depositAddress)){e.next=3;break}return console.log("exchangeInfo:".concat(p," deposit exit!!!!!")),e.abrupt("return");case 3:return e.prev=3,a=T[t],e.next=7,b.getProvider();case 7:return r=e.sent,c=new N.a(r),o=f.connectName===y.b.Injected,o=!0,e.next=13,k.getGasPrice();case 13:return e.t0=e.sent.data,s=e.t0/1e9,u=35e4,e.next=18,ce.c(c,f.accAddr);case 18:return l=e.sent,console.log("gasPrice:",s),console.log("account.connectName:",f.connectName," tokenInfo:",a),e.next=23,ce.a(c,f.accAddr,a.address,null===p||void 0===p?void 0:p.depositAddress,s,u,i,l,o);case 23:return O=e.sent,console.log("response:",O),0,e.next=28,ce.b(c,f.accAddr,null===p||void 0===p?void 0:p.exchangeAddress,a,n,0,s,u,i,l+1,o);case 28:j=e.sent,console.log("response2:",j),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(3),Object(oe.a)(e.t1);case 35:case"end":return e.stop()}}),e,null,[[3,32]])})));return function(t,n){return e.apply(this,arguments)}}(),[i,d,b,f,p,T,k]),w=Object(s.useCallback)(function(){var e=Object(g.a)(h.a.mark((function e(t,n){var a,r,c,o,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("withdraw apiKey:",j," exchangeInfo:",p," exchangeAddr:",p.exchangeAddress),f&&f.accountId&&f.accAddr&&b&&i&&j&&p&&p.exchangeAddress){e.next=4;break}return console.log("return directly!!!!!",f,b,i,j,p),e.abrupt("return");case 4:return"5500000000000000000","5500000000000000000",console.log("exchangeAddress:",p.exchangeAddress),e.prev=7,a={accountId:f.accountId,sellTokenId:1},e.next=11,_.getNextStorageId(a,j);case 11:return r=e.sent,c={exchange:p.exchangeAddress,owner:f.accAddr,to:f.accAddr,accountId:f.accountId,storageId:r.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},extraData:"",minGas:0,validUntil:se.f},e.next=15,b.getProvider();case 15:return o=e.sent,s=new N.a(o),e.next=19,_.submitOffchainWithdraw(c,s,i,y.b.Injected,f.eddsaKey,j,!1);case 19:u=e.sent,console.log(u),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),Object(oe.a)(e.t0);case 26:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t,n){return e.apply(this,arguments)}}(),[j,f,b,p,i,_]),B=Object(s.useCallback)(function(){var e=Object(g.a)(h.a.mark((function e(t){var n,a,r,c,o,s,u,l,d,O,g=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>1&&void 0!==g[1]?g[1]:"0xb6AdaC3e924B4985Ad74646FEa3610f14cDFB79c",b&&j&&i&&m&&(null===f||void 0===f?void 0:f.accAddr)){e.next=3;break}return e.abrupt("return");case 3:return a={accountId:m,sellTokenId:1},e.next=6,_.getNextStorageId(a,j);case 6:return r=e.sent,console.log("amt: ".concat(t," storageId:").concat(JSON.stringify(r))),e.prev=8,e.next=11,b.getProvider();case 11:return c=e.sent,o=new N.a(c),s=f.connectName,s=y.b.Injected,e.next=17,k.getAccount({owner:n});case 17:return u=e.sent,l=0,u&&(l=u.accountId),d={exchange:p.exchangeAddress,payerAddr:f.accAddr,payerId:m,payeeAddr:n,payeeId:l,storageId:r.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},validUntil:se.f},console.log("request2:".concat(JSON.stringify(d))),e.next=24,_.submitInternalTransfer(d,o,i,s,v,j,!1);case 24:O=e.sent,console.log(O),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),Object(oe.a)(e.t0);case 31:case"end":return e.stop()}}),e,null,[[8,28]])})));return function(t){return e.apply(this,arguments)}}(),[j,m,f,b,p,i,v,_,k]),M=Object(s.useState)({belong:void 0,tradeValue:0,balance:0}),L=Object(o.a)(M,2),U=L[0],F=L[1],K={tradeData:{belong:void 0},coinMap:E,walletMap:S,depositBtnStatus:u.TradeBtnStatus.AVAILABLE,onDepositClick:function(e){console.log("1. onDepositClick",U),U&&U.belong&&R(U.belong.toString(),U.tradeValue),t(!1)},handlePanelEvent:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(U!==t.tradeData&&F(t.tradeData),J(t.tradeData.belong)):F({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},H=Object(s.useState)({belong:void 0,tradeValue:0,balance:0}),V=Object(o.a)(H,2),G=V[0],Y=V[1],q=Object(s.useState)(""),z=Object(o.a)(q,2),X=z[0],J=z[1],Q=de(X,se.b.OFFCHAIN_WITHDRAWAL).chargeFeeList,$={tradeData:{belong:void 0},coinMap:E,walletMap:I,withdrawBtnStatus:u.TradeBtnStatus.AVAILABLE,onWithdrawClick:function(e){console.log("Swap button click",G),G&&G.belong&&w(G.belong.toString(),G.tradeValue),a(!1)},handlePanelEvent:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(G!==t.tradeData&&Y(t.tradeData),J(t.tradeData.belong)):Y({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),withdrawType:l.WithdrawType.Fast,withdrawTypes:l.WithdrawTypes,chargeFeeToken:"ETH",chargeFeeTokenList:Q,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},ee=Object(s.useState)({belong:void 0,tradeValue:0,balance:0}),te=Object(o.a)(ee,2),ne=te[0],ue=te[1],le=Object(s.useState)(""),be=Object(o.a)(le,2),pe=be[0],Oe=be[1],fe=de(pe,se.b.TRANSFER).chargeFeeList,je={tradeData:{belong:void 0},coinMap:E,walletMap:I,transferBtnStatus:u.TradeBtnStatus.AVAILABLE,onTransferClick:function(e){console.log("onTransferClick:",ne),ne&&ne.belong&&B(ne.tradeValue),n(!1)},handlePanelEvent:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(ne!==t.tradeData&&ue(t.tradeData),Oe(t.tradeData.belong)):ue({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),chargeFeeToken:"ETH",chargeFeeTokenList:fe,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},me=Object(s.useState)({belong:void 0,tradeValue:0,balance:0}),he=Object(o.a)(me,2),ge=he[0],ve=he[1];return{depositProps:K,withdrawProps:$,transferProps:je,resetProps:{tradeData:{belong:void 0},coinMap:E,walletMap:I,resetBtnStatus:u.TradeBtnStatus.AVAILABLE,onResetClick:function(e){console.log("onResetClick",ge),ge&&ge.belong,r(!1)},handlePanelEvent:function(){var e=Object(g.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?ge!==t.tradeData&&ve(t.tradeData):ve({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fee:{count:234,price:123}}}}var pe,Oe,fe,je,me,he=n(36),ge=n(11),ve=n(17),Ae=n(645),xe=n(42),Te=n(1989),Ce=n(1913),_e=n(37),ke=n(521),ye=n(519),Ee=n(118),Se=Object(ve.a)(Ae.a)(pe||(pe=Object(ge.a)(["\n  //background: ",";\n  // .MuiBackdrop-root{\n  //   z-index: -1;\n  //   background-color: ","; \n  // }\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.theme.colorBase.background().secondary}),(function(e){return e.theme.colorBase.background().outline})),Ie=Object(ve.a)(j.a)(Oe||(Oe=Object(ge.a)(["\n  ",";\n  background: ",";\n  max-height: var(--panel-setting-height);\n  max-width: var(--panel-setting-width);\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  overflow: scroll;\n  padding: ","px\n"])),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})}),(function(e){return e.theme.colorBase.background().secondary}),(function(e){return 8*e.theme.unit})),Pe=Object(ve.a)(xe.a)(fe||(fe=Object(ge.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  ",";\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})})),Re=Object(ve.a)(Te.a)((function(e){var t=e.theme;return{"& .Mui-checked":{color:t.colorBase.textPrimary,"& + .MuiSwitch-track.MuiSwitch-track":{border:"solid ".concat(t.colorBase.success)},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.success}},"& .MuiSwitch-track":{border:"solid ".concat(t.colorBase.error),opacity:1},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.error}}})),we=function(e){var t=e.t,n=e.currency,a=e.label,r=e.handleChange,c=i.a.useState(n||l.Currency.dollar),s=Object(o.a)(c,2),d=s[0],b=s[1],p=i.a.useCallback((function(e){b(e.target.value),r&&r(e.target.value)}),[r]);return Object(ue.jsxs)(u.OutlineSelect,{"aria-label":t(a),IconComponent:l.DropDownIcon,labelId:"language-selected",id:"language-selected",value:d,autoWidth:!0,onChange:p,children:[Object(ue.jsxs)(u.OutlineSelectItem,{value:l.Currency.dollar,children:["$ ",t("labelUSDollar")]}),Object(ue.jsxs)(u.OutlineSelectItem,{value:l.Currency.yen,children:["\xa5 ",t("labelCNYYuan")]})]})},Ne=Object(ve.a)(Ce.a)(je||(je=Object(ge.a)(["\n  margin: ","px 0 ","px 0px;\n"])),(function(e){return e.theme.unit}),(function(e){return e.theme.unit})),De=(Object(ve.a)(Ce.a)(me||(me=Object(ge.a)(["\n  margin: 0;\n  flex: 1;\n  width: 1px;\n  height: ","px;\n  background: ",";\n"])),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.focus})),Object(A.a)(["common","layout"])((function(e){var t=e.t,n=e.i18n,a=Object(he.a)(e,["t","i18n"]),r=Object(Ee.f)(),o=Object(u.useSettings)(),s=o.setUpColor,i=o.setLanguage,d=o.setCurrency,b=o.currency,p=o.upColor,O=n.language;return Object(ue.jsxs)(xe.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",children:[Object(ue.jsx)(_e.a,{variant:"h4",component:"h3",marginY:1,paddingLeft:2,children:t("labelTitleSecurity")}),Object(ue.jsxs)(Pe,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:[Object(ue.jsxs)(j.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(ue.jsx)(_e.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleResetL2Keypair")}),Object(ue.jsx)(Ne,{}),Object(ue.jsxs)(xe.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(ue.jsx)(xe.a,{item:!0,xs:8,display:"flex",flexDirection:"column",children:Object(ue.jsx)(_e.a,{variant:"body1",component:"p",children:Object(ue.jsxs)(ye.a,{i18nKey:"resetDescription",children:["Create a new signing key for layer-2 authentication (no backup needed). This will",Object(ue.jsx)(u.TypographyStrong,{component:"span",children:"cancel all your pending orders"}),"."]})})}),Object(ue.jsx)(xe.a,{item:!0,xs:4,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(ue.jsx)(ke.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnReset")})}),Object(ue.jsx)(xe.a,{item:!0,xs:12,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:Object(ue.jsx)(_e.a,{variant:"body2",component:"p",paddingTop:1,children:t("labelHadChangPassword",{passDay:"14 hours"})})})]})]}),Object(ue.jsxs)(j.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(ue.jsx)(_e.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleExportAccount")}),Object(ue.jsx)(Ne,{}),Object(ue.jsxs)(xe.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(ue.jsx)(xe.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(ue.jsx)(_e.a,{variant:"body1",component:"p",children:t("descriptionExportAccount")})}),Object(ue.jsx)(xe.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(ue.jsxs)(xe.a,{item:!0,children:[" ",Object(ue.jsx)(ke.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnExportAccount")})]})})]})]})]}),Object(ue.jsx)(_e.a,{variant:"h4",component:"h3",marginY:1,paddingLeft:2,children:t("labelTitlePreferences")}),Object(ue.jsx)(Pe,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:Object(ue.jsxs)(j.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(ue.jsx)(_e.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleLayout")}),Object(ue.jsx)(Ne,{}),Object(ue.jsxs)(xe.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(ue.jsx)(xe.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(ue.jsx)(_e.a,{variant:"body1",component:"p",children:t("labelLanguage")})}),Object(ue.jsx)(xe.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(ue.jsx)(xe.a,{item:!0,children:Object(ue.jsx)(u.BtnLanguage,Object(c.a)({},Object(c.a)(Object(c.a)({t:t},a),{},{language:O,label:"languageSetting",handleChange:function(e){i(e),n.changeLanguage(e)}})))})})]}),Object(ue.jsxs)(xe.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(ue.jsx)(xe.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(ue.jsx)(_e.a,{variant:"body1",component:"p",children:t("labelCurrency")})}),Object(ue.jsx)(xe.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(ue.jsx)(xe.a,{item:!0,children:Object(ue.jsx)(we,Object(c.a)({},Object(c.a)(Object(c.a)({t:t},a),{},{currency:b,label:"currencySetting",handleChange:function(e){d(e)}})))})})]}),Object(ue.jsxs)(xe.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,children:[Object(ue.jsx)(xe.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(ue.jsx)(_e.a,{variant:"body1",component:"p",children:t("labelColors")})}),Object(ue.jsxs)(xe.a,{item:!0,xs:5,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:[Object(ue.jsx)(_e.a,{variant:"body1",component:"span",paddingX:2,children:Object(ue.jsxs)(ye.a,{i18nKey:"whichColorIsUp",children:[Object(ue.jsxs)("span",{style:{textTransform:"capitalize",color:p===l.UpColor.green?r.colorBase.success:r.colorBase.error},children:[{up:p===l.UpColor.green?t("labelgreen"):t("labelred")}," up"]}),"and ",Object(ue.jsxs)("span",{style:{textTransform:"capitalize",color:p===l.UpColor.green?r.colorBase.error:r.colorBase.success},children:[{down:p===l.UpColor.green?t("labelred"):t("labelgreen")}," down"]})]})}),Object(ue.jsx)(Re,{checked:p===l.UpColor.green,color:"default",onChange:function(e){e.target.checked?s(l.UpColor.green):s(l.UpColor.red)}})]})]})]})})]})}))),Be=function(e){var t=e.open,n=e.onClose;return Object(ue.jsx)(Se,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(ue.jsx)(Ie,{children:Object(ue.jsx)(De,{})})})};function Me(e){if(!e||!(e instanceof Object)||"function"==typeof e)return e||void 0;var t=new(0,e.constructor);for(var n in e)e.hasOwnProperty(n)&&(t[n]=Me(e[n]));return t}var Le=function(e){var t=Object.assign({},e),n=be(),a=n.depositProps,i=n.withdrawProps,m=n.transferProps,h=n.resetProps,g=Object(r.f)(),v=le(),A=v.headerToolBarData,T=v.headerMenuData,C=v.gatewayList,_=v.open,k=v.setOpen,y=v.setShowAccountInfo,E=v.account,S=v.accountInfoProps,I=v.showAccountInfo,P=v.advanceOpen,R=v.setAdvanceOpen,w=(ae().exchangeInfo,Object(x.d)().disconnect),N=Object(s.useCallback)((function(){k(!0)}),[k]),D=Object(s.useState)(!1),B=Object(o.a)(D,2),M=B[0],L=B[1],U=Object(s.useState)(!1),F=Object(o.a)(U,2),K=F[0],W=F[1],H=function(){W(!1)};return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(d.a,{open:K,autoHideDuration:2500,onClose:H,children:Object(ue.jsx)(b.a,{onClose:H,severity:"success",children:"Address Copied to Clipboard!"})}),Object(ue.jsx)(u.ModalQRCode,{open:M,onClose:function(){return L(!1)},title:"ETH Address",description:E.accAddr,url:E.accAddr}),Object(ue.jsx)(u.ModalPanel,{transferProps:m,withDrawProps:i,depositProps:a,resetProps:h}),Object(ue.jsxs)(u.HideOnScroll,{children:[!1,!1,Object(ue.jsx)(u.Header,Object(c.a)(Object(c.a)({},t),{},{headerMenuData:T,headerToolBarData:A,selected:"/"===g.pathname?l.headerRoot:g.pathname}))]}),Object(ue.jsx)(p.a,{}),Object(ue.jsx)(u.ModalWalletConnect,Object(c.a)({},Object(c.a)(Object(c.a)({},t),{},{gatewayList:C,open:_,onClose:function(){return k(!1)}}))),S&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(O.a,{in:I,children:Object(ue.jsx)(f.a,{maxWidth:"lg",children:Object(ue.jsx)(j.a,{marginTop:2,children:Object(ue.jsx)(u.AccountInfo,Object(c.a)({onCopy:function(){console.log("onCopy"),function(e){if(document.execCommand){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("Copy"),document.body.removeChild(t)}!!window.clipboardData&&window.clipboardData.setData("Text",e)}(E.accAddr),W(!0)},onViewQRCode:function(){L(!0)},onDisconnect:function(){w(),y(!1)},onSwith:N},S))})})}),Object(ue.jsx)(Be,{open:P,onClose:function(e){return R(!1)}})]})]})},Ue=n(272),Fe=n(637);var Ke=Object(Ue.a)(xe.a,{target:"e19jzbou1"})("& .MuiGrid-root:not(:last-of-type)>div{margin-right:",(function(e){return 3*e.theme.unit}),"px;}"),We=Object(Ue.a)(xe.a,{target:"e19jzbou0"})("&{background-color:",(function(e){return e.theme.colorBase.background().default}),";",(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})}),";}",(function(e){var t=e.theme;return Object(u.TablePaddingX)({pLeft:3*t.unit,pRight:3*t.unit})}),";"),He=Object(A.a)("common")((function(e){var t=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)([]),c=Object(o.a)(r,2),i=c[0],u=c[1],l=Object(D.b)();return Object(C.a)(Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return t=!0,n=function(){var e=Object(g.a)(h.a.mark((function e(){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getAllTickers();case 2:n=e.sent,r=n.tickList,c=[],r.forEach((function(e){var t=[[e.base,e.quote],[e.close,e.close],e.change,e.high,e.low,e.base_token_volume,e.base_token_amt,e.base,e.quote];c.push(t)})),c=c.sort((function(e,t){var n=0;return isNaN(t[5])||isNaN(e[5])||(n=t[5]-e[5]),n})),t&&(u(c.slice(0,4)),a(c));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,n();case 6:return e.abrupt("return",(function(){t=!1}));case 7:case"end":return e.stop()}}),e)}))),[l]),{tickList:n,big4:i}}(),n=t.tickList,a=(t.big4,Object(c.a)(Object(c.a)({},e),{},{buyData:Fe.a.ETH,sellData:Fe.a.LRC,tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"+15%",chartUnit:"24h",volume:112312312,floatTag:l.FloatTag.increase}}));return Object(ue.jsxs)(j.a,{display:"flex",flexDirection:"column",flex:1,children:[Object(ue.jsxs)(Ke,{container:!0,children:[Object(ue.jsx)(xe.a,{item:!0,xs:3,children:Object(ue.jsx)(u.MarketBlock,Object(c.a)({},Object(c.a)(Object(c.a)({},a),{},{tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"0%",chartUnit:"24h",floatTag:l.FloatTag.none}})))}),Object(ue.jsx)(xe.a,{item:!0,xs:3,children:Object(ue.jsx)(u.MarketBlock,Object(c.a)({},Object(c.a)(Object(c.a)({},a),{},{tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"-15%",chartUnit:"24h",floatTag:l.FloatTag.decrease}})))}),Object(ue.jsx)(xe.a,{item:!0,xs:3,children:Object(ue.jsx)(u.MarketBlock,Object(c.a)({},Object(c.a)({},a)))}),Object(ue.jsx)(xe.a,{item:!0,xs:3,children:Object(ue.jsx)(u.MarketBlock,Object(c.a)({},Object(c.a)({},a)))})]}),Object(ue.jsx)(We,{container:!0,marginY:3,paddingY:2,children:Object(ue.jsx)(xe.a,{item:!0,xs:12,children:Object(ue.jsx)(u.QuoteTable,Object(c.a)({rawData:n},Object(c.a)({},e)))})})]})})),Ve=function(e){var t=e.swapProps,n=Object(he.a)(e,["swapProps"]);return Object(ue.jsx)(u.SwapPanel,Object(c.a)(Object(c.a)({},Object(c.a)(Object(c.a)({},t),n)),{},{children:" "}))};function Ge(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(""),c=Object(o.a)(r,2),i=c[0],u=c[1],l=function(){var e=Object(s.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(D.a)();return Object(te.a)((function(){if(r)return r.getAmmPoolConf()}),a,void 0,"useGetAmmPools",[r]),{ammpools:n}}().ammpools,d=function(){var e=Object(s.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(D.a)();return Object(te.a)((function(){if(r)return r.getAmmPoolBalances()}),a,void 0,"useGetAmmPoolsBalances",[r]),{ammPoolsBalances:n}}().ammPoolsBalances,b=null===d||void 0===d?void 0:d.ammpoolsbalances,p=Object(s.useState)(""),O=Object(o.a)(p,2),f=O[0],j=O[1],m=Object(s.useState)(""),h=Object(o.a)(m,2),g=h[0],v=h[1],A=re().tokens,x=null===A||void 0===A?void 0:A.tokenSymbolMap;return Object(C.a)((function(){if(n&&i&&l&&b){var e=X(l.ammpools,b,n,i).ammInfo;console.log("ammInfo.market:",e.market),v(e.market),j(e.address)}}),[n,i,l,b]),{base:n,setBase:a,quote:i,setQuote:u,market:g,tokens:x,poolAddress:f,ammpools:l,ammPoolsBalances:b}}var Ye=n(20),qe=n(477),ze=[{value:u.ChartType.Trend,key:u.ChartType.Trend,label:"label"+u.ChartType.Trend},{value:u.ChartType.Depth,key:u.ChartType.Depth,label:"label"+u.ChartType.Depth}];var Xe=function(e){var t=e.props,n=e.swapProps,a=e.t,r=Object(he.a)(e,["props","swapProps","t"]),i=function(e,t){var n=ze.map((function(e){var n=e.value,a=e.label,r=e.key;return{value:n,tlabel:t(a),key:r,JSX:Object(ue.jsx)(ue.Fragment,{children:t(a)})}})),a=e.base,r=e.quote,c=e.market,i=e.tokens,l=Object(s.useState)(u.ChartType.Trend),d=Object(o.a)(l,2),b=d[0],p=d[1],O=Object(s.useState)(0),f=Object(o.a)(O,2),j=f[0],m=f[1],v=Object(s.useState)(""),A=Object(o.a)(v,2),x=A[0],T=A[1],_=Object(s.useState)(Ye.ChartUnit.D1),k=Object(o.a)(_,2),y=k[0],E=(k[1],Object(s.useState)(void 0)),S=Object(o.a)(E,2),I=S[0],P=S[1],R=Object(s.useCallback)((function(e,t){console.log("handleChange:",t),P(void 0),p(t)}),[P,p]),w=Object(D.b)();Object(C.a)(Object(g.a)(h.a.mark((function e(){var t,n,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w&&c&&i&&r){e.next=2;break}return e.abrupt("return");case 2:return t=!0,e.prev=3,n={market:c},e.next=7,w.getTicker(n);case 7:o=e.sent,t&&(o.tickList[0].change&&m(o.tickList[0].change),o.tickList[0].base_token_volume&&(s=Z(i,a,o.tickList[0].base_token_volume),T(s))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),Object(oe.a)(e.t0,"ChartPanel getCandlestick");case 14:return e.abrupt("return",(function(){t=!1}));case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),[w,c,i,a]);var N=Object.keys(Ye.ChartUnit).reduce((function(e,n){var a={value:Ye.ChartUnit[n],key:Ye.ChartUnit[n],label:"label"+Ye.ChartUnit[n]};return e.push({value:a.value,tlabel:t(a.label?a.label:a.key),key:a.key,JSX:Object(ue.jsx)(ue.Fragment,{children:t(a.label?a.label:a.key)})}),e}),[]);return Object(C.a)(Object(g.a)(h.a.mark((function e(){var t,n,a,r,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,w&&c){e.next=3;break}return e.abrupt("return");case 3:if(b!==u.ChartType.Trend){e.next=17;break}return n={market:c,interval:se.d.min15,limit:96},e.prev=5,e.next=8,w.getCandlestick(n);case 8:a=e.sent,t&&(r=a.candlesticks.map((function(e){return{timeStamp:e.timeStamp,low:e.low,high:e.high,open:e.open,close:e.close,volume:e.quoteVol}})),P(r)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),Object(oe.a)(e.t0,"ChartPanel getCandlestick");case 15:e.next=29;break;case 17:return o={market:[c]},e.prev=18,e.next=21,w.getDepth(o);case 21:s=e.sent,console.log("depth:",s),P(s),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(18),Object(oe.a)(e.t1);case 29:return e.abrupt("return",(function(){t=!1}));case 30:case"end":return e.stop()}}),e,null,[[5,12],[18,26]])}))),[w,c,b]),{change:j,volume:x,chartUnit:y,chartType:b,tgItemJSXs:n,tgItemJSXsPriceChart:N,handleChange:R,originData:I}}(t,a),d=i.change,b=i.chartType,p=i.tgItemJSXs,O=i.tgItemJSXsPriceChart,f=i.handleChange,m=i.originData,v=Object(u.useSettings)().upColor;return Object(ue.jsxs)(ue.Fragment,{children:[n.swapTradeData?Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(xe.a,{item:!0,xs:8,children:Object(ue.jsx)(qe.TradeTitle,Object(c.a)({},Object(c.a)(Object(c.a)(Object(c.a)({},r),{},{t:a},n),{},{tradeFloat:{priceDollar:Object(l.getThousandFormattedNumbers)(d,8),percent:"+15%",chartUnit:"24h",volume:""}})))}),Object(ue.jsx)(xe.a,{item:!0,xs:4,display:"flex",justifyContent:"flex-end",alignItems:"flex-end",children:Object(ue.jsx)(u.ToggleButtonGroup,Object(c.a)(Object(c.a)({exclusive:!0},Object(c.a)(Object(c.a)({},r),{},{t:a,tgItemJSXs:p,value:b})),{},{handleChange:f}))})]}):void 0,Object(ue.jsx)(xe.a,{item:!0,xs:12,children:Object(ue.jsx)(j.a,{minHeight:256,maxHeight:256,display:"block",style:{height:"100%",width:"100%"},children:Object(ue.jsx)(u.ScaleAreaChart,{type:b,data:null!==m&&void 0!==m?m:[],riseColor:v,handleMove:function(){}})})}),Object(ue.jsx)(xe.a,{item:!0,xs:12,height:24,display:"flex",justifyContent:"flex-end",children:Object(ue.jsx)(u.ToggleButtonGroup,Object(c.a)(Object(c.a)({exclusive:!0},Object(c.a)(Object(c.a)({},r),{},{t:a,tgItemJSXs:O,value:Ye.ChartUnit.D1,size:"small"})),{},{handleChange:function(){}}))})]})},Je=n(146),Qe=n(416);function $e(e){var t=Object(s.useState)(),n=Object(o.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(),i=Object(o.a)(c,2),u=i[0],l=i[1],d=Object(s.useState)(),b=Object(o.a)(d,2),p=b[0],O=b[1],f=Object(s.useState)(),j=Object(o.a)(f,2),m=j[0],h=j[1];return Object(C.a)((function(){if(e&&!e.op&&e.topic&&e.topic.topic)switch(e.topic.topic){case Je.a.Account:r(e.data);break;case Je.a.Ammpool:var t={baseAmt:e.data[0][0],quoteAmt:e.data[0][1],timestamp:e.data[1]};l(t);break;case Je.a.Candlestick:break;case Je.a.Order:O(e.data);break;case Je.a.OrderBook:break;case Je.a.Ticker:h(e.data);break;case Je.a.Trade:break;default:throw Error("Unknown WsTopicType:"+e.topic.topic)}}),[e]),{account:a,ammPool:u,order:p,ticker:m}}var Ze,et=n(113);!function(e){e.processed="processed",e.no_such_order="no_such_order",e.too_many_times="too_many_times"}(Ze||(Ze={}));var tt=n(95);function nt(e,t,n,a,r,i,u,l,d){var b=Object(x.a)(),p=b.apiKey,O=b.eddsaKey,f=b.accountId,j=b.account,m=Object(s.useState)(et.a.getAmmOrder()),v=Object(o.a)(m,2),A=v[0],_=v[1],k=Object(s.useState)(.01),y=Object(o.a)(k,2),E=y[0],S=(y[1],Object(s.useState)(0)),I=Object(o.a)(S,2),P=I[0],R=I[1],w=Object(s.useState)(),N=Object(o.a)(w,2),M=N[0],U=N[1],Y=Object(s.useState)(0),q=Object(o.a)(Y,2),te=q[0],ne=q[1],re=te?te*(1-E):0,ce=Object(D.c)(),ue=Object(s.useState)({}),le=Object(o.a)(ue,2),de=le[0],be=le[1],pe=Object(s.useState)({}),Oe=Object(o.a)(pe,2),fe=Oe[0],je=Oe[1],me=ae().exchangeInfo,he=Object(s.useState)(0),ge=Object(o.a)(he,2),ve=ge[0],Ae=ge[1],xe=Object(s.useState)(10),Te=Object(o.a)(xe,2),Ce=Te[0],_e=Te[1],ke=Object(s.useState)(0),ye=Object(o.a)(ke,2),Ee=ye[0],Se=ye[1],Ie=Object(s.useState)(0),Pe=Object(o.a)(Ie,2),Re=Pe[0],we=Pe[1],Ne=ie(r),De=Ne.balances,Be=Ne.setBalances,Le=Object(s.useState)(0),Ue=Object(o.a)(Le,2),Fe=Ue[0],Ke=Ue[1],We=Object(s.useState)(0),He=Object(o.a)(We,2),Ve=He[0],Ge=He[1],Ye=Object(s.useState)({}),qe=Object(o.a)(Ye,2),ze=qe[0],Xe=qe[1],nt=Object(s.useState)(0),at=Object(o.a)(nt,2),rt=at[0],ct=at[1],ot=Object(s.useState)(0),st=Object(o.a)(ot,2),it=st[0],ut=st[1],lt=Object(s.useState)({}),dt=Object(o.a)(lt,2),bt=dt[0],pt=dt[1],Ot=function(e,t,n){var a=[];return a.push(Object(Je.b)()),a.push(Object(Je.d)(t)),a.push(Object(Je.c)(e)),$e(Object(Qe.b)(a,!0,n,!!e&&!!t&&!!n).socketData)}(u,i,p),ft=Ot.account;Ot.ammPool,Ot.order;Object(C.a)((function(){if(De&&e&&r)if(j.status===T.b.ACTIVATED){var n=De.symbol[e];Ke(n),Ge(Z(r,e,n));var a=De.symbol[t];ct(a),ut(Z(r,t,a))}else Ke(0),Ge(0),ct(0),ut(0)}),[De,e,r,j.status]),Object(C.a)((function(){if(ft&&r&&e)if(j.status===T.b.ACTIVATED){var t=De.tokenId[ft.tokenId],n=B.f(ft.totalAmount),a=B.f(ft.amountLocked),c=n.minus(a);if(!c.eq(B.f(t))){Z(r,e,c.toString());var o=Me(De);o.tokenId[ft.tokenId]=c.toString();var s=o.map[ft.tokenId];o.symbol[s.symbol]=c.toString(),Be(o)}}else Be(void 0)}),[ft,r,e,j.status]),Object(C.a)((function(){var e={};j.status===T.b.ACTIVATED&&(De&&De.symbol&&Reflect.ownKeys(De.symbol).forEach((function(t){var n=De.symbol[t];e[t]={belong:t,count:Z(r,t,n)}})));Xe(e)}),[De,r,j.status]),Object(C.a)((function(){if(e&&t&&l&&d&&r){var n=z(l.ammpools,d,e,t,r),a=n.ammInfo,c=n.baseBalance,o=n.quoteBalance;Ae(a.feeBips),c.volume>0?Se(o.volume/c.volume):Se(0)}else console.log("return!!! ---\x3esetQuoteBalance")}),[r,e,t,l,d]),Object(C.a)(Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p||f||ce||A){e.next=2;break}return e.abrupt("return");case 2:return function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise((function(c,o){n&&ce.getOrderDetails({accountId:t,orderHash:n},a).then((function(n){if(console.log("order.status:",n.status),n.status===se.e.processed)return et.a.clearAmmOrder(),c(Ze.processed);r<10?setTimeout((function(){e(t,et.a.getAmmOrder(),a,r++)}),1e3):o(Ze.too_many_times)})).catch((function(){return et.a.clearAmmOrder(),o(Ze.no_such_order)}))}))}(f,et.a.getAmmOrder(),p).then((function(e){console.log("then:",e)})).catch((function(e){Object(oe.a)(e)})),e.abrupt("return",(function(){}));case 5:case"end":return e.stop()}}),e)}))),[p,f,A,ce]),Object(C.a)((function(){if(l&&r)if(j.status!==T.b.UNCONNNECTED){var e=function(e,t){if(e){var n=Reflect.ownKeys(e),a={};return n.forEach((function(e){a[e]={icon:W(e,t),name:e,simpleName:e,description:"",company:""}})),{left:n,coinMapLeft:a}}}(l.pairs,r);if(e){be(e.coinMapLeft),n(e.left[0]);var t=H(l.pairs,e.left[0],r);t&&(je(t.coinMapRight),a(t.right[0]))}}else be({}),je({}),n(void 0),a(void 0)}),[l,r,j.status]),Object(C.a)((function(){if(ce&&f&&p&&e&&t&&l&&d&&r){var n=!0,a=z(l.ammpools,d,e,t,r).ammInfo;return ce.getUserFeeRate({accountId:f,markets:a.market},p).then((function(e){n?_e(e[0].takerRate):console.log("setTakerRate unmounted!")})).catch((function(e){Object(oe.a)(e,"after getUserFeeRate")})),function(){n=!1}}}),[r,ce,f,p,e,t,l,d,j.status]);var jt=Object(s.useCallback)((function(n){if(l&&d){var a=n.tradeValue;if(void 0===a||a!==M){void 0===a&&(a=0);var c=function(e,t,n,a,r,c,o,s){void 0===e&&(e=0);var i=X(t,n,r,c),u=i.ammBalance,l=i.feeBips,d=G(u,a,r),b=d.tokenInfo,p=d.reserve,O=G(u,a,c),f=(O.tokenInfo,O.reserve),j=J(e,b),m=B.f(F-l),h=j.times(m),g=h.times(f),v=p.times(F).plus(h),A=Z(a,c,g.dividedBy(v)),x=$(a,c,A,o+l),T=Number(Z(a,c,x)),C=0;return T<0?(T=0,A=null):C=(Number(A)/Number(e)-s)/s,{quoteAmt:A,_amount1ApplyOrderFeeInWei:x,_amount1ApplyOrderFee:T,priceImpact:C}}(a,l.ammpools,d,r,e,t,Ce,Ee),o=c.quoteAmt,s=c._amount1ApplyOrderFee,i=c.priceImpact;return K(a,Fe,o,Z(r,t,rt)).isNormal?(U(a),ne(o),we(s),R(i)):(ne(0),we(0),R(0)),o}console.log("return directly")}}),[r,M,Fe,rt,l,d,e,t,Ce,Ee]),mt=Object(s.useCallback)((function(n){if(l&&d){var a=n.tradeValue;if(void 0===a||a!==te){void 0===a&&(a=0);var c=function(e,t,n,a,r,c,o,s){void 0===e&&(e=0);var i=X(t,n,r,c),u=i.ammBalance,l=i.feeBips,d=G(u,a,r),b=(d.tokenInfo,d.reserve),p=G(u,a,c),O=p.tokenInfo,f=p.reserve,j=J(e,O);if(j.gt(f))return{baseAmt:0,_amount1ApplyOrderFeeInWei:0,_amount1ApplyOrderFee:0,priceImpact:0,hasError:!1};var m=j.times(b).times(F),h=B.f(F-l),g=f.minus(j),v=h.times(g),A=Z(a,c,m.dividedBy(v)),x=$(a,c,e,o+l),T=Number(Z(a,c,x)),C=0;return T<0?(T=0,A=null):C=(Number(e)/Number(A)-s)/s,{baseAmt:A,_amount1ApplyOrderFeeInWei:x,_amount1ApplyOrderFee:T,priceImpact:C,hasError:!1}}(a,l.ammpools,d,r,e,t,Ce,Ee),o=c.baseAmt,s=c._amount1ApplyOrderFee,i=c.priceImpact,u=c.hasError,b=K(o,Fe,a,Z(r,t,rt)).isNormal;return!u&&b?(U(o),ne(a),we(s),R(i)):(U(0),we(0),R(0)),o}}}),[r,te,Fe,rt,l,d,e,t,Ce,Ee]),ht=Object(s.useCallback)((function(){console.log("try to swap ",M,e," -> ",te,t),function(){var n=Object(g.a)(h.a.mark((function n(){var a,c,o,s,i,u,b,j,m,g,v;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===me||void 0===me?void 0:me.exchangeAddress){n.next=2;break}throw Error("no exchangeAddress!");case 2:if(M&&te){n.next=5;break}return console.log("no baseAmt or quoteAmt!"),n.abrupt("return");case 5:return a=X(l.ammpools,d,e,t),a.ammInfo,a.feeBips,c=!1,o=V(r,e),s=V(r,t),n.prev=9,n.next=12,ce.getNextStorageId({accountId:f,sellTokenId:o.tokenId},p);case 12:u=n.sent,i=u.orderId,n.next=20;break;case 16:throw n.prev=16,n.t0=n.catch(9),Object(oe.a)(n.t0,"getNextStorageId"),Error("getNextStorageId failed");case 20:return 17e8,b=ee(r,e,M),j=Q(r,t,Re,E),m=new L.a(j.outInWei).toFixed(),n.prev=24,console.log("amount0InBigNumber:",b," amount1InBigNumber:",m),g={exchange:null===me||void 0===me?void 0:me.exchangeAddress,accountId:f,storageId:i,sellToken:{tokenId:o.tokenId,volume:b.toString()},buyToken:{tokenId:s.tokenId,volume:m.toString()},allOrNone:c,validUntil:17e8,maxFeeBips:60,fillAmountBOrS:!1,orderType:se.c.ClassAmm,eddsaSignature:""},n.next=29,ce.submitOrder(g,O,p);case 29:v=n.sent,console.log("response:",v),et.a.setAmmOrder(v.hash),_(v.hash),n.next=38;break;case 35:n.prev=35,n.t1=n.catch(24),Object(oe.a)(n.t1,"submitOrderV3");case 38:case"end":return n.stop()}}),n,null,[[9,16],[24,35]])})));return function(){return n.apply(this,arguments)}}()()}),[f,d,l,Re,p,e,M,O,null===me||void 0===me?void 0:me.exchangeAddress,t,te,E,r,ce]);return Object(C.a)((function(){var o={coinSell:e,coinBuy:t,StoB:parseFloat(null===Ee||void 0===Ee?void 0:Ee.toFixed(4)),BtoS:0,sellCoinInfoMap:de,buyCoinInfoMap:fe,walletMap:ze,slippage:100*E,slippageTolerance:[.1,.5,1,"slippage:N"],priceImpact:"".concat((100*Math.abs(P)).toFixed(2),"%"),minimumReceived:re.toFixed(7),fee:"".concat((Math.abs(ve+Ce)/100).toFixed(2),"%")},s={swapTradeData:{sell:{belong:e,balance:Ve,tradeValue:M},buy:{belong:t,balance:it,tradeValue:te},slippage:E,__cache__:{}},tradeCalcData:o,onSwapClick:function(e){ht()},handleSwapPanelEvent:function(){var e=Object(g.a)(h.a.mark((function e(t,o){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var s;console.log("swapData:",t);t.type;var i=t.tradeData,u=(t.to,void 0);switch(o){case tt.a.SEll_CLICK:case tt.a.BUY_CLICK:break;case tt.a.SELL_SELECTED:var d=jt(null===i||void 0===i?void 0:i.sell);void 0!==d&&(i.buy=Object(c.a)(Object(c.a)({},i.buy),{},{tradeValue:d})),n(i.sell.belong),u=H(l.pairs,i.sell.belong,r),console.log("right:",u),u?(je(u.coinMapRight),a(u.right[0])):a(void 0);break;case tt.a.BUY_SELECTED:console.log(),mt(null===i||void 0===i?void 0:i.buy),a(i.buy.belong);break;case tt.a.EXCHANGE_CLICK:var b;if(U(0),ne(0),i.buy=Object(c.a)(Object(c.a)({},i.buy),{},{balance:Ve,tradeValue:0}),i.sell=Object(c.a)(Object(c.a)({},i.sell),{},{balance:it,tradeValue:0}),console.log("sell:",i.sell),console.log("buy:",i.buy),console.log("availToShow:",Ve),console.log("quoteToShow:",it),n(null===(s=i.sell)||void 0===s?void 0:s.belong),u=H(l.pairs,i.sell.belong,r))console.log("right:",u.right[0]),je(u.coinMapRight),a(u.right[0]);else a(null===(b=i.buy)||void 0===b?void 0:b.belong)}e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};pt(s)}),[E,P,ve,Ce,de,fe,ze,re,Ve,it,M,te,Ee,jt,mt,ht]),{baseAmt:M,quoteAmt:te,slippageTolerance:E,availToShow:Ve,quoteToShow:it,walletMap:ze,balances:De,currentPrice:Ee,minimumReceived:re,priceImpact:P,fee:ve,takerRate:Ce,left:de,right:fe,swapProps:bt,onBaseAmtInputChange:jt,onQuoteAmtInputChange:mt,onSwap:ht}}var at,rt,ct=n(1977),ot=n(1910),st=n(1980),it=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},ut=(Object(A.a)("common",{withRef:!0})(u.Table),Object(A.a)("common")((function(e){e.myTrades,e.recentTrades;var t=e.t,n=Object(s.useState)(0),a=Object(o.a)(n,2),r=a[0],i=a[1],l=Object(s.useState)(!1),d=Object(o.a)(l,2),b=d[0],p=d[1],O=(u.generateRows,u.generateColumns,u.generateRows,u.generateColumns,ve.a.div(at||(at=Object(ge.a)(["\n    position: relative;\n    width: 100%;\n    margin-top: ","px;\n  "])),(function(e){return 4*e.theme.unit}))),f=Object(ve.a)(u.FormControlLabel)(rt||(rt=Object(ge.a)(["\n    position: absolute;\n    top: 0;\n    right: ","px;\n    margin: ","px 0 0 0;\n  "])),(function(e){return e.theme.unit}),(function(e){return e.theme.unit}));return Object(ue.jsxs)(O,{children:[Object(ue.jsx)(f,{control:Object(ue.jsx)(st.a,{checked:b,size:"small",checkedIcon:Object(ue.jsx)(Ye.CheckedIcon,{}),icon:Object(ue.jsx)(Ye.CheckBoxIcon,{}),color:"default",onChange:function(){p((function(e){return!e}))}}),label:t("labelTradePanelHideOtherPairs")}),Object(ue.jsxs)(ct.a,{value:r,onChange:function(e,t){i(t)},"aria-label":"tabs switch",children:[Object(ue.jsx)(ot.a,Object(c.a)({label:"My Trades"},it(0))),Object(ue.jsx)(ot.a,Object(c.a)({label:"Recent Trades"},it(1)))]}),Object(ue.jsx)(u.TradeTable,{rawData:[]})]})})));var lt,dt,bt=function(e){var t=e.market,n=e.poolAddress,a=function(e){var t=Object(x.a)(),n=t.apiKey,a=t.accountId,r=t.account,c=Object(D.c)(),i=Object(s.useState)(),u=Object(o.a)(i,2),l=u[0],d=u[1];return Object(C.a)(Object(g.a)(h.a.mark((function t(){var o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c&&a&&n&&e){t.next=2;break}return t.abrupt("return");case 2:if(o=[],r.status!==T.b.ACTIVATED){t.next=14;break}return t.prev=4,t.next=7,c.getUserTrades({accountId:a,market:e,fillTypes:se.a.amm},n);case 7:t.sent.trades.forEach((function(e){o.push([e[2],e[3],e[4],e[6],e[0]])})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),Object(oe.a)(t.t0);case 14:console.log("----------------------tradesNew:",o),d(o);case 16:case"end":return t.stop()}}),t,null,[[4,11]])}))),[c,a,n,e,r.status]),{myTrades:l}}(t).myTrades,r=function(e){var t=Object(D.a)(),n=Object(s.useState)(),a=Object(o.a)(n,2),r=a[0],c=a[1];return Object(C.a)((function(){t&&e&&t.getAmmPoolTrades({ammPoolAddress:e}).then((function(e){var t=[];e.trades.forEach((function(e){t.push([e.side,e.price,e.feeAmount,e.createdAt])})),c(t)})).catch((function(e){Object(oe.a)(e)}))}),[t,e]),{recentTrades:r}}(n).recentTrades;return Object(ue.jsx)(ut,{myTrades:a,recentTrades:r})},pt=n(600),Ot=Object(pt.default)(j.a)(lt||(lt=Object(ge.a)(["\n  @media only screen and (min-height: 680px ) and (min-width:1024px){\n    position: fixed;\n  }\n"]))),ft=Object(A.a)("common")((function(e){var t=Object.assign({},e),n=Ge(),a=n.base,r=n.quote,o=n.setBase,s=n.setQuote,i=n.tokens,u=n.market,l=n.poolAddress,d=nt(a,r,o,s,i,u,l,n.ammpools,n.ammPoolsBalances).swapProps;return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(xe.a,{container:!0,marginRight:3,children:[Object(ue.jsx)(Xe,Object(c.a)({},Object(c.a)(Object(c.a)({},t),{},{swapProps:d,props:n}))),Object(ue.jsx)(bt,{market:u,poolAddress:l})]}),Object(ue.jsx)(j.a,{display:"flex",style:{minWidth:"var(--swap-box-width)"},children:Object(ue.jsx)(Ot,{children:Object(ue.jsx)(Ve,Object(c.a)({},Object(c.a)(Object(c.a)({},t),{},{swapProps:d})))})})]})})),jt=function(){Object(s.useRef)(null);var e=Object(x.a)(),t=e.account,n=(e.isNoAccount,e.apiKey),a=Object(Qe.a)(n).socketData,r=ne().markets,c=ae().exchangeInfo,i=re().tokens,u=function(){var e=Object(s.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(D.b)();return Object(te.a)((function(){if(r)return r.getGasPrice()}),a,void 0,"useGetGas",[r]),{gas:n}}().gas;null===u||void 0===u||u.data;console.log("account:",t),console.log("exchangeInfo:",c),console.log("tokens:",i);t.accAddr&&t.accAddr;return Object(ue.jsxs)("div",{children:["Debug",Object(ue.jsxs)("div",{children:["account:",JSON.stringify(t)]}),Object(ue.jsxs)("div",{children:["eddsaKey:",t.eddsaKey]}),Object(ue.jsxs)("div",{children:["wsdata: ",JSON.stringify(a)]}),Object(ue.jsx)("div",{children:"----------------------------"}),Object(ue.jsxs)("div",{children:["markets:",JSON.stringify(r)]}),Object(ue.jsx)("div",{children:"----------------------------"}),Object(ue.jsxs)("div",{children:["depositAddress:",null===c||void 0===c?void 0:c.depositAddress]}),Object(ue.jsxs)("div",{children:["exchangeAddress:",null===c||void 0===c?void 0:c.exchangeAddress]}),Object(ue.jsx)("div",{children:"----------------------------"}),Object(ue.jsxs)("div",{children:["tokens:",JSON.stringify(i)]}),Object(ue.jsx)("div",{children:"----------------------------"})]})},mt=n(417),ht=n(119);var gt,vt,At,xt,Tt=Object(ve.a)(j.a)(dt||(dt=Object(ge.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Ct=Object(A.a)("common")((function(e){var t=function(){var e=Object(x.a)(),t=e.accountId,n=e.apiKey,a=Object(D.c)(),r=Object(s.useState)(),c=Object(o.a)(r,2),i=c[0],u=c[1];return Object(C.a)(Object(g.a)(h.a.mark((function e(){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.getUserTranferList({accountId:t},n);case 4:r=e.sent,c=[],r.transactions.forEach((function(e,t){c.push({from:{address:e.senderAddress,env:""},to:{address:e.receiverAddress,env:""},amount:e.amount,fee:{unit:e.feeTokenSymbol,value:e.feeAmount},memo:e.symbol,time:e.timestamp,txnHash:e.hash,status:e.status,token:e.token,tradeType:ht.b.allTypes})})),u(c);case 8:case"end":return e.stop()}}),e)}))),[t,n,a]),{txs:i}}().txs,n=void 0!==t?t:[];return Object(ue.jsxs)(Tt,{children:[Object(ue.jsx)("div",{className:"title",children:"Transactions"}),Object(ue.jsx)("div",{className:"tableWrapper",children:Object(ue.jsx)(u.TransactionTable,Object(c.a)({rawData:n},e))})]})})),_t=Object(ve.a)(j.a)(gt||(gt=Object(ge.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    margin-top: ","px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return 1.5*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),kt=Object(ve.a)(j.a)(vt||(vt=Object(ge.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 225px;\n    margin-top: ","px;\n\n    >div {\n        position: relative;\n        width: calc(50% - 6px);\n        height: 100%;\n        border: 1px solid ",";\n        border-radius: ","px;\n        padding: ","px ","px;\n    }\n"])),(function(e){return 4*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit}),(function(e){return 2.5*e.theme.unit}),(function(e){return 3*e.theme.unit})),yt=Object(ve.a)(j.a)(At||(At=Object(ge.a)(["\n    position: absolute;\n    z-index: 10000;\n    right: ","px;\n    bottom: ","px;\n"])),(function(e){return 3*e.theme.unit}),(function(e){return 2.5*e.theme.unit})),Et=[{value:"24 H",key:"24 H"},{value:"1 W",key:"1 W"},{value:"ALL",key:"ALL"}],St=Object(A.a)("common")((function(e){var t=e.t,n=Object(he.a)(e,["t"]),a=Object(s.useState)("24 H"),r=Object(o.a)(a,2),i=r[0],l=r[1],d=P(),b=d.ShowDeposit,p=d.ShowTransfer,O=d.ShowWithdraw,f=(d.ShowResetAccount,{assetInfo:{totalAsset:123456.789,priceTag:Ye.PriceTag.Dollar},onShowDeposit:function(){b(!0)},onShowTransfer:function(){p(!0)},onShowWithdraw:function(){O(!0)}}),m=re().tokens,h=(ie(null===m||void 0===m?void 0:m.tokenSymbolMap).balances,[{timeStamp:150,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:160,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:170,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:180,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:190,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:200,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:210,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:220,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:230,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:240,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)}]);return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(j.a,{marginBottom:3,children:Object(ue.jsx)(u.AssetTitle,Object(c.a)({},Object(c.a)(Object(c.a)({t:t},n),f)))}),Object(ue.jsxs)(_t,{children:[Object(ue.jsx)("div",{className:"title",children:t("labelAssetsTitle")}),Object(ue.jsxs)(kt,{children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)(_e.a,{component:"span",color:"textSecondary",variant:"body1",children:"Asset Distribution"}),Object(ue.jsx)(u.DoughnutChart,{data:[{name:"LP Token",value:12898},{name:"LRC",value:12898.5},{name:"ETH",value:36547},{name:"DOT",value:23898.09},{name:"BTC",value:3489},{name:"CRV",value:180.09},{name:"ALICE",value:150.7},{name:"LINA",value:230.5}]})]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(_e.a,{component:"span",color:"textSecondary",variant:"body1",children:"Total Assets"}),Object(ue.jsx)(u.ScaleAreaChart,{type:u.ChartType.Trend,data:h}),Object(ue.jsx)(yt,{children:Object(ue.jsx)(u.ToggleButtonGroup,Object(c.a)({exclusive:!0,size:"small"},Object(c.a)(Object(c.a)({},n),{},{t:t,data:Et,value:i,setValue:l})))})]})]}),Object(ue.jsx)("div",{className:"tableWrapper",children:Object(ue.jsx)(u.AssetsTable,{rawData:[]})})]})]})}));var It,Pt=Object(ve.a)(j.a)(xt||(xt=Object(ge.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Rt=Object(A.a)("common")((function(e){var t=function(){var e=Object(x.a)(),t=e.accountId,n=e.apiKey,a=Object(D.c)(),r=Object(s.useState)(),c=Object(o.a)(r,2),i=c[0],u=c[1];return Object(C.a)(Object(g.a)(h.a.mark((function e(){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.getUserTranferList({accountId:t},n);case 4:r=e.sent,c=[],r.transactions.forEach((function(e,t){c.push({from:{address:e.senderAddress,env:""},to:{address:e.receiverAddress,env:""},amount:e.amount,fee:{unit:e.feeTokenSymbol,value:e.feeAmount},memo:e.symbol,time:e.timestamp,txnHash:e.hash,status:e.status,token:e.token,tradeType:ht.b.allTypes})})),u(c);case 8:case"end":return e.stop()}}),e)}))),[t,n,a]),{txs:i}}().txs,n=void 0!==t?t:[];return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)(Pt,{children:[Object(ue.jsx)("div",{className:"title",children:"Trades"}),Object(ue.jsx)("div",{className:"tableWrapper",children:Object(ue.jsx)(u.TransactionTable,Object(c.a)({rawData:n},Object(c.a)({},e)))})]})})})),wt=Object(ve.a)(j.a)(It||(It=Object(ge.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Nt=Object(A.a)("common")((function(e){return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)(wt,{children:[Object(ue.jsx)("div",{className:"title",children:"Order History"}),Object(ue.jsx)("div",{className:"tableWrapper",children:Object(ue.jsx)(u.OrderHistoryTable,Object(c.a)({rawData:[]},Object(c.a)({},e)))})]})})})),Dt=l.subMenuLayer2,Bt=Object(A.a)(["layout","common"],{withRef:!0})(u.SubMenuList),Mt=function(){var e,t=Object(r.g)("/layer2/:item"),n=null!==(e=null===t||void 0===t?void 0:t.params.item)&&void 0!==e?e:"assets";return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(j.a,{width:"200px",display:"flex",justifyContent:"stretch",children:Object(ue.jsx)(u.SubMenu,{children:Object(ue.jsx)(Bt,{selected:n,subMenu:Dt})})}),Object(ue.jsx)(j.a,{minHeight:420,display:"flex",alignItems:"stretch",flexDirection:"row",marginTop:0,flex:1,children:Object(ue.jsxs)(j.a,{flex:1,marginLeft:3,display:"flex",flexDirection:"column",children:["assets"===n&&Object(ue.jsx)(St,{}),"transactions"===n&&Object(ue.jsx)(Ct,{}),"trades"===n&&Object(ue.jsx)(Rt,{}),"orders"===n&&Object(ue.jsx)(Nt,{})]})})]})};t.a=function(){return Object(ue.jsxs)(a.a,{children:[Object(ue.jsx)(Le,{}),Object(ue.jsx)(f.a,{maxWidth:"lg",children:Object(ue.jsx)(j.a,{flex:1,display:"flex",alignItems:"stretch",flexDirection:"row",marginTop:3,minWidth:800,children:Object(ue.jsxs)(r.c,{children:[Object(ue.jsx)(r.a,{exact:!0,component:ft,path:"/"}),Object(ue.jsx)(r.a,{exact:!0,component:He,path:"/markets"}),Object(ue.jsx)(r.a,{exact:!0,component:ft,path:"/trading/lite"}),Object(ue.jsx)(r.a,{exact:!0,component:Mt,path:"/layer2"}),Object(ue.jsx)(r.a,{exact:!0,component:Mt,path:"/layer2/assets"}),Object(ue.jsx)(r.a,{exact:!0,component:Mt,path:"/layer2/transactions"}),Object(ue.jsx)(r.a,{exact:!0,component:Mt,path:"/layer2/trades"}),Object(ue.jsx)(r.a,{exact:!0,component:Mt,path:"/layer2/orders"}),Object(ue.jsx)(mt.a,{children:Object(ue.jsx)(r.a,{exact:!0,path:"/debug",children:Object(ue.jsx)(jt,{})})})]})})})]})}},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,r=n(15),c=n(18);!function(e){e.Handler="handler",e.AccountId="account_id",e.Account="account",e.Apikey="apikey",e.Eddsakey="eddsakey",e.ActiveTime="active_time",e.AmmOrder="amm_order",e.HardwareAddresses="hardware_addresses"}(a||(a={}));var o=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getHandler",value:function(){var e=sessionStorage.getItem(a.Handler);try{if(void 0!==e&&null!==e)return parseInt(e)}catch(t){}}},{key:"setHandler",value:function(e){sessionStorage.setItem(a.Handler,e)}},{key:"clearHandler",value:function(){sessionStorage.removeItem(a.Handler)}},{key:"checkTimeout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=localStorage.getItem(a.ActiveTime),n=(new Date).getTime();if(null===t||e)e&&console.log("force reset!!"),localStorage.setItem(a.ActiveTime,n.toString());else{var r=new Date(parseInt(t));if(n-r.getTime()>6e5)return console.log("TIMEOUT! now:".concat(n," dateTimeStr:").concat(t," delta:").concat(n-r.getTime())),sessionStorage.clear(),localStorage.setItem(a.ActiveTime,n.toString()),!0}return!1}},{key:"getAccountId",value:function(){var e=sessionStorage.getItem(a.AccountId);try{if(e)return parseInt(e)}catch(t){}}},{key:"setAccountId",value:function(e){sessionStorage.setItem(a.AccountId,e.toString())}},{key:"getAccount",value:function(){return sessionStorage.getItem(a.Account)}},{key:"setAccount",value:function(e){sessionStorage.setItem(a.Account,e)}},{key:"getApikey",value:function(){return sessionStorage.getItem(a.Apikey)}},{key:"setApikey",value:function(e){sessionStorage.setItem(a.Apikey,e)}},{key:"getEddsakey",value:function(){return sessionStorage.getItem(a.Eddsakey)}},{key:"setEddsakey",value:function(e){sessionStorage.setItem(a.Eddsakey,e)}},{key:"getAmmOrder",value:function(){var e=localStorage.getItem(a.AmmOrder);return e||""}},{key:"setAmmOrder",value:function(e){localStorage.setItem(a.AmmOrder,e)}},{key:"clearAmmOrder",value:function(){localStorage.removeItem(a.AmmOrder)}},{key:"isHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);return!(!t||!t.includes(e.toLowerCase()))}},{key:"saveHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);if(t){if(!0!==t.includes(e.toLowerCase())){var n=t+","+e.toLowerCase();localStorage.setItem(a.HardwareAddresses,n)}}else localStorage.setItem(a.HardwareAddresses,e.toLowerCase())}}]),e}()},114:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return O})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return j})),n.d(t,"i",(function(){return m}));var a=n(124),r=n(58),c=n(43),o=n(113),s=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_ACCOUND_ID?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_ACCOUND_ID:o.a.getAccountId(),t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_API_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_API_KEY:o.a.getApikey(),n=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_OWNER?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_OWNER:o.a.getAccount(),a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_EDDSA_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_EDDSA_KEY:o.a.getEddsakey();return console.log("defaultApiKey:",JSON.stringify(t)),{accAddr:n,status:c.b.UNCONNNECTED,accountId:e,publicKey:{},nonce:0,isContractAddress:!1,apiKey:t,eddsaKey:a,connectName:r.b.Unknown,connectNameTemp:r.b.Unknown}},i=Object(a.c)({name:"account",initialState:s(),reducers:{reset:function(e){var t=s();console.log("!!! reset account!",t),Object.assign(e,t)},setAccAddr:function(e,t){e.accAddr=t.payload},setAccountInfo:function(e,t){e.accAddr=t.payload.owner,e.accountId=t.payload.accountId,e.nonce=t.payload.nonce,e.publicKey=t.payload.publicKey},setApikey:function(e,t){e.apiKey=t.payload},setAccountStatus:function(e,t){e.status=t.payload},setEddsaKey:function(e,t){e.eddsaKey=t.payload},setConnectName:function(e,t){e.connectName=t.payload},setConnectNameTemp:function(e,t){e.connectNameTemp=t.payload},setIsContractAddress:function(e,t){e.isContractAddress=t.payload}}}),u=i.actions,l=u.reset,d=u.setAccAddr,b=u.setApikey,p=u.setConnectName,O=u.setConnectNameTemp,f=u.setAccountInfo,j=u.setAccountStatus,m=u.setEddsaKey;u.setIsContractAddress;t.a=i},1885:function(e,t,n){"use strict";n.r(t);var a=n(89),r=n(129),c=n.n(r),o=n(947),s=n(175),i=n(242),u=n(638),l=n(58),d=n(20),b=n(1991),p=n(198),O=n(1974),f=n(118),j=n(1975),m=n(1),h=Object(s.c)(l.c),g=[Object(d.provider)(p.b,{dateAdapter:O.a}),Object(d.provider)(j.a,{i18n:d.i18n}),Object(d.provider)(b.a,{theme:Object(d.getTheme)("dark")}),Object(d.provider)(f.c,{theme:Object(d.getTheme)("dark")}),Object(d.provider)(a.a,{store:i.a})];c.a.render(Object(m.jsx)(d.ProviderComposer,{providers:g,children:Object(m.jsx)(s.b,{getLibrary:u.a,children:Object(m.jsx)(h,{getLibrary:u.a,children:Object(m.jsx)(o.a,{})})})}),document.getElementById("root"))},242:function(e,t,n){"use strict";var a=n(44),r=n(202),c=n(124),o=(n(89),n(636)),s=n(1002),i=n(1003),u=Object(c.b)("global/updateVersion"),l=n(114),d={status:n(361).a.NORMAL},b=Object(c.c)({name:"system",initialState:d,reducers:{setSystemStatus:function(e,t){e.status=t.payload}}}),p=(b.actions.setSystemStatus,b),O=n(360),f=function(){return(new Date).getTime()},j={},m=Object(c.c)({name:"transactions",initialState:j,reducers:{reset:function(e){Object.assign(e,j)},addTransaction:function(e,t){var n,a,r=t.payload,c=r.chainId,o=r.from,s=r.hash,i=r.approval,u=r.summary,l=r.claim;if(null===(n=e[c])||void 0===n?void 0:n[s])throw Error("the existing TX can't be added again");(null!==(a=e[c])&&void 0!==a?a:{})[s]={hash:s,approval:i,summary:u,claim:l,from:o,addedTime:f()}},clearAllTransactions:function(e,t){var n=t.payload;e[n]&&(e[n]={})},checkedTransaction:function(e,t){var n,a=t.payload,r=a.chainId,c=a.hash,o=a.blockNumber,s=null===(n=e[r])||void 0===n?void 0:n[c];s&&(s.lastCheckedBlockNumber?s.lastCheckedBlockNumber=Math.max(o,s.lastCheckedBlockNumber):s.lastCheckedBlockNumber=o)},finalizeTransaction:function(e,t){var n,a=t.payload,r=a.chainId,c=a.hash,o=a.receipt,s=null===(n=e[r])||void 0===n?void 0:n[c];s&&(s.receipt=o,s.confirmedTime=f())}}}),h=m.actions,g=(h.reset,h.addTransaction,h.clearAllTransactions,h.checkedTransaction,h.finalizeTransaction,m),v=n(29),A=Object(s.a)(),x=Object(r.b)({account:l.a.reducer,settings:v.settingsSlice.reducer,system:p.reducer,trading:O.a.reducer,transactions:g.reducer,modals:v.modalsSlice.reducer}),T=["settings"],C=Object(c.a)({reducer:x,middleware:[].concat(Object(a.a)(Object(c.d)({thunk:!1})),[Object(o.save)({states:T}),A]),devTools:!1,enhancers:[i.reduxBatch],preloadedState:Object(o.load)({states:T})});C.dispatch(u()),C.dispatch(Object(v.setLanguage)(C.getState().settings.language));t.a=C},360:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p}));var a,r=n(124);!function(e){e.min1="1min",e.min5="5min",e.min15="15min",e.min30="30min",e.hr1="1hr",e.hr2="2hr",e.hr4="4hr",e.hr12="12hr",e.d1="1d",e.w1="1w"}(a||(a={}));var c=function(e){var t=e.indexOf("-");return{symbol_base:e.substr(t+1),symbol_quote:e.substr(0,t)}},o="LRC-ETH",s=c(o),i={symbol:o,symbol_base:s.symbol_base,symbol_quote:s.symbol_quote,interval:"4hr",markets:[],tokens:{},refreshRate:1e3,refreshRateSlow:3e3,wsApiKey:""},u=Object(r.c)({name:"trading",initialState:i,reducers:{changeSymbol:function(e,t){e.symbol=t.payload;var n=c(e.symbol),a=n.symbol_base,r=n.symbol_quote;e.symbol_base=a,e.symbol_quote=r},changeTradingInterval:function(e,t){e.interval=t.payload},setWsApiKey:function(e,t){e.wsApiKey=t.payload},setMarkets:function(e,t){e.markets=t.payload},setTokens:function(e,t){e.tokens=t.payload},setExchangeInfo:function(e,t){e.exchangeInfo=t.payload}}}),l=u.actions,d=(l.changeSymbol,l.changeTradingInterval,l.setWsApiKey,l.setMarkets),b=l.setTokens,p=l.setExchangeInfo;t.a=u},361:function(e,t,n){"use strict";var a,r,c,o;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),function(e){e.dark="dark",e.light="light"}(a||(a={})),function(e){e.en="en_US",e.cn="zh_CN"}(r||(r={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ERROR=1]="ERROR",e[e.UNKNOWN=2]="UNKNOWN"}(c||(c={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.WALLET=2]="WALLET"}(o||(o={}))},412:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(63),r=n(89),c=n(66),o=n(360);function s(){var e=Object(r.c)((function(e){return e.trading}));return{tradingInfo:e,exchangeInfo:e.exchangeInfo}}function i(){var e=Object(r.b)(),t=Object(a.b)();Object(c.a)((function(){t&&t.getExchangeInfo().then((function(t){e(Object(o.b)(t.exchangeInfo))}),(function(e){console.log(e)}))}),[t])}},417:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return y}));var a,r=n(57),c=n(0),o=n.n(c),s=n(113),i=n(90),u=n(412),l=n(1);!function(e){e.Click="click",e.Scroll="scroll",e.Mouseover="mouseover"}(a||(a={}));var d=[a.Click,a.Scroll],b=Object(r.debounce)((function(){s.a.checkTimeout(!0)}),100),p=function(e){var t=e.children;return Object(u.b)(),Object(i.b)(),Object(c.useEffect)((function(){return d.forEach((function(e){document.addEventListener(e,b)})),function(){d.forEach((function(e){document.removeEventListener(e,b)}))}}),[]),Object(l.jsx)(o.a.Fragment,{children:t})},O=n(7),f=n(272),j=n(961),m=n(175),h=n(158),g=n(173),v=n(114),A=n(58),x=n(89),T=n(43);var C=Object(f.a)("div",{target:"e1vtmr5h1"})({name:"17nbj0f",styles:"display:flex;align-items:center;justify-content:center;height:20rem"}),_=Object(f.a)("h2",{target:"e1vtmr5h0"})("color:",(function(e){return e.theme.colorBase.error}),";");function k(e){var t=e.children,n=Object(j.a)().t,a=Object(m.d)().active,r=Object(m.d)(A.c),o=r.active,s=r.error,i=r.activate,u=Object(g.b)();Object(c.useEffect)((function(){!u||o||s||a||i(h.d)}),[u,o,s,i,a]);var d=Object(x.b)();Object(g.d)((function(){console.log("onReConnectInjected"),d(Object(v.b)()),d(Object(v.e)(T.b.UNCONNNECTED))}),!u);var b=Object(c.useState)(!1),p=Object(O.a)(b,2),f=p[0],k=p[1];return Object(c.useEffect)((function(){var e=setTimeout((function(){k(!0)}),600);return function(){clearTimeout(e)}}),[]),u?!a&&s?Object(l.jsx)(C,{children:Object(l.jsx)(_,{children:n("unknownError")})}):a||o?t:f?Object(l.jsx)(C,{}):null:null}var y=function(e){e.children;return Object(l.jsx)(o.a.Fragment,{children:null})}},43:function(e,t,n){"use strict";var a,r;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),function(e){e.UNKNOWN="UNKNOWN",e.UNCONNNECTED="UNCONNNECTED",e.CONNECTED="CONNECTED",e.NOACCOUNT="NOACCOUNT",e.DEPOSITING="DEPOSITING",e.DEPOSIT_TO_CONFIREM="DEPOSIT_TO_CONFIREM",e.UNACTIVATED="UNACTIVATED",e.ARPROVING="ARPROVING",e.APPROV_TO_CONFIRM="APPROV_TO_CONFIRM",e.LOCKED="LOCKED",e.ACTIVATED="ACTIVATED"}(a||(a={})),function(e){e.Reset="Reset",e.Connecting="Connecting",e.HasPubkey="HasPubkey",e.HasNoPubkey="HasNoPubkey",e.ErrorResponse="ErrorResponse",e.FinishDeposit="FinishDeposit",e.DepositConfirmed="DepositConfirmed",e.IsSmartWallet="IsSmartWallet",e.ApproveSubmit="ApproveSubmit",e.ApproveConfirmed="ApproveConfirmed",e.Unlock="Unlock",e.Lock="Lock"}(r||(r={}));var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.UNCONNNECTED;return{initialState:e,states:{UNCONNNECTED:{Connecting:a.CONNECTED,Reset:a.UNCONNNECTED},CONNECTED:{HasPubkey:a.LOCKED,HasNoPubkey:a.UNACTIVATED,ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},NOACCOUNT:{ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},DEPOSITING:{FinishDeposit:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},DEPOSIT_TO_CONFIREM:{HasPubkey:a.ACTIVATED,HasNoPubkey:a.DEPOSIT_TO_CONFIREM,ErrorResponse:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},UNACTIVATED:{IsSmartWallet:a.ARPROVING,Reset:a.UNCONNNECTED},ARPROVING:{ApproveSubmit:a.APPROV_TO_CONFIRM,Reset:a.UNCONNNECTED},APPROV_TO_CONFIRM:{ApproveConfirmed:a.ACTIVATED,Reset:a.UNCONNNECTED},LOCKED:{Unlock:a.ACTIVATED,Reset:a.UNCONNNECTED},ACTIVATED:{Lock:a.LOCKED,Reset:a.UNCONNNECTED}}}}},90:function(e,t,n){"use strict";n.d(t,"f",(function(){return I})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return D})),n.d(t,"b",(function(){return B}));var a,r=n(5),c=n.n(r),o=n(21),s=n(7),i=n(0),u=n(89),l=n(66),d=n(412),b=n(173),p=n(43),O=n(105),f=n(14),j=n(58),m=n(158),h=(a={},Object(f.a)(a,j.b.Unknown,void 0),Object(f.a)(a,j.b.Injected,m.b),Object(f.a)(a,j.b.Network,m.d),Object(f.a)(a,j.b.WalletConnect,m.f),Object(f.a)(a,j.b.WalletLink,m.g),Object(f.a)(a,j.b.Ledger,m.c),Object(f.a)(a,j.b.Trezor,m.e),Object(f.a)(a,j.b.Authereum,m.a),a),g=n(114),v=n(999),A=n.n(v),x=n(1973),T=n(314),C=n.n(T),_=n(63),k=n(28),y=n(85),E=n(113),S=n(242);function I(){var e=Object(b.a)(),t=e.connector,n=e.library,a=e.account,r=e.chainId,c=e.active,o=e.error;return{account:a,connector:t,library:n,chainId:r,active:c,isConnected:c&&!A.a.isBlank(a),error:o}}function P(){var e=Object(u.c)((function(e){return e.account}));return{account:e,isNoAccount:function(){return e.status===p.b.NOACCOUNT},isActivated:function(){return e.status===p.b.ACTIVATED},apiKey:e.apiKey,eddsaKey:e.eddsaKey,accountId:e.accountId}}function R(){var e,t=Object(u.b)(),n=(e=Object(p.a)(),function(t,n){var a=e.states[t];if(void 0===a)throw new Error("No transitions defined for ".concat(t));var r=a[n];if(void 0===r)throw new Error("Unknown transition for event ".concat(n," in state ").concat(t));return console.log("got nextState:",r),r});return{sendEvent:Object(i.useCallback)((function(e,a){var r=n(e.status,a);r&&t(Object(g.e)(r))}),[n,t])}}function w(){var e=Object(b.a)().activate,t=R().sendEvent,n=Object(u.b)(),a=Object(i.useState)(),r=Object(s.a)(a,2),c=r[0],o=r[1];return{connect:Object(i.useCallback)((function(a){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=h[a];o(c),e(c),n(Object(g.h)(a)),r&&(console.log("try Connecting... isSwitch Reset"),t(S.a.getState().account,p.c.Reset)),t(S.a.getState().account,p.c.Connecting),console.log("try Connecting...")}),[e,n,t]),activatingConnector:c}}function N(){var e=Object(b.a)().deactivate,t=Object(u.b)();return{disconnect:Object(i.useCallback)((function(){e(),t(Object(g.b)())}),[e,t])}}function D(){var e=Object(u.b)(),t=Object(_.b)(),n=Object(_.c)(),a=Object(d.a)().exchangeInfo,r=I().connector,s=R().sendEvent;return{lock:Object(i.useCallback)(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("useCallback lock:",t.status),s(t,p.c.Lock);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),unlock:Object(i.useCallback)(function(){var i=Object(o.a)(c.a.mark((function o(i){var u,l,d,b,f,j,m;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n&&t&&r&&i.accountId&&(null===a||void 0===a?void 0:a.exchangeAddress)&&i.status===p.b.LOCKED){c.next=5;break}return console.log("accountId:",i.accountId),console.log("exchangeAddress:",a),console.log("enter !! account.status:",i.status),c.abrupt("return");case 5:if(console.log("useUnlock useCallback:",i.status),i.status===p.b.LOCKED){c.next=8;break}throw Error("unexpected status:"+i.status);case 8:return l=void 0,d=void 0,b=void 0,c.prev=11,c.next=14,r.getProvider();case 14:if(f=c.sent,j=new C.a(f),console.log("useUnlock eddsaKey:",i.eddsaKey),i.eddsaKey){c.next=24;break}return c.next=20,O.b(j,i.accAddr,null===a||void 0===a?void 0:a.exchangeAddress,i.nonce-1,i.connectName);case 20:m=c.sent,d=Object(k.i)(Object(k.f)(m.keyPair.secretKey)),c.next=25;break;case 24:d=i.eddsaKey;case 25:return c.next=27,n.getUserApiKey({accountId:i.accountId},d);case 27:b=c.sent,console.log("useUnlock apikey:",b),l=p.c.Unlock,c.next=35;break;case 32:c.prev=32,c.t0=c.catch(11),l=p.c.Reset;case 35:d&&e(Object(g.i)(d)),(null===(u=b)||void 0===u?void 0:u.apiKey)&&e(Object(g.f)(b.apiKey)),console.log("next event:",l),l&&s(i,l);case 39:case"end":return c.stop()}}),o,null,[[11,32]])})));return function(e){return i.apply(this,arguments)}}(),[e,s,t,n,r,a])}}function B(){var e=Object(u.b)(),t=P().account,n=R().sendEvent,a=Object(_.b)(),r=Object(_.c)(),s=I(),i=s.account,b=s.active,O=s.isConnected,f=s.chainId,m=s.connector,h=i,v=Object(x.a)(f),A=Object(x.a)(i),T=Object(d.a)().exchangeInfo;Object(l.a)(Object(o.a)(c.a.mark((function s(){var u,l;return c.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return l=function(){return(l=Object(o.a)(c.a.mark((function o(){var s,l;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t&&h&&a&&r&&m&&(null===T||void 0===T?void 0:T.exchangeAddress)){c.next=3;break}return console.log("checkStatus return!!!!!!"),c.abrupt("return");case 3:if(!(v&&f&&v!==f||A&&i&&A!==i)||t.status===p.b.UNCONNNECTED){c.next=8;break}return console.log("checkStatus try to resetFunc"),e(Object(g.b)()),n(t,p.c.Reset),c.abrupt("return");case 8:u(),c.t0=t.status,c.next=c.t0===p.b.UNCONNNECTED?12:c.t0===p.b.CONNECTED?15:c.t0===p.b.NOACCOUNT?31:c.t0===p.b.DEPOSITING?32:c.t0===p.b.DEPOSIT_TO_CONFIREM?35:c.t0===p.b.UNACTIVATED?36:c.t0===p.b.ARPROVING?39:c.t0===p.b.APPROV_TO_CONFIRM?42:c.t0===p.b.LOCKED?45:c.t0===p.b.ACTIVATED?46:50;break;case 12:return console.log("---\x3e render UNCONNNECTED active:",b," isConnected:",O),O&&(e(Object(g.h)(j.b.Injected)),n(t,p.c.Connecting)),c.abrupt("break",51);case 15:return console.log("---\x3e render CONNECTED account:",t),c.prev=16,c.next=19,a.getAccount({owner:h});case 19:s=c.sent,t.accAddr&&t.eddsaKey&&s.owner===t.accAddr?console.log("cur Eddsakey:",t.eddsaKey):(console.log("got a new address:",s),e(Object(g.d)(s))),(null===t||void 0===t?void 0:t.connectName)!==(null===t||void 0===t?void 0:t.connectNameTemp)&&e(Object(g.g)(t.connectNameTemp)),n(t,p.c.HasPubkey),c.next=30;break;case 25:c.prev=25,c.t1=c.catch(16),Object(y.a)(c.t1),h&&e(Object(g.c)(h)),101002===c.t1.response.data.resultInfo.code&&n(t,p.c.ErrorResponse);case 30:case 31:return c.abrupt("break",51);case 32:return!0,console.log("depositFinished currStatus:",t.status),n(t,p.c.FinishDeposit),c.abrupt("break",51);case 35:return c.abrupt("break",51);case 36:return!1,console.log("approve hash no smartwallet, account.status:",t.status),c.abrupt("break",51);case 39:return!1,c.abrupt("break",51);case 42:return!1,c.abrupt("break",51);case 45:return c.abrupt("break",51);case 46:return E.a.checkTimeout(!0),l=setInterval((function(){var e=E.a.checkTimeout();t.status===p.b.ACTIVATED&&e&&(clearInterval(l),n(t,p.c.Lock))}),1e3),E.a.setHandler(l),c.abrupt("break",51);case 50:return c.abrupt("break",51);case 51:case"end":return c.stop()}}),o,null,[[16,25]])})))).apply(this,arguments)},u=function(){var e=E.a.getHandler();t.status!==p.b.ACTIVATED&&e&&clearInterval(e)},function(){return l.apply(this,arguments)}(),s.abrupt("return",(function(){u()}));case 5:case"end":return s.stop()}}),s)}))),[a,r,t,v,f,h,e,m,null===T||void 0===T?void 0:T.exchangeAddress])}}},[[1885,8,4,2,3,1,5,6]]]);
//# sourceMappingURL=main~a97bfcba.7883241a.chunk.js.map