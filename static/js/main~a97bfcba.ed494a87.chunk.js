(this["webpackJsonp@loopring-web/webapp"]=this["webpackJsonp@loopring-web/webapp"]||[]).push([[7],{109:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(9),c=n(23),r=n(122),o=function(){return new c.l(Object(r.a)())},i=function(){return new c.e(Object(r.a)())},s=function(){return new c.a(Object(r.a)())},l=function e(){Object(a.a)(this,e)};l.userApi=new c.l(Object(r.a)()),l.exchangeAPI=new c.e(Object(r.a)()),l.ammpoolAPI=new c.a(Object(r.a)()),l.wsAPI=new c.n(Object(r.a)()),l.setChainId=function(e){l.userApi.setChainId(e),l.exchangeAPI.setChainId(e),l.ammpoolAPI.setChainId(e),l.wsAPI.setChainId(e)}},113:function(e,t,n){"use strict";n.d(t,"f",(function(){return _})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return D})),n.d(t,"b",(function(){return R}));var a,c=n(5),r=n.n(c),o=n(24),i=n(6),s=n(1),l=n(46),u=n(87),d=n(122),b=n(157),p=n(40),f=n(23),m=n(15),j=n(169),O=(a={},Object(m.a)(a,f.c.Unknown,void 0),Object(m.a)(a,f.c.Injected,j.b),Object(m.a)(a,f.c.Network,j.d),Object(m.a)(a,f.c.WalletConnect,j.f),Object(m.a)(a,f.c.WalletLink,j.g),Object(m.a)(a,f.c.Ledger,j.c),Object(m.a)(a,f.c.Trezor,j.e),Object(m.a)(a,f.c.Authereum,j.a),a),h=n(119),v=n(973),g=n.n(v),x=n(1985),A=n(335),y=n.n(A),T=n(76),C=n(202),k=n(96),E=n(301),w=n(220);function _(){var e=Object(b.a)(),t=e.connector,n=e.library,a=e.account,c=e.chainId,r=e.active,o=e.error;return{account:a,connector:t,library:n,chainId:c,active:r,isConnected:r&&!g.a.isBlank(a),error:o}}function S(){var e=Object(l.c)((function(e){return e.account}));return{account:e,isNoAccount:function(){return e.status===p.b.NOACCOUNT},isActivated:function(){return e.status===p.b.ACTIVATED},apiKey:e.apiKey,eddsaKey:e.eddsaKey,accountId:e.accountId}}function I(){var e,t=Object(l.b)(),n=(e=Object(p.a)(),function(t,n){var a=e.states[t];if(void 0===a)throw new Error("No transitions defined for ".concat(t));var c=a[n];if(void 0===c)throw new Error("Unknown transition for event ".concat(n," in state ").concat(t));return c});return{sendEvent:Object(s.useCallback)((function(e,a){var c=n(e.status,a);c&&t(Object(h.e)(c))}),[n,t])}}function N(){var e=Object(b.a)().activate,t=I().sendEvent,n=Object(l.b)(),a=Object(s.useState)(),c=Object(i.a)(a,2),r=c[0],o=c[1];return{connect:Object(s.useCallback)((function(a){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=O[a];o(r),e(r),n(Object(h.h)(a)),c&&t(k.a.getState().account,p.c.Reset),t(k.a.getState().account,p.c.Connecting),console.log("try Connecting...")}),[e,n,t]),activatingConnector:r}}function P(){var e=Object(b.a)().deactivate,t=Object(l.b)();return{disconnect:Object(s.useCallback)((function(){e(),t(Object(h.b)(void 0))}),[e,t])}}function D(){var e=Object(l.b)(),t=Object(T.b)(),n=Object(T.c)(),a=Object(d.b)().tradingInfo,c=_().connector,i=I().sendEvent;return{lock:Object(s.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("useCallback lock:",t.status),i(t,p.c.Lock);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),unlock:Object(s.useCallback)(function(){var s=Object(o.a)(r.a.mark((function o(s){var l,u,d,b,m,j,O,v,g;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n&&t&&c&&s.accountId&&(null===(l=a.exchangeInfo)||void 0===l?void 0:l.exchangeAddress)&&s.status===p.b.LOCKED){r.next=5;break}return console.log("accountId:",s.accountId),console.log("exchangeAddress:",a.exchangeInfo),console.log("enter !! account.status:",s.status),r.abrupt("return");case 5:if(console.log("useUnlock useCallback:",s.status),s.status===p.b.LOCKED){r.next=8;break}throw Error("unexpected status:"+s.status);case 8:return d=void 0,b=void 0,m=void 0,r.prev=11,r.next=14,c.getProvider();case 14:if(j=r.sent,O=new y.a(j),console.log("useUnlock eddsaKey:",s.eddsaKey),s.eddsaKey){r.next=24;break}return r.next=20,f.r(O,s.accAddr,null===(v=a.exchangeInfo)||void 0===v?void 0:v.exchangeAddress,s.nonce-1,s.connectName);case 20:g=r.sent,b=Object(f.z)(Object(f.x)(g.keyPair.secretKey)),r.next=25;break;case 24:b=s.eddsaKey;case 25:return r.next=27,n.getUserApiKey({accountId:s.accountId},b);case 27:m=r.sent,console.log("useUnlock apikey:",m),d=p.c.Unlock,r.next=35;break;case 32:r.prev=32,r.t0=r.catch(11),d=p.c.Reset;case 35:b&&e(Object(h.i)(b)),(null===(u=m)||void 0===u?void 0:u.apiKey)&&e(Object(h.f)(m.apiKey)),console.log("next event:",d),d&&i(s,d);case 39:case"end":return r.stop()}}),o,null,[[11,32]])})));return function(e){return s.apply(this,arguments)}}(),[e,i,t,n,c,a.exchangeInfo])}}function R(){var e,t=Object(l.b)(),n=S().account,a=I().sendEvent,c=Object(T.b)(),i=Object(T.c)(),s=_(),b=s.account,m=s.active,j=s.isConnected,O=s.chainId,v=s.connector,g=b,A=Object(x.a)(O),y=Object(x.a)(b),k=Object(d.b)().tradingInfo;Object(u.a)(Object(o.a)(r.a.mark((function e(){var s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return(l=Object(o.a)(r.a.mark((function e(){var o,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&g&&c&&i&&v&&(null===(o=k.exchangeInfo)||void 0===o?void 0:o.exchangeAddress)){e.next=3;break}return console.log("checkStatus return!!!!!!"),e.abrupt("return");case 3:if(!(A&&O&&A!==O||y&&b&&y!==b)||n.status===p.b.UNCONNNECTED){e.next=8;break}return console.log("checkStatus try to resetFunc"),t(Object(h.b)(void 0)),a(n,p.c.Reset),e.abrupt("return");case 8:s(),e.t0=n.status,e.next=e.t0===p.b.UNCONNNECTED?12:e.t0===p.b.CONNECTED?17:e.t0===p.b.NOACCOUNT?33:e.t0===p.b.DEPOSITING?34:e.t0===p.b.DEPOSIT_TO_CONFIREM?37:e.t0===p.b.UNACTIVATED?38:e.t0===p.b.ARPROVING?41:e.t0===p.b.APPROV_TO_CONFIRM?44:e.t0===p.b.LOCKED?47:e.t0===p.b.ACTIVATED?49:54;break;case 12:return console.log("---\x3e render UNCONNNECTED active:",m," isConnected:",j),j&&(t(Object(h.h)(f.c.Injected)),a(n,p.c.Connecting)),t(Object(E.a)(void 0)),t(Object(w.a)(void 0)),e.abrupt("break",55);case 17:return console.log("---\x3e render CONNECTED account:",n),e.prev=18,e.next=21,c.getAccount({owner:g});case 21:l=e.sent.accInfo,n.accAddr&&n.eddsaKey&&l.owner===n.accAddr?console.log("cur Eddsakey:",n.eddsaKey):(console.log("got a new address:",l),t(Object(h.d)(l)),t(Object(E.b)(void 0))),(null===n||void 0===n?void 0:n.connectName)!==(null===n||void 0===n?void 0:n.connectNameTemp)&&t(Object(h.g)(n.connectNameTemp)),a(n,p.c.HasPubkey),e.next=32;break;case 27:e.prev=27,e.t1=e.catch(18),Object(f.q)(e.t1),g&&t(Object(h.c)(g)),e.t1.response&&e.t1.response.data&&e.t1.response.data.resultInfo&&101002===e.t1.response.data.resultInfo.code&&a(n,p.c.ErrorResponse);case 32:case 33:return e.abrupt("break",55);case 34:return!0,console.log("depositFinished currStatus:",n.status),a(n,p.c.FinishDeposit),e.abrupt("break",55);case 37:return e.abrupt("break",55);case 38:return!1,console.log("approve hash no smartwallet, account.status:",n.status),e.abrupt("break",55);case 41:return!1,e.abrupt("break",55);case 44:return!1,e.abrupt("break",55);case 47:return t(Object(E.a)(void 0)),e.abrupt("break",55);case 49:return C.a.checkTimeout(!0),u=setInterval((function(){var e=C.a.checkTimeout();n.status===p.b.ACTIVATED&&e&&(clearInterval(u),a(n,p.c.Lock))}),1e3),C.a.setHandler(u),t(Object(w.b)(void 0)),e.abrupt("break",55);case 54:return e.abrupt("break",55);case 55:case"end":return e.stop()}}),e,null,[[18,27]])})))).apply(this,arguments)},s=function(){var e=C.a.getHandler();n.status!==p.b.ACTIVATED&&e&&clearInterval(e)},function(){return l.apply(this,arguments)}(),e.abrupt("return",(function(){s()}));case 5:case"end":return e.stop()}}),e)}))),[E.b,w.b,E.a,w.a,c,i,n,A,O,g,t,v,null===(e=k.exchangeInfo)||void 0===e?void 0:e.exchangeAddress])}},119:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return j})),n.d(t,"i",(function(){return O}));var a=n(79),c=n(23),r=n(40),o=n(202),i=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_ACCOUND_ID?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_ACCOUND_ID:o.a.getAccountId(),t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_API_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_API_KEY:o.a.getApikey(),n=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_OWNER?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_OWNER:o.a.getAccount(),a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_EDDSA_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_EDDSA_KEY:o.a.getEddsakey();return console.log("defaultApiKey:",JSON.stringify(t)),{accAddr:n,status:r.b.UNCONNNECTED,accountId:e,publicKey:{},nonce:0,isContractAddress:!1,apiKey:t,eddsaKey:a,connectName:c.c.Unknown,connectNameTemp:c.c.Unknown}},s=Object(a.c)({name:"account",initialState:i(),reducers:{reset:function(e){var t=i();console.log("!!! reset account!",t),Object.assign(e,t)},setAccAddr:function(e,t){e.accAddr=t.payload},setAccountInfo:function(e,t){e.accAddr=t.payload.owner,e.accountId=t.payload.accountId,e.nonce=t.payload.nonce,e.publicKey=t.payload.publicKey},setApikey:function(e,t){e.apiKey=t.payload},setAccountStatus:function(e,t){e.status=t.payload},setEddsaKey:function(e,t){e.eddsaKey=t.payload},setConnectName:function(e,t){e.connectName=t.payload},setConnectNameTemp:function(e,t){e.connectNameTemp=t.payload},setIsContractAddress:function(e,t){e.isContractAddress=t.payload}}}),l=s.actions,u=l.reset,d=l.setAccAddr,b=l.setApikey,p=l.setConnectName,f=l.setConnectNameTemp,m=l.setAccountInfo,j=l.setAccountStatus,O=l.setEddsaKey;l.setIsContractAddress;t.a=s},122:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return j})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return x})),n.d(t,"i",(function(){return A}));var a=n(5),c=n.n(a),r=n(24),o=n(76),i=n(46),s=n(87),l=n(96),u=n(188),d=n(23),b=n(157),p=n(1);function f(){return l.a.getState().system.chainId}function m(){var e=Object(i.c)((function(e){return e.trading}));return{tradingInfo:e,chainId:e.chainId}}function j(){var e=Object(b.a)().chainId,t=Object(i.b)();Object(p.useEffect)((function(){t(Object(u.e)(null!==e&&void 0!==e?e:d.b.GORLI))}),[e,t])}function O(){var e=Object(i.b)(),t=Object(o.b)();Object(s.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getMixMarkets();case 5:a=n.sent,e(Object(u.h)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.q)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function h(){var e=Object(i.b)(),t=Object(o.b)();Object(s.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getExchangeInfo();case 5:a=n.sent,e(Object(u.f)(a.exchangeInfo)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.q)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function v(){var e=Object(i.b)(),t=Object(o.a)();Object(s.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getAmmPoolConf();case 5:a=n.sent,e(Object(u.c)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.q)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function g(){var e=Object(i.b)(),t=Object(o.a)();Object(s.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getAmmPoolStats();case 5:a=n.sent,e(Object(u.d)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.q)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function x(){var e=Object(i.b)(),t=Object(o.a)();Object(s.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getAmmPoolActivityRules();case 5:a=n.sent,e(Object(u.b)(a.activityRules)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.q)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function A(){var e=Object(i.b)(),t=Object(o.b)();Object(s.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getTokens();case 5:a=n.sent,e(Object(u.j)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.q)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}},136:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.d}));var a=n(2),c=n(46),r=n(183),o=function(){var e=Object(c.c)((function(e){return e.amm.ammMap})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(r.a.actions.statusUnset(void 0))},updateAmmMap:function(){t(r.a.actions.getAmmMap(void 0))}})}},144:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r.c})),n.d(t,"a",(function(){return r.a}));var a=n(2),c=n(46),r=n(265);function o(){var e=Object(c.c)((function(e){return e.tokenMap})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(r.c.actions.statusUnset(void 0))},updateTokenMap:function(){t(r.c.actions.getTokenMap(void 0))}})}},156:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var a,c=n(23),r=n(501);function o(e,t){return i(t[e])}function i(e){if(e){var t=r.utils.getAddress(e.address);return"https://exchange.loopring.io/assets/images/ethereum/assets/".concat(t,"/logo.png")}return""}!function(e){e.Normal="Normal",e.EmptyInput="EmptyInput",e.ExceedUserBalance="ExceedUserBalance",e.ExceedPoolBalance="ExceedPoolBalance",e.Loading="Loading"}(a||(a={}));var s=function(e,t){if(!e)throw Error("no tokens list!");return e[t]};function l(e,t,n,a,r){try{var o=s(e,t),i=a||o.precision,l=c.x(n).div("1e"+o.decimals);return c.y(l,i,r)}catch(u){return 0}}},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return b}));var a=n(6),c=n(1),r=n(46),o=n(184),i=n(169),s=n(23);function l(){var e=Object(o.d)(),t=Object(o.d)(s.g);return e.active?e:t}function u(){var e=l().chainId,t=Object(c.useState)(""),n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(c.useEffect)((function(){switch(e){case s.b.MAINNET:o("https://etherscan.io/address/");break;default:o("https://goerli.etherscan.io/address/")}}),[e]),{etherscanUrl:r}}function d(){var e=Object(o.d)(),t=e.activate,n=e.active,r=Object(c.useState)(!1),s=Object(a.a)(r,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){i.b.isAuthorized().then((function(e){e?(console.log("useEagerConnect isAuthorized"),t(i.b,void 0,!0).catch((function(){u(!0)}))):(console.log("useEagerConnect NOT isAuthorized"),u(!0))}))}),[]),Object(c.useEffect)((function(){!l&&n&&u(!0)}),[l,n]),l}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=Object(o.d)(),n=t.active,a=t.error,s=t.activate,l=t.chainId,u=Object(r.b)();Object(c.useEffect)((function(){var t=window.ethereum,c=function(){console.log("--------------------------\x3e reConnectInjected"),s(i.b),e&&e()};if(t&&t.on&&!n&&!a){var r=function(e){console.log("Handling 'chainChanged' event with payload",e),c()},o=function(e){console.log("---------------------------------------------"),console.log("Handling 'accountsChanged' event with payload",e),console.log("before reset accounts.length=",e.length),e.length>0&&(console.log("before reset!!!!!!!!!!!!!!!!1"),c())};return t.on("chainChanged",r),t.on("accountsChanged",o),function(){t.removeListener&&(t.removeListener("chainChanged",r),t.removeListener("accountsChanged",o))}}}),[n,a,l,s,u])}},169:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return v}));var a=n(440),c=n(967),r=n(531),o=n(968),i=n(969),s=n(971),l=n(972),u=12e3,d="https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",b="https://goerli.infura.io/v3/84842078b09946638c03157f83405213";console.log("RPC_URLS 1:",d),console.log("RPC_URLS 5:",b);var p=new a.a({supportedChainIds:[1,5]}),f=new c.a({urls:{1:d,5:b},defaultChainId:1}),m=new r.b({rpc:{1:d},bridge:"https://bridge.walletconnect.org",qrcode:!0,pollingInterval:u}),j=new o.a({url:d,appName:"Loopring DEX"}),O=new i.a({chainId:1,url:d,pollingInterval:u}),h=new s.a({chainId:1,url:d,pollingInterval:u,manifestEmail:"dummy@abc.xyz",manifestAppUrl:"http://localhost:1234"}),v=new l.a({chainId:42})},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u}));var a=n(79),c=n(47),r={ammMap:void 0,__timer__:-1,status:"UNSET",errorMessage:null},o=Object(a.c)({name:"ammMap",initialState:r,reducers:{getAmmMap:function(e,t){e.status=c.a.PENDING},getAmmMapStatus:function(e,t){t.error&&(e.status=c.a.ERROR,e.errorMessage=t.error);var n=t.payload,a=n.ammMap,r=n.__timer__;a&&(e.ammMap=a),r&&(e.__timer__=r),e.status=c.a.DONE},updateRealTimeAmmMap:function(e,t){e.status=c.a.PENDING},statusUnset:function(e){e.status=c.a.UNSET}}}),i=o.actions,s=i.getAmmMap,l=i.getAmmMapStatus,u=(i.statusUnset,i.updateRealTimeAmmMap)},1869:function(e,t,n){"use strict";n.r(t);var a=n(46),c=n(142),r=n.n(c),o=n(906),i=n(184),s=n(96),l=n(441),u=n(23),d=n(12),b=n(2027),p=n(215),f=n(1986),m=n(130),j=n(1987),O=n(0),h=Object(i.c)(u.g),v=[Object(d.Y)(p.b,{dateAdapter:f.a}),Object(d.Y)(j.a,{i18n:d.X}),Object(d.Y)(b.a,{theme:Object(d.T)("dark")}),Object(d.Y)(m.c,{theme:Object(d.T)("dark")}),Object(d.Y)(a.a,{store:s.a})];r.a.render(Object(O.jsx)(d.E,{providers:v,children:Object(O.jsx)(i.b,{getLibrary:l.a,children:Object(O.jsx)(h,{getLibrary:l.a,children:Object(O.jsx)(o.a,{})})})}),document.getElementById("root"))},188:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"i",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return v})),n.d(t,"f",(function(){return g}));var a=n(79),c=n(23),r="LRC-ETH",o=Object(c.t)(r),i=o.base,s=o.quote,l={chainId:c.b.GORLI,symbol:r,symbol_base:i,symbol_quote:s,interval:"4hr",ammPoolConf:{},ammActivityRules:{},ammPoolStats:{},markets:[],marketTrades:{},tokens:{},tickerMap:{},refreshRate:1e3,refreshRateSlow:3e3},u=Object(a.c)({name:"trading",initialState:l,reducers:{setChainId:function(e,t){e.chainId=t.payload},changeSymbol:function(e,t){e.symbol=t.payload;var n=Object(c.t)(e.symbol),a=n.base,r=n.quote;e.symbol_base=a,e.symbol_quote=r},changeTradingInterval:function(e,t){e.interval=t.payload},setTickerMap:function(e,t){e.tickerMap=t.payload},setAmmPoolStats:function(e,t){e.ammPoolStats=t.payload},setAmmActivityRules:function(e,t){e.ammActivityRules=t.payload},setAmmPoolConf:function(e,t){e.ammPoolConf=t.payload},setMarketTrades:function(e,t){e.marketTrades=t.payload},setMarkets:function(e,t){e.markets=t.payload},setTokens:function(e,t){e.tokens=t.payload},setExchangeInfo:function(e,t){e.exchangeInfo=t.payload}}}),d=u.actions,b=d.setChainId,p=d.setAmmPoolStats,f=d.setAmmActivityRules,m=d.setMarketTrades,j=d.setTickerMap,O=d.setAmmPoolConf,h=(d.changeSymbol,d.changeTradingInterval,d.setMarkets),v=d.setTokens,g=d.setExchangeInfo;t.a=u},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,c=n(9),r=n(11);!function(e){e.Handler="handler",e.AccountId="account_id",e.Account="account",e.Apikey="apikey",e.Eddsakey="eddsakey",e.ActiveTime="active_time",e.AmmOrder="amm_order",e.HardwareAddresses="hardware_addresses"}(a||(a={}));var o=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,null,[{key:"getHandler",value:function(){var e=sessionStorage.getItem(a.Handler);try{if(void 0!==e&&null!==e)return parseInt(e)}catch(t){}}},{key:"setHandler",value:function(e){sessionStorage.setItem(a.Handler,e)}},{key:"clearHandler",value:function(){sessionStorage.removeItem(a.Handler)}},{key:"checkTimeout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=localStorage.getItem(a.ActiveTime),n=(new Date).getTime();if(null===t||e)e&&console.log("force reset!!"),localStorage.setItem(a.ActiveTime,n.toString());else{var c=new Date(parseInt(t));if(n-c.getTime()>6e5)return console.log("TIMEOUT! now:".concat(n," dateTimeStr:").concat(t," delta:").concat(n-c.getTime())),sessionStorage.clear(),localStorage.setItem(a.ActiveTime,n.toString()),!0}return!1}},{key:"getAccountId",value:function(){var e=sessionStorage.getItem(a.AccountId);try{if(e)return parseInt(e)}catch(t){}}},{key:"setAccountId",value:function(e){sessionStorage.setItem(a.AccountId,e.toString())}},{key:"getAccount",value:function(){return sessionStorage.getItem(a.Account)}},{key:"setAccount",value:function(e){sessionStorage.setItem(a.Account,e)}},{key:"getApikey",value:function(){return sessionStorage.getItem(a.Apikey)}},{key:"setApikey",value:function(e){sessionStorage.setItem(a.Apikey,e)}},{key:"getEddsakey",value:function(){return sessionStorage.getItem(a.Eddsakey)}},{key:"setEddsakey",value:function(e){sessionStorage.setItem(a.Eddsakey,e)}},{key:"getAmmOrder",value:function(){var e=localStorage.getItem(a.AmmOrder);return e||""}},{key:"setAmmOrder",value:function(e){localStorage.setItem(a.AmmOrder,e)}},{key:"clearAmmOrder",value:function(){localStorage.removeItem(a.AmmOrder)}},{key:"isHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);return!(!t||!t.includes(e.toLowerCase()))}},{key:"saveHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);if(t){if(!0!==t.includes(e.toLowerCase())){var n=t+","+e.toLowerCase();localStorage.setItem(a.HardwareAddresses,n)}}else localStorage.setItem(a.HardwareAddresses,e.toLowerCase())}}]),e}()},219:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(2),c=n(79),r=n(47),o=Object(c.c)({name:"tickerMap",initialState:{tickerMap:{},status:"UNSET",errorMessage:null},reducers:{getTicker:function(e,t){e.status=r.a.PENDING},getTickers:function(e,t){e.status=r.a.PENDING},getTickerStatus:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error),e.tickerMap=Object(a.a)(Object(a.a)({},e.tickerMap),t.payload.tickerMap),e.status=r.a.DONE},statusUnset:function(e){e.status=r.a.UNSET}}}),i=o.actions,s=i.getTicker,l=i.getTickers,u=i.getTickerStatus;i.statusUnset},220:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r.d})),n.d(t,"b",(function(){return r.c})),n.d(t,"a",(function(){return r.b}));var a=n(2),c=n(46),r=n(248);function o(){var e=Object(c.c)((function(e){return e.walletLayer2})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{resetLayer2:function(){t(r.d.actions.reset(void 0))},statusUnset:function(){t(r.d.actions.statusUnset(void 0))},updateWalletLayer2:function(){t(r.d.actions.getWalletLayer2(void 0))}})}},246:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var a=n(79),c=n(266),r=n(47),o={env:c.a.PROD,chainId:"unknown",baseURL:"",faitPrices:void 0,gasPrice:void 0,forex:void 0,__timer__:-1,status:"UNSET",errorMessage:null,topics:[]},i=Object(a.c)({name:"system",initialState:o,reducers:{updateSystem:function(e,t){e.chainId=t.payload.chainId,e.status=r.a.PENDING},updateRealTimeObj:function(e,t){var n=t.payload,a=n.forex,c=n.faitPrices,r=n.gasPrice;a&&(e.forex=a),c&&(e.faitPrices=c),r&&(e.gasPrice=r)},getSystemStatus:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error);var n=t.payload,a=n.env,c=n.baseURL,o=n.faitPrices,i=n.gasPrice,s=n.forex,l=n.__timer__;a&&(e.env=a),c&&(e.baseURL=c),o&&(e.faitPrices=o),i&&(e.gasPrice=i),s&&(e.forex=s),l&&(e.__timer__=l),e.status=r.a.DONE},statusUnset:function(e){e.status=r.a.UNSET}}}),s=i.actions,l=s.updateSystem,u=(s.setTopics,s.getSystemStatus),d=(s.statusUnset,s.updateRealTimeObj)},247:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(2),c=n(79),r=n(47),o={walletLayer1:void 0,status:"UNSET",errorMessage:null},i=Object(c.c)({name:"walletLayer1S",initialState:o,reducers:{updateWalletLayer1:function(e,t){e.status=r.a.PENDING},reset:function(e,t){e.walletLayer1=void 0,e.status=r.a.UNSET},getWalletLayer1Status:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error),e.walletLayer1=Object(a.a)({},t.payload.walletLayer1),e.status=r.a.DONE},statusUnset:function(e){e.status=r.a.UNSET}}}),s=i.actions,l=s.updateWalletLayer1,u=s.getWalletLayer1Status,d=(s.statusUnset,s.reset)},248:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(2),c=n(79),r=n(47),o={walletLayer2:void 0,status:"UNSET",errorMessage:null},i=Object(c.c)({name:"walletLayer2S",initialState:o,reducers:{updateWalletLayer2:function(e,t){e.status=r.a.PENDING},reset:function(e,t){e.walletLayer2=void 0,e.status=r.a.UNSET},getWalletLayer2Status:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error),e.walletLayer2=Object(a.a)({},t.payload.walletLayer2),e.status=r.a.DONE},statusUnset:function(e){e.status=r.a.UNSET}}}),s=i.actions,l=s.updateWalletLayer2,u=s.getWalletLayer2Status,d=(s.statusUnset,s.reset)},264:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(2),c=n(79),r=n(47),o=Object(c.c)({name:"ammActivityMap",initialState:{ammActivityMap:{},status:"UNSET",errorMessage:null},reducers:{getAmmActivityMap:function(e,t){e.status=r.a.PENDING},getAmmActivityMapStatus:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error),e.ammActivityMap=Object(a.a)({},t.payload.ammActivityMap),e.status=r.a.DONE},statusUnset:function(e){e.status=r.a.UNSET}}}),i=o.actions,s=i.getAmmActivityMap,l=i.getAmmActivityMapStatus;i.statusUnset},265:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(79),c=n(47),r={coinMap:{},addressIndex:void 0,tokenMap:void 0,idIndex:void 0,status:"UNSET",errorMessage:null},o=Object(a.c)({name:"tokenMap",initialState:r,reducers:{getTokenMap:function(e,t){e.status=c.a.PENDING},getTokenMapStatus:function(e,t){t.error&&(e.status=c.a.ERROR,e.errorMessage=t.error);var n=t.payload,a=n.tokenMap,r=n.addressIndex,o=n.idIndex,i=n.coinMap,s=n.marketArray,l=n.marketCoins;a&&(e.tokenMap=a),r&&(e.addressIndex=r),o&&(e.idIndex=o),i&&(e.coinMap=i),s&&(e.marketArray=s),l&&(e.marketCoins=l),e.status=c.a.DONE},statusUnset:function(e){e.status=c.a.UNSET}}}),i=o.actions,s=i.getTokenMap,l=i.getTokenMapStatus;i.getTokenPairMap,i.statusUnset},266:function(e,t,n){"use strict";var a,c;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),function(e){e.DEV="DEV",e.UAT="UAT",e.PROD="PROD"}(a||(a={})),function(e){e.NONETWORK="unknown"}(c||(c={}))},301:function(e,t,n){"use strict";n.d(t,"c",(function(){return a.d})),n.d(t,"b",(function(){return a.c})),n.d(t,"a",(function(){return a.b}));n(2),n(46);var a=n(247)},377:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r.d}));var a=n(2),c=n(46),r=n(219);function o(){var e=Object(c.c)((function(e){return e.tickerMap})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(r.d.actions.statusUnset(void 0))},updateTickers:function(e){t(r.d.actions.getTickers({tickerKeys:e}))},updateTicker:function(e){t(r.d.actions.getTicker({tickerKey:e}))}})}},378:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r.a}));var a=n(2),c=n(46),r=n(264);function o(){var e=Object(c.c)((function(e){return e.amm.ammActivityMap})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(r.a.actions.statusUnset(void 0))},updateAmmActivityMap:function(){t(r.a.actions.getAmmActivityMap(void 0))}})}},40:function(e,t,n){"use strict";var a,c;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return r})),function(e){e.UNKNOWN="UNKNOWN",e.UNCONNNECTED="UNCONNNECTED",e.CONNECTED="CONNECTED",e.NOACCOUNT="NOACCOUNT",e.DEPOSITING="DEPOSITING",e.DEPOSIT_TO_CONFIREM="DEPOSIT_TO_CONFIREM",e.UNACTIVATED="UNACTIVATED",e.ARPROVING="ARPROVING",e.APPROV_TO_CONFIRM="APPROV_TO_CONFIRM",e.LOCKED="LOCKED",e.ACTIVATED="ACTIVATED"}(a||(a={})),function(e){e.Reset="Reset",e.Connecting="Connecting",e.HasPubkey="HasPubkey",e.HasNoPubkey="HasNoPubkey",e.ErrorResponse="ErrorResponse",e.FinishDeposit="FinishDeposit",e.DepositConfirmed="DepositConfirmed",e.IsSmartWallet="IsSmartWallet",e.ApproveSubmit="ApproveSubmit",e.ApproveConfirmed="ApproveConfirmed",e.Unlock="Unlock",e.Lock="Lock"}(c||(c={}));var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.UNCONNNECTED;return{initialState:e,states:{UNCONNNECTED:{Connecting:a.CONNECTED,Reset:a.UNCONNNECTED},CONNECTED:{HasPubkey:a.LOCKED,HasNoPubkey:a.UNACTIVATED,ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},NOACCOUNT:{ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},DEPOSITING:{FinishDeposit:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},DEPOSIT_TO_CONFIREM:{HasPubkey:a.ACTIVATED,HasNoPubkey:a.DEPOSIT_TO_CONFIREM,ErrorResponse:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},UNACTIVATED:{IsSmartWallet:a.ARPROVING,Reset:a.UNCONNNECTED},ARPROVING:{ApproveSubmit:a.APPROV_TO_CONFIRM,Reset:a.UNCONNNECTED},APPROV_TO_CONFIRM:{ApproveConfirmed:a.ACTIVATED,Reset:a.UNCONNNECTED},LOCKED:{Unlock:a.ACTIVATED,Reset:a.UNCONNNECTED},ACTIVATED:{Lock:a.LOCKED,Reset:a.UNCONNNECTED}}}}},441:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));n(5),n(24),n(980),n(83),n(1883),n(225);var a=n(1884);n(184),n(440),n(531);function c(e){var t=new a.a(e);return t.pollingInterval=1e4,t}function r(e){if(e&&void 0!==e&&null!==e&&""!==e.trim())return e.substr(0,6)+"..."+e.substr(e.length-4);console.log("getShortAddr got empty!")}},442:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return E}));var a,c=n(66),r=n(1),o=n.n(r),i=n(202),s=n(113),l=n(122),u=n(0);!function(e){e.Click="click",e.Scroll="scroll",e.Mouseover="mouseover"}(a||(a={}));var d=[a.Click,a.Scroll],b=Object(c.debounce)((function(){i.a.checkTimeout(!0)}),100),p=function(e){var t=e.children;return Object(l.g)(),Object(l.h)(),Object(l.i)(),Object(l.d)(),Object(l.c)(),Object(l.e)(),Object(l.f)(),Object(s.b)(),Object(r.useEffect)((function(){return d.forEach((function(e){document.addEventListener(e,b)})),function(){d.forEach((function(e){document.removeEventListener(e,b)}))}}),[]),Object(u.jsx)(o.a.Fragment,{children:t})},f=n(6),m=n(294),j=n(920),O=n(184),h=n(169),v=n(157),g=n(119),x=n(23),A=n(46),y=n(40);var T=Object(m.a)("div",{target:"e1vtmr5h1"})({name:"17nbj0f",styles:"display:flex;align-items:center;justify-content:center;height:20rem"}),C=Object(m.a)("h2",{target:"e1vtmr5h0"})("color:",(function(e){return e.theme.colorBase.error}),";");function k(e){var t=e.children,n=Object(j.a)().t,a=Object(O.d)().active,c=Object(O.d)(x.g),o=c.active,i=c.error,s=c.activate,l=Object(v.b)();Object(r.useEffect)((function(){!l||o||i||a||s(h.d)}),[l,o,i,s,a]);var d=Object(A.b)();Object(v.d)((function(){console.log("onReConnectInjected"),d(Object(g.b)(void 0)),d(Object(g.e)(y.b.UNCONNNECTED))}),!l);var b=Object(r.useState)(!1),p=Object(f.a)(b,2),m=p[0],k=p[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){k(!0)}),600);return function(){clearTimeout(e)}}),[]),l?!a&&i?Object(u.jsx)(T,{children:Object(u.jsx)(C,{children:n("unknownError")})}):a||o?t:m?Object(u.jsx)(T,{}):null:null}var E=function(e){e.children;return Object(u.jsx)(o.a.Fragment,{children:null})}},47:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.UNSET="UNSET",e.PENDING="PENDING",e.ERROR="ERROR",e.DONE="DONE"}(a||(a={}))},533:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r.b}));var a=n(2),c=n(46),r=n(246);function o(){var e=Object(c.c)((function(e){return e.system})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(r.b.actions.statusUnset(void 0))},updateSystem:function(e){t(r.b.actions.updateSystem(e))}})}n(266)},663:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(10),c=n(920),r=n(1955),o=n(454),i=n(2019),s=n(100),l=n(2020),u=n(17);n(249);var d,b=n(0),p=Object(u.a)(o.a)(d||(d=Object(a.a)(["\n  background-image: url('./static/images/error_bg.png');\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: bottom;\n  white-space: pre-wrap;\n  //h2{\n  //  position: relative;\n  //}\n"]))),f=function(e){var t=e.messageKey,n=Object(c.a)("error").t;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(p,{flex:1,display:"flex",alignItems:"flex-start",justifyContent:"center",flexDirection:"column",marginTop:4,height:680,maxWidth:1200,children:Object(b.jsxs)(o.a,{textAlign:"center",position:"relative",left:128,top:-64,children:[Object(b.jsx)(s.a,{component:"h2",variant:"h2",children:n(t)}),Object(b.jsx)(s.a,{marginY:2,component:"p",variant:"body1",color:"textSecondary",children:Object(b.jsxs)(r.a,{i18nKey:"labelConnectUs",children:["If you believe this is indeed a bug, please ",Object(b.jsx)(l.a,{component:"a",onClick:function(e){window.location.href=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"report to loopring website",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Body Content",a=null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).CONTACT_US_EMAIL)&&void 0!==e?e:"contact@loopring.io";return"mailto:".concat(a,"?subject=").concat(t,"&body=").concat(n)}(),e.preventDefault()},children:"contact us"})," ",Object(b.jsx)("br",{})," We would appreciate your feedback'"]})})]})})})})}},76:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(23),c=n(46),r=n(1);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.d,n=Object(c.c)((function(e){return e.trading})),o=n.chainId,i=function(){if(o)return new e(o,t)},s=Object(r.useMemo)(i,[e,o,t]);return s}function i(){return o(a.e)}function s(){return o(a.a)}function l(){return o(a.l)}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1895);function c(e,t){Object(a.a)(e,[t||{}])}},96:function(e,t,n){"use strict";var a=n(41),c=n(197),r=n(79),o=(n(46),n(660)),i=n(964),s=n(965),l=Object(r.b)("global/updateVersion"),u=n(119),d=n(188),b=function(){return(new Date).getTime()},p={},f=Object(r.c)({name:"transactions",initialState:p,reducers:{reset:function(e){Object.assign(e,p)},addTransaction:function(e,t){var n,a,c=t.payload,r=c.chainId,o=c.from,i=c.hash,s=c.approval,l=c.summary,u=c.claim;if(null===(n=e[r])||void 0===n?void 0:n[i])throw Error("the existing TX can't be added again");(null!==(a=e[r])&&void 0!==a?a:{})[i]={hash:i,approval:s,summary:l,claim:u,from:o,addedTime:b()}},clearAllTransactions:function(e,t){var n=t.payload;e[n]&&(e[n]={})},checkedTransaction:function(e,t){var n,a=t.payload,c=a.chainId,r=a.hash,o=a.blockNumber,i=null===(n=e[c])||void 0===n?void 0:n[r];i&&(i.lastCheckedBlockNumber?i.lastCheckedBlockNumber=Math.max(o,i.lastCheckedBlockNumber):i.lastCheckedBlockNumber=o)},finalizeTransaction:function(e,t){var n,a=t.payload,c=a.chainId,r=a.hash,o=a.receipt,i=null===(n=e[c])||void 0===n?void 0:n[r];i&&(i.receipt=o,i.confirmedTime=b())}}}),m=f.actions,j=(m.reset,m.addTransaction,m.clearAllTransactions,m.checkedTransaction,m.finalizeTransaction,f),O=n(26),h=n(2),v=n(47),g=Object(r.c)({name:"ammRecord",initialState:{ammRecords:[],status:"UNSET",errorMessage:null},reducers:{getAmmRecord:function(e,t){e.status=v.a.PENDING},getAmmRecordStatus:function(e,t){t.error&&(e.status=v.a.ERROR,e.errorMessage=t.error),e.ammRecords=Object(h.a)({},t.payload.ammRecords),e.status=v.a.DONE},statusUnset:function(e){e.status=v.a.UNSET}}}),x=g.actions,A=x.getAmmRecord,y=x.getAmmRecordStatus;x.statusUnset;var T=Object(r.c)({name:"ammTrades",initialState:{ammTrades:[],status:"UNSET",errorMessage:null},reducers:{getAmmTrades:function(e,t){e.status=v.a.PENDING},getAmmTradesStatus:function(e,t){t.error&&(e.status=v.a.ERROR,e.errorMessage=t.error),e.ammTrades=Object(h.a)({},t.payload.ammTrades),e.status=v.a.DONE},statusUnset:function(e){e.status=v.a.UNSET}}}),C=T.actions,k=C.getAmmTrades,E=C.getAmmTradesStatus;C.statusUnset;var w=n(136),_=n(378),S=n(5),I=n.n(S),N=n(24),P=n(42),D=n(264),R=n(300),M=I.a.mark(B),L=I.a.mark(F),U=function(){var e=Object(N.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={"AMM-LRC-ETH":{totalRewards:241232132,myRewards:1232.123,rewardToken:R.a.ETH,duration:{from:new Date("2021-1-1"),to:new Date}},"AMM-ETH-USDC":{totalRewards:241232132,myRewards:1232.123,rewardToken:R.a.ETH,duration:{from:new Date("2021-1-1"),to:new Date}},"AMM-ETH-USDT":{totalRewards:241232132,myRewards:1232.123,rewardToken:R.a.ETH,duration:{from:new Date("2021-1-1"),to:new Date}},"AMM-LRC-USDT":{totalRewards:241232132,myRewards:1232.123,rewardToken:R.a.ETH,duration:{from:new Date("2021-1-1"),to:new Date}}},e.abrupt("return",Promise.resolve({data:t}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function B(){var e,t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(P.b)(U);case 3:return e=n.sent,t=e.data,n.next=7,Object(P.d)(Object(D.c)({ammActivityMap:t}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(P.d)(Object(D.c)(n.t0));case 13:case"end":return n.stop()}}),M,null,[[0,9]])}function F(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(D.b,B)]);case 2:case"end":return e.stop()}}),L)}var K=n(183),H=n(109),V=I.a.mark(J),W=I.a.mark(X),Y=I.a.mark(Q),G=I.a.mark(Z),q=function(e){var t=e.ammPoolState,n=mt.getState().system.forex;return{amountDollar:parseFloat(t.liquidityUSD),amountYuan:parseFloat(t.liquidityUSD)/(n||6.5),totalLPToken:parseFloat(t.lpLiquidity),totalA:parseInt(t.liquidity[0]),totalB:parseInt(t.liquidity[1]),rewardValue:t.rewards[1],rewardToken:t.rewards[0],feeA:parseInt(t.fees[0]),feeB:parseInt(t.fees[1]),tradeFloat:{percent:"",timeUnit:"24h",APY:1*parseInt(t.apyBips)/100},apy:1*parseInt(t.apyBips)/100}},z=function(){var e=Object(N.a)(I.a.mark((function e(t){var n,a,c,r,o,i,s,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ammpools,a={},e.next=4,Object(H.a)().getAmmPoolStats();case 4:return c=e.sent,r=c.ammPoolStats,(o=mt.getState().amm.ammMap.__timer__)&&-1!==o&&clearInterval(o),o=setInterval(Object(N.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.a)().getAmmPoolStats();case 2:t=e.sent.ammPoolStats,mt.dispatch(Object(K.d)({ammPoolStats:t}));case 4:case"end":return e.stop()}}),e)}))),9e5),i=mt.getState(),s=i.tokenMap,s.coinMap,l=s.idIndex,Reflect.ownKeys(n).forEach(function(){var e=Object(N.a)(I.a.mark((function e(t){var c,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=n[t]).market===t&&c.tokens.pooled&&l&&(o=Object(h.a)({coinA:l[c.tokens.pooled[0]],coinB:l[c.tokens.pooled[1]],feeDollar:100,feeYuan:100,isNew:!(Date.now()-Number(c.createdAt)>12096e5),isActivity:7===c.status,address:c.address},q({ammPoolState:r[t]})),a[c.market]=o);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",{ammMap:a,__timer__:o});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function J(e){var t,n,a,c,r;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.prev=1,n=t.ammpools,o.next=5,Object(P.b)(z,{ammpools:n});case 5:return a=o.sent,c=a.ammMap,r=a.__timer__,console.log("--- getPostsSaga:",c),o.next=11,Object(P.d)(Object(K.c)({ammMap:c,__timer__:r}));case 11:o.next=17;break;case 13:return o.prev=13,o.t0=o.catch(1),o.next=17,Object(P.d)(Object(K.c)(o.t0));case 17:case"end":return o.stop()}}),V,null,[[1,13]])}function X(e){var t,n,a;return I.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,n=t.ammPoolStats,a=mt.getState().amm.ammMap.ammMap,n&&Reflect.ownKeys(n).map((function(e){return a[e]=Object(h.a)(Object(h.a)({},a[e]),q({ammPoolState:n[e]})),a})),c.next=7,Object(P.d)(Object(K.c)({ammMap:a}));case 7:c.next=13;break;case 9:return c.prev=9,c.t0=c.catch(1),c.next=13,Object(P.d)(Object(K.c)(c.t0));case 13:case"end":return c.stop()}}),W,null,[[1,9]])}function Q(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(K.b,J)]);case 2:case"end":return e.stop()}}),Y)}function Z(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(K.d,X)]);case 2:case"end":return e.stop()}}),G)}var $=[Object(P.c)(Q),Object(P.c)(Z)],ee=I.a.mark(ae),te=I.a.mark(ce),ne=function(){return new Promise((function(e){e({data:[{side:"Buy",amount:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}},time:Date.now(),fee:.02,amountLP:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}}},{side:"Buy",amount:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}},time:Date.now(),fee:.02,amountLP:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}}}]})}))};function ae(){var e,t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(P.b)(ne);case 3:return e=n.sent,t=e.data,n.next=7,Object(P.d)(y({ammRecords:t}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(P.d)(y(n.t0));case 13:case"end":return n.stop()}}),ee,null,[[0,9]])}function ce(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(A,ae)]);case 2:case"end":return e.stop()}}),te)}var re=I.a.mark(se),oe=I.a.mark(le),ie=function(){return new Promise((function(e){e([{side:"Buy",amount:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}},time:Date.now(),fee:.02,priceValue:.123,priceToken:"LRC"},{side:"Buy",amount:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}},time:Date.now(),fee:.02,priceValue:.123,priceToken:"LRC"}])}))};function se(){var e,t,n;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(P.b)(ie);case 3:return e=a.sent,t=e.data,n=t,a.next=8,Object(P.d)(E(n));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(P.d)(E(a.t0));case 14:case"end":return a.stop()}}),re,null,[[0,10]])}function le(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(k,se)]);case 2:case"end":return e.stop()}}),oe)}var ue=Object(c.b)({ammRecord:g.reducer,ammTrades:T.reducer,ammMap:w.a.reducer,ammActivityMap:_.a.reducer}),de=[Object(P.c)(F)].concat(Object(a.a)($),[Object(P.c)(ce),Object(P.c)(le)]),be=n(144),pe=n(15),fe=n(265),me=n(156),je=I.a.mark(ve),Oe=I.a.mark(ge),he=function(){var e=Object(N.a)(I.a.mark((function e(t){var n,a,c,r,o,i,s,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tokensMap,a=t.pairs,c=t.marketArr,r=t.tokenArr,o={},i=n,s={},l={},Reflect.ownKeys(n).forEach((function(e){e.startsWith("LP-")||(o[e]={icon:Object(me.b)(e,n),name:e,simpleName:e,description:"",company:""}),a[e]&&a[e].tokenList&&(n[e].tradePairs=a[e].tokenList),s=Object(h.a)(Object(h.a)({},s),{},Object(pe.a)({},n[e].address,e)),l=Object(h.a)(Object(h.a)({},l),{},Object(pe.a)({},n[e].tokenId,e))})),e.abrupt("return",{data:{coinMap:o,addressIndex:s,idIndex:l,tokenMap:i,marketArray:c,marketCoins:r}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ve(e){var t,n,a,c,r,o,i;return I.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,n=t.tokensMap,a=t.pairs,c=t.marketArr,r=t.tokenArr,s.next=5,Object(P.b)(he,{tokensMap:n,pairs:a,marketArr:c,tokenArr:r});case 5:return o=s.sent,i=o.data,s.next=9,Object(P.d)(Object(fe.b)(i));case 9:s.next=15;break;case 11:return s.prev=11,s.t0=s.catch(1),s.next=15,Object(P.d)(Object(fe.b)(s.t0));case 15:case"end":return s.stop()}}),je,null,[[1,11]])}function ge(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(fe.a,ve)]);case 2:case"end":return e.stop()}}),Oe)}var xe=[Object(P.c)(ge)],Ae=n(219),ye=n(32),Te=n(23),Ce=I.a.mark(_e),ke=I.a.mark(Se),Ee=I.a.mark(Ie),we=function(){var e=Object(N.a)(I.a.mark((function e(t){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,Object(H.b)().getTicker({market:t.join(",")});case 3:return a=e.sent,console.log(">>>tickMap:",a.tickMap),a.tickMap.forEach((function(e,t){console.log(">>>base_token_volume:",e.base_token_volume),n[t]={timeUnit:"24h",priceDollar:0,priceYuan:0,volume:Object(Te.x)(e.base_token_volume).toNumber(),floatTag:e.close>e.open?"increase":"decrease",APY:0,reward:0,rewardToken:""}})),e.abrupt("return",{data:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function _e(e){var t,n,a,c,r;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload,o.prev=1,n=t.tickerKey,a=t.tickerKeys,console.log("getPostsSaga tickerKey",n,a),!(n||a&&a.length)){o.next=13;break}return o.next=7,Object(P.b)(we,n?[n]:a);case 7:return c=o.sent,r=c.data,o.next=11,Object(P.d)(Object(Ae.b)({tickerMap:r}));case 11:o.next=14;break;case 13:throw new ye.c(ye.e.NO_TOKEN_KEY_LIST);case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(1),o.next=20,Object(P.d)(Object(Ae.b)(o.t0));case 20:case"end":return o.stop()}}),Ce,null,[[1,16]])}function Se(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(Ae.a,_e)]);case 2:case"end":return e.stop()}}),ke)}function Ie(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(Ae.c,_e)]);case 2:case"end":return e.stop()}}),Ee)}var Ne=[Object(P.c)(Se),Object(P.c)(Ie)],Pe=n(246),De=n(266),Re=I.a.mark(Be),Me=I.a.mark(Fe),Le=I.a.mark((function e(){var t,n,a,c,r,o,i,s,l,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt.dispatch(Object(u.b)(void 0)),t=Object(H.b)(),n=Object(H.a)(),e.next=5,Object(P.b)(Object(N.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTokens();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 5:return a=e.sent,c=a.tokenSymbolMap,e.next=9,Object(P.b)(Object(N.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAmmPoolConf();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 9:return r=e.sent,o=r.ammpools,e.next=13,Object(P.b)(Object(N.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMixMarkets();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 13:return i=e.sent,s=i.pairs,l=i.marketArr,d=i.tokenArr,mt.dispatch(Object(be.a)({tokensMap:c,pairs:s,marketArr:l,tokenArr:d})),e.next=20,Object(P.e)("tokenMap/getTokenMapStatus");case 20:mt.dispatch(Object(w.b)({ammpools:o})),mt.getState().tokenMap.status;case 22:case"end":return e.stop()}}),e)})),Ue=function(){var e=Object(N.a)(I.a.mark((function e(t){var n,a,c,r,o,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="localhost"===window.location.hostname?De.a.DEV:Te.b.GORLI===t?De.a.UAT:De.a.PROD,t=Te.b.GORLI===t?Te.b.GORLI:Te.b.MAINNET===t?Te.b.MAINNET:De.b.NONETWORK,e.next=4,Object(H.b)().getFiatPrice({legal:"CNY"});case 4:return a=e.sent.fiatPrices,e.next=7,Object(H.b)().getGasPrice();case 7:return e.t0=e.sent.gasPrice,c=e.t0/1e9,r=Te.b.MAINNET===t?"https://api3.loopring.io":"https://uat2.loopring.io",o=a.USDC,i=function(e){return e&&-1!==e&&clearInterval(e),setInterval(Object(N.a)(I.a.mark((function e(){var t,n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.b)().getFiatPrice({legal:"CNY"});case 2:return t=e.sent.fiatPrices,e.next=5,Object(H.b)().getGasPrice();case 5:e.t0=e.sent.gasPrice,n=e.t0/1e9,a=t.USDT,mt.dispatch(Object(w.c)(void 0)),mt.dispatch(Object(Pe.c)({faitPrices:t,gasPrice:n,forex:a}));case 10:case"end":return e.stop()}}),e)}))),9e5)}(i=mt.getState().system.__timer__),e.abrupt("return",{chainId:t,env:n,baseURL:r,faitPrices:a,gasPrice:c,forex:o,__timer__:i});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Be(e){var t,n,a,c,r,o,i,s,l;return I.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,u.prev=1,n=t.chainId,console.log("getUpdateSystem payload:",t),u.next=6,Object(P.b)(Ue,n);case 6:return a=u.sent,c=a.env,r=a.baseURL,o=a.faitPrices,i=a.gasPrice,s=a.forex,l=a.__timer__,u.next=15,Object(P.d)(Object(Pe.a)({env:c,baseURL:r,faitPrices:o,gasPrice:i,forex:s,__timer__:l}));case 15:return u.next=17,Object(P.b)(Le);case 17:u.next=23;break;case 19:return u.prev=19,u.t0=u.catch(1),u.next=23,Object(P.d)(Object(Pe.a)(u.t0));case 23:case"end":return u.stop()}}),Re,null,[[1,19]])}function Fe(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(Pe.d,Be)]);case 2:case"end":return e.stop()}}),Me)}var Ke=[Object(P.c)(Fe)],He=n(247),Ve=I.a.mark(Ge),We=I.a.mark(qe),Ye=function(){var e=Object(N.a)(I.a.mark((function e(){var t,n,a,c,r,o,i,s,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(H.b)(),n=mt.getState().account,a=n.accAddr,n.accountId,c=mt.getState().tokenMap,r=c.tokenMap,o=c.marketCoins,e.next=5,t.getTokenBalances({owner:a,token:o.join()},r);case 5:return i=e.sent,(s=i.tokenBalances)&&(l=Reflect.ownKeys(s).reduce((function(e,t){return Object(h.a)(Object(h.a)({},e),{},Object(pe.a)({},t,{belong:t,count:Object(me.a)(r,t,s[t])}))}),{})),e.abrupt("return",{walletLayer1:l});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ge(){var e,t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(P.b)(Ye);case 3:return e=n.sent,t=e.walletLayer1,n.next=7,Object(P.d)(Object(He.a)({walletLayer1:t}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(P.d)(Object(He.a)(n.t0));case 13:case"end":return n.stop()}}),Ve,null,[[0,9]])}function qe(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(He.c,Ge)]);case 2:case"end":return e.stop()}}),We)}var ze=[Object(P.c)(qe)],Je=n(248),Xe=I.a.mark($e),Qe=I.a.mark(et),Ze=function(){var e=Object(N.a)(I.a.mark((function e(){var t,n,a,c,r,o,i,s,l,u,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(H.c)(),n=mt.getState().account,a=n.accountId,c=n.apiKey,r=mt.getState().tokenMap,o=r.tokenMap,i=r.idIndex,s=r.marketCoins,!c||!a){e.next=9;break}return e.next=6,t.getUserBalances({accountId:a,tokens:null===s||void 0===s?void 0:s.map((function(e){if(o)return o[e].tokenId})).join(",")},c);case 6:u=e.sent,(d=u.userBalances)&&(l=Reflect.ownKeys(d).reduce((function(e,t){return Object(h.a)(Object(h.a)({},e),{},Object(pe.a)({},i[t],d[Number(t)]))}),{}));case 9:return e.abrupt("return",{walletLayer2:l});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function $e(){var e,t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(P.b)(Ze);case 3:return e=n.sent,t=e.walletLayer2,n.next=7,Object(P.d)(Object(Je.a)({walletLayer2:t}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(P.d)(Object(Je.a)(n.t0));case 13:case"end":return n.stop()}}),Xe,null,[[0,9]])}function et(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.f)(Je.c,$e)]);case 2:case"end":return e.stop()}}),Qe)}var tt=[Object(P.c)(et)],nt=I.a.mark(at);function at(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([].concat(Object(a.a)(xe),Object(a.a)(ze),Object(a.a)(tt),Object(a.a)(Ke),Object(a.a)(de),Object(a.a)(Ne)));case 2:case"end":return e.stop()}}),nt)}var ct=at,rt=n(377),ot=n(533),it=n(301),st=n(220),lt=Object(r.c)({name:"socket",initialState:{socket:{},status:"UNSET",errorMessage:null},reducers:{socketStart:function(e,t){e.status=v.a.PENDING,e.socket=t.payload.socket},getSystemStatus:function(e,t){t.error&&(e.status=v.a.ERROR,e.errorMessage=t.error),e.status=v.a.DONE},statusUnset:function(e){e.status=v.a.UNSET}}}),ut=lt.actions;ut.socketStart,ut.getSocketStatus,ut.statusUnset;var dt=Object(i.a)(),bt=Object(c.b)({account:u.a.reducer,socket:lt.reducer,settings:O.Z.reducer,system:ot.a.reducer,trading:d.a.reducer,transactions:j.reducer,modals:O.T.reducer,amm:ue,tokenMap:be.b.reducer,walletLayer2:st.d.reducer,walletLayer1:it.c.reducer,tickerMap:rt.a.reducer}),pt=["settings"],ft=Object(r.a)({reducer:bt,middleware:[].concat(Object(a.a)(Object(r.d)({thunk:!1,serializableCheck:!1})),[Object(o.save)({states:pt}),dt]),devTools:!1,enhancers:[s.reduxBatch],preloadedState:Object(o.load)({states:pt})});ft.dispatch(l()),ft.dispatch(Object(O.U)(ft.getState().settings.language)),dt.run(ct,ft.dispatch);var mt=t.a=ft},977:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(5),c=n.n(a),r=n(24),o=n(6),i=n(1),s=n.n(i),l=n(978),u=n.n(l),d=n(87),b=n(533),p=n(23),f=n(136),m=n(144);function j(){var e=s.a.useState("PENDING"),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(b.b)(),l=Object(m.c)(),j=Object(f.d)();return Object(d.a)(Object(r.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){console.log("handleChainChanged chainId: ",e),i.updateSystem({chainId:e}),window.location.reload()},e.next=3,u()();case 3:if(!(n=e.sent)){e.next=14;break}return e.t0=Number,e.next=8,n.request({method:"eth_chainId"});case 8:e.t1=e.sent,a=(0,e.t0)(e.t1),n.on("chainChanged",(function(){t(a)})),i.updateSystem({chainId:a}),e.next=16;break;case 14:i.updateSystem({chainId:p.b.MAINNET}),console.log("web3 is not found");case 16:case"end":return e.stop()}}),e)}))),[]),s.a.useEffect((function(){switch(i.status){case"ERROR":i.statusUnset(),a("ERROR");break;case"DONE":i.statusUnset()}}),[i.status,i.statusUnset]),s.a.useEffect((function(){"ERROR"===j.status||"ERROR"===l.status?(j.statusUnset(),l.statusUnset(),a("ERROR")):"DONE"===j.status&&"DONE"===l.status&&(j.statusUnset(),l.statusUnset(),a("DONE"))}),[j.status,l.status,l.statusUnset,j.statusUnset]),{state:n}}},979:function(e,t,n){"use strict";var a,c,r,o,i=n(133),s=n(95),l=n(2),u=n(6),d=n(1),b=n.n(d),p=n(26),f=n(32),m=n(1998),j=n(1993),O=n(1891),h=n(5),v=n.n(h),g=n(24),x=n(920),A=n(113),y=n(441),T=n(40),C=n(87);!function(e){e.dark="dark",e.light="light"}(a||(a={})),function(e){e.en="en_US",e.cn="zh_CN"}(c||(c={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ERROR=1]="ERROR",e[e.UNKNOWN=2]="UNKNOWN"}(r||(r={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.WALLET=2]="WALLET"}(o||(o={}));var k=n(96),E=n(23),w=n(100),_=n(157),S=n(46);function I(){var e=Object(S.b)(),t=Object(x.a)("common").t;return{ShowDeposit:Object(d.useCallback)((function(n){var a=k.a.getState().account.status===T.b.NOACCOUNT;console.log("isNoAccount: ",a,t("depositTitleAndActive"));var c={isShow:n,props:{title:t(a?"depositTitleAndActive":"depositTitle"),description:"depositAndActiveDescription"}};e(Object(p.V)(c))}),[e,t]),ShowTransfer:Object(d.useCallback)((function(t){return e(Object(p.X)({isShow:t}))}),[e]),ShowWithdraw:Object(d.useCallback)((function(t){return e(Object(p.Y)({isShow:t}))}),[e]),ShowResetAccount:Object(d.useCallback)((function(t){return e(Object(p.W)({isShow:t}))}),[e])}}var N=n(335),P=n.n(N),D=n(76),R=n(156),M=n(41);function L(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"PromiseJob",c=!0,r=function(){e()&&e().then((function(e){c?t(n?e[n]:e):console.log(a+" unmounted!")})).catch((function(e){console.error(e)}))},o=function(){c=!1};return{handler:r,cleanUp:o}}function U(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=L(e,t,n,a),o=r.handler,i=r.cleanUp;Object(d.useEffect)((function(){return o(),function(){return i()}}),Object(M.a)(c))}function B(){var e=Object(d.useState)(),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(D.b)();return U((function(){if(c)return c.getExchangeInfo()}),a,"exchangeInfo","useGetExchangeInfo",[c]),{exchangeInfo:n}}function F(){var e=Object(d.useState)(),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(D.b)();return U((function(){if(c)return c.getTokens()}),a,void 0,"useGetTokens",[c]),{tokens:n}}function K(e){var t=Object(D.c)(),n=Object(d.useState)(void 0),a=Object(u.a)(n,2),c=a[0],r=a[1],o=Object(A.a)(),i=o.apiKey,s=o.accountId;return Object(C.a)((function(){if(t&&i&&s&&e){var n=[],a=Reflect.ownKeys(e),c={};a.forEach((function(t){var a=e[t];n.push(a.tokenId),c[a.tokenId]=a})),t.getUserBalances({accountId:s,tokens:n.join(",")},i).then((function(e){var t={map:c,tokenId:{},symbol:{}};e.raw_data.forEach((function(e){var n=E.x(e.total),a=E.x(e.locked),r=n.minus(a);console.log("item:",e);var o=c[e.tokenId];t.tokenId[e.tokenId]=r.toString(),t.symbol[o.symbol]=r.toString()})),r(t)})).catch((function(t){Object(E.q)(t,"getUserBalances tokenId:"+e.tokenId)}))}}),[t,i,s,e]),{balances:c,setBalances:r}}var H=n(0);function V(e,t){var n=Object(D.c)(),a=Object(A.a)(),c=a.accountId,r=a.apiKey,o=Object(d.useState)([]),i=Object(u.a)(o,2),s=i[0],l=i[1];return Object(C.a)(Object(g.a)(v.a.mark((function a(){var o,i,s;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("!!!!!!!!!useCustomDCEffect useChargeFeeList:",e,c),c&&e){a.next=3;break}return a.abrupt("return");case 3:return o=[],a.prev=4,i={accountId:c,tokenSymbol:e,requestType:t},a.next=8,n.getOffchainFeeAmt(i,r);case 8:(s=a.sent)&&(s.raw_data.fees.forEach((function(e,t){o.push({belong:e.token,fee:e.fee})})),l(o)),console.log("response:",s),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),Object(E.q)(a.t0);case 16:l(o);case 17:case"end":return a.stop()}}),a,null,[[4,13]])}))),[c,r,e]),{chargeFeeList:s}}function W(){var e=I(),t=e.ShowDeposit,n=e.ShowTransfer,a=e.ShowWithdraw,c=e.ShowResetAccount,r=Object(A.f)(),o=r.chainId,i=r.isConnected,s=r.connector,l=B().exchangeInfo,b=Object(A.a)(),m=b.account,j=b.apiKey,O=b.accountId,h=b.eddsaKey,x=F().tokens,y=null===x||void 0===x?void 0:x.tokenSymbolMap,T=Object(D.c)(),k=Object(D.b)(),w=function(e,t){var n=Object(d.useState)({}),a=Object(u.a)(n,2),c=a[0],r=a[1];return Object(C.a)(Object(g.a)(v.a.mark((function n(){var a,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t){n.next=2;break}return n.abrupt("return");case 2:a=Reflect.ownKeys(t),c={},a.forEach((function(e){e.startsWith("LP-")||(c[e]={icon:Object(R.b)(e,t),name:e,simpleName:e,description:"",company:""})})),r(c);case 6:case"end":return n.stop()}}),n)}))),[e,t]),{coinMap:c}}(k,y).coinMap,_=function(e,t,n){var a=Object(d.useState)({}),c=Object(u.a)(a,2),r=c[0],o=c[1];return Object(C.a)(Object(g.a)(v.a.mark((function a(){var c,r,i;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t&&t.accAddr&&n){a.next=2;break}return a.abrupt("return");case 2:return c={},a.next=5,e.getTokenBalances({owner:t.accAddr,token:""},n);case 5:r=a.sent,i=r.tokenBalances,Reflect.ownKeys(i).forEach((function(e){var t=i[e];c[e]={belong:e,count:Object(R.a)(n,e,t)}})),o(c);case 10:case"end":return a.stop()}}),a)}))),[e,t,n]),{walletMap:r}}(k,m,y).walletMap,S=function(e){var t=K(e).balances,n=Object(d.useState)({}),a=Object(u.a)(n,2),c=a[0],r=a[1];return Object(C.a)((function(){var n={};t&&t.symbol&&Reflect.ownKeys(t.symbol).forEach((function(a){var c=t.symbol[a];n[a]={belong:a,count:Object(R.a)(e,a,c)}})),console.log("lv2:",n),r(n)}),[t,e]),{walletMap:c}}(y).walletMap,N=Object(d.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t,n){var a,c,r,u,d,b,p,f,j;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y&&i&&s&&(null===l||void 0===l?void 0:l.exchangeAddress)&&(null===l||void 0===l?void 0:l.depositAddress)){e.next=3;break}return console.log("exchangeInfo:".concat(l," deposit exit!!!!!")),e.abrupt("return");case 3:return e.prev=3,a=y[t],e.next=7,s.getProvider();case 7:return c=e.sent,r=new P.a(c),u=m.connectName===E.c.Injected,u=!0,e.next=13,k.getGasPrice();case 13:return e.t0=e.sent.gasPrice,d=e.t0/1e9,b=35e4,e.next=18,E.v(r,m.accAddr);case 18:return p=e.sent,console.log("gasPrice:",d),console.log("account.connectName:",m.connectName," tokenInfo:",a),e.next=23,E.o(r,m.accAddr,a.address,null===l||void 0===l?void 0:l.depositAddress,d,b,o,p,u);case 23:return f=e.sent,console.log("response:",f),0,e.next=28,E.p(r,m.accAddr,null===l||void 0===l?void 0:l.exchangeAddress,a,n,0,d,b,o,p+1,u);case 28:j=e.sent,console.log("response2:",j),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(3),Object(E.q)(e.t1);case 35:case"end":return e.stop()}}),e,null,[[3,32]])})));return function(t,n){return e.apply(this,arguments)}}(),[o,i,s,m,l,y,k]),M=Object(d.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t,n){var a,c,r,i,u,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("withdraw apiKey:",j," exchangeInfo:",l," exchangeAddr:",l.exchangeAddress),m&&m.accountId&&m.accAddr&&s&&o&&j&&l&&l.exchangeAddress){e.next=4;break}return console.log("return directly!!!!!",m,s,o,j,l),e.abrupt("return");case 4:return"5500000000000000000","5500000000000000000",console.log("exchangeAddress:",l.exchangeAddress),e.prev=7,a={accountId:m.accountId,sellTokenId:1},e.next=11,T.getNextStorageId(a,j);case 11:return c=e.sent,r={exchange:l.exchangeAddress,owner:m.accAddr,to:m.accAddr,accountId:m.accountId,storageId:c.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},extraData:"",minGas:0,validUntil:E.m},e.next=15,s.getProvider();case 15:return i=e.sent,u=new P.a(i),e.next=19,T.submitOffchainWithdraw(r,u,o,E.c.Injected,m.eddsaKey,j,!1);case 19:d=e.sent,console.log(d),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),Object(E.q)(e.t0);case 26:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t,n){return e.apply(this,arguments)}}(),[j,m,s,l,o,T]),L=Object(d.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,c,r,i,u,d,b,p,f,g=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>1&&void 0!==g[1]?g[1]:"0xb6AdaC3e924B4985Ad74646FEa3610f14cDFB79c",s&&j&&o&&O&&(null===m||void 0===m?void 0:m.accAddr)){e.next=3;break}return e.abrupt("return");case 3:return a={accountId:O,sellTokenId:1},e.next=6,T.getNextStorageId(a,j);case 6:return c=e.sent,console.log("amt: ".concat(t," storageId:").concat(JSON.stringify(c))),e.prev=8,e.next=11,s.getProvider();case 11:return r=e.sent,i=new P.a(r),u=m.connectName,u=E.c.Injected,e.next=17,k.getAccount({owner:n});case 17:return d=e.sent,b=0,d&&(b=d.accInfo.accountId),p={exchange:l.exchangeAddress,payerAddr:m.accAddr,payerId:O,payeeAddr:n,payeeId:b,storageId:c.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},validUntil:E.m},console.log("request2:".concat(JSON.stringify(p))),e.next=24,T.submitInternalTransfer(p,i,o,u,h,j,!1);case 24:f=e.sent,console.log(f),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),Object(E.q)(e.t0);case 31:case"end":return e.stop()}}),e,null,[[8,28]])})));return function(t){return e.apply(this,arguments)}}(),[j,O,m,s,l,o,h,T,k]),U=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),H=Object(u.a)(U,2),W=H[0],Y=H[1],G={tradeData:{belong:void 0},coinMap:w,walletMap:_,depositBtnStatus:p.J.AVAILABLE,onDepositClick:function(e){console.log("1. onDepositClick",W),W&&W.belong&&N(W.belong.toString(),W.tradeValue),t(!1)},handlePanelEvent:function(){var e=Object(g.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(W!==t.tradeData&&Y(t.tradeData),ee(t.tradeData.belong)):Y({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},q=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),z=Object(u.a)(q,2),J=z[0],X=z[1],Q=Object(d.useState)(""),Z=Object(u.a)(Q,2),$=Z[0],ee=Z[1],te=V($,E.h.OFFCHAIN_WITHDRAWAL).chargeFeeList,ne={tradeData:{belong:void 0},coinMap:w,walletMap:S,withdrawBtnStatus:p.J.AVAILABLE,onWithdrawClick:function(e){console.log("Swap button click",J),J&&J.belong&&M(J.belong.toString(),J.tradeValue),a(!1)},handlePanelEvent:function(){var e=Object(g.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(J!==t.tradeData&&X(t.tradeData),ee(t.tradeData.belong)):X({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),withdrawType:f.n.Fast,withdrawTypes:f.o,chargeFeeToken:"ETH",chargeFeeTokenList:te,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},ae=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),ce=Object(u.a)(ae,2),re=ce[0],oe=ce[1],ie=Object(d.useState)(""),se=Object(u.a)(ie,2),le=se[0],ue=se[1],de=V(le,E.h.TRANSFER).chargeFeeList,be={tradeData:{belong:void 0},coinMap:w,walletMap:S,transferBtnStatus:p.J.AVAILABLE,onTransferClick:function(e){console.log("onTransferClick:",re),re&&re.belong&&L(re.tradeValue),n(!1)},handlePanelEvent:function(){var e=Object(g.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(re!==t.tradeData&&oe(t.tradeData),ue(t.tradeData.belong)):oe({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),chargeFeeToken:"ETH",chargeFeeTokenList:de,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},pe=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),fe=Object(u.a)(pe,2),me=fe[0],je=fe[1];return{depositProps:G,withdrawProps:ne,transferProps:be,resetProps:{tradeData:{belong:void 0},coinMap:w,walletMap:S,resetBtnStatus:p.J.AVAILABLE,onResetClick:function(e){console.log("onResetClick",me),me&&me.belong,c(!1)},handlePanelEvent:function(){var e=Object(g.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?me!==t.tradeData&&je(t.tradeData):je({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fee:{count:234,price:123}},ammProps:{ammDepositData:{coinA:{belong:"ETH",balance:.3,tradeValue:0},coinB:{belong:"LRC",balance:1e3,tradeValue:0},slippage:""},ammWithdrawData:{coinA:{belong:"ETH",balance:.3,tradeValue:0},coinB:{belong:"LRC",balance:1e3,tradeValue:0},slippage:""},ammCalcData:{myCoinA:{belong:"ETH",balance:1e3,tradeValue:0},myCoinB:{belong:"LRC",balance:1e3,tradeValue:0},AtoB:50,coinInfoMap:w,slippage:.5,slippageTolerance:[.1,.5,1,"slippage:N"],fee:"1%"},handleDepositEvent:function(e,t){console.log("handleDepositEvent",e,t)},handleWithDrawEvent:function(e,t){console.log("handleWithDrawEvent",e,t)},onAmmWithdrawClick:function(e){console.log("onAmmWithdrawClick",e)},onAmmDepositClick:function(e){console.log("onAmmDepositClick",e)}},swapProps:{tradeData:void 0,tradeCalcData:{coinSell:"ETH",coinBuy:"LRC",BtoS:0,StoB:0,sellCoinInfoMap:w,buyCoinInfoMap:w,walletMap:{},slippage:.5,slippageTolerance:[.1,.5,1,"slippage:N"],priceImpact:"12",minimumReceived:"1%",fee:"1%"},onSwapClick:function(e){console.log("Swap button click",e)},handleSwapPanelEvent:function(){var e=Object(g.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}}function Y(e){if(!e||!(e instanceof Object)||"function"==typeof e)return e||void 0;var t=new(0,e.constructor);for(var n in e)e.hasOwnProperty(n)&&(t[n]=Y(e[n]));return t}var G=n(34),q=n(1875),z=n(1886),J=n(454),X=["onClose","open","t"],Q=Object(q.a)("common")((function(e){var t=e.onClose,n=e.open,a=e.t,c=Object(G.a)(e,X);return Object(H.jsx)(z.a,{open:n,onClose:t,"aria-labelledby":"Account information","aria-describedby":"show layer2 address, unlock/locked loopring wallet, copy address",children:Object(H.jsx)(p.s,{style:{boxShadow:"24"},children:Object(H.jsxs)(J.a,{paddingTop:3,paddingBottom:3,display:"flex",flexDirection:"column",minWidth:"var(--modal-width)",children:[Object(H.jsx)(p.r,Object(l.a)({onClose:t},Object(l.a)(Object(l.a)({},c),{},{t:a}))),Object(H.jsx)(p.a,Object(l.a)({},c))]})})})})),Z=function(e){var t=Object.assign({},e),n=W(),c=n.depositProps,r=n.withdrawProps,o=n.transferProps,i=n.resetProps,h=n.ammProps,N=n.swapProps,P=Object(s.g)(),D=function(){var e=Object(x.a)(["common","layout"]),t=e.i18n,n=e.t,c=Object(p.cb)(),r=c.setTheme,o=c.themeMode,i=c.language,s=c.setLanguage,d=I().ShowDeposit,m=Object(p.bb)(),j=m.modals,O=j.isShowAccountInfo,h=j.isShowConnect,N=m.setShowConnect,P=m.setShowAccountInfo,D=b.a.useState(!1),R=Object(u.a)(D,2),M=(R[0],R[1],b.a.useReducer((function(e){return!e}),!1)[1]),L=Object(A.a)().account,U=Object(A.e)(),B=U.lock,F=U.unlock,K=Object(A.c)().connect,V=Object(_.c)().etherscanUrl,W=(Object(S.b)(),[Object(l.a)(Object(l.a)({},f.p[0]),{},{handleSelect:function(){console.log("try to connect to ",E.c.Injected),K(E.c.Injected,!0),N({isShow:!1})}})]),Y=b.a.useState(void 0),G=Object(u.a)(Y,2),q=G[0],z=G[1],J=b.a.useCallback(Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onNotification click");case 1:case"end":return e.stop()}}),e)}))),[]),X=b.a.useCallback(Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.a.getState().account,console.log("onWalletBtnConnect click: ".concat(t.status)),e.t0=t.status,e.next=e.t0===T.b.NOACCOUNT?5:e.t0===T.b.UNCONNNECTED?7:e.t0===T.b.CONNECTED||e.t0===T.b.LOCKED||e.t0===T.b.ACTIVATED?9:11;break;case 5:return d(!0),e.abrupt("break",12);case 7:return N({isShow:!0}),e.abrupt("break",12);case 9:return P({isShow:!0}),e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)}))),[N,B,F,d]),Q=b.a.useCallback(function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===a.dark?r(a.light):r(a.dark);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r]),Z=function(e){s(e)};Object(C.a)((function(){f.t[f.a.WalletConnect]=Object(l.a)(Object(l.a)({},f.t[f.a.WalletConnect]),{},{handleClick:X}),f.t[f.a.Theme]=Object(l.a)(Object(l.a)({},f.t[f.a.Theme]),{},{themeMode:o,handleClick:Q}),f.t[f.a.Language]=Object(l.a)(Object(l.a)({},f.t[f.a.Language]),{},{handleChange:Z})}),[o,i,t,X,Q,Z,J,n]);var $=function(e){return e.onClick,Object(H.jsx)(p.i,{className:"unlock",startIcon:Object(H.jsx)(f.i,{fontSize:"large"}),onClick:function(e){F(L)},variant:"outlined",children:Object(H.jsxs)(w.a,{variant:"body2",marginTop:.5,children:["   ",n("labelUnLock")," "]})})},ee=function(e){return e.onClick,Object(H.jsx)(p.i,{className:"lock",startIcon:Object(H.jsx)(f.k,{fontSize:"large"}),onClick:function(e){B(L)},variant:"outlined",children:Object(H.jsxs)(w.a,{variant:"body2",marginTop:.5,children:["  ",n("labelLock")," "]})})};return Object(C.a)((function(){if(!L)return console.log("account"+L+"* exit"),void z(void 0);var e=L.status,t=Object(y.b)(null===L||void 0===L?void 0:L.accAddr),n=function(e){var n,a=e.status;f.r[f.g.Layer2]=Object(l.a)(Object(l.a)({},f.r[f.g.Layer2]),{},{status:f.h.default}),a===T.b.ACTIVATED?(n={addressShort:t||"",address:null===L||void 0===L?void 0:L.accAddr,level:"VIP 1",etherscanLink:V+(null===L||void 0===L?void 0:L.accAddr),mainBtn:Object(H.jsx)(ee,{onClick:function(e){console.log(e)}}),connectBy:""},P({isShow:!1})):a===T.b.LOCKED?(n={addressShort:t||"",address:null===L||void 0===L?void 0:L.accAddr,level:"VIP 1",etherscanLink:V+(null===L||void 0===L?void 0:L.accAddr),mainBtn:Object(H.jsx)($,{onClick:function(e){console.log(e)}}),connectBy:""},P({isShow:!0})):a===T.b.UNACTIVATED||a===T.b.NOACCOUNT||a===T.b.DEPOSITING||a===T.b.DEPOSIT_TO_CONFIREM||a===T.b.ARPROVING||a===T.b.APPROV_TO_CONFIRM?(n={addressShort:t||"",address:null===L||void 0===L?void 0:L.accAddr,level:"VIP 1",etherscanLink:V+(null===L||void 0===L?void 0:L.accAddr),connectBy:""},P({isShow:!1})):P({isShow:!1}),z(n)};switch(e){case T.b.UNCONNNECTED:f.t[f.a.WalletConnect]=Object(l.a)(Object(l.a)({},f.t[f.a.WalletConnect]),{},{label:"Connect Wallet",status:f.m.default}),f.r[f.g.Layer2]=Object(l.a)(Object(l.a)({},f.r[f.g.Layer2]),{},{status:f.h.hidden}),P({isShow:!1});break;case T.b.LOCKED:f.t[f.a.WalletConnect]=Object(l.a)(Object(l.a)({},f.t[f.a.WalletConnect]),{},{label:t,status:f.m.connect}),n({status:e});break;case T.b.ACTIVATED:f.t[f.a.WalletConnect]=Object(l.a)(Object(l.a)({},f.t[f.a.WalletConnect]),{},{label:t,status:f.m.unlock}),n({status:e});break;case T.b.UNACTIVATED:case T.b.NOACCOUNT:f.t[f.a.WalletConnect]=Object(l.a)(Object(l.a)({},f.t[f.a.WalletConnect]),{},{label:t,status:f.m.noAccount}),n({status:e});break;case T.b.DEPOSITING:case T.b.DEPOSIT_TO_CONFIREM:case T.b.ARPROVING:case T.b.APPROV_TO_CONFIRM:f.t[f.a.WalletConnect]=Object(l.a)(Object(l.a)({},f.t[f.a.WalletConnect]),{},{label:t,status:f.m.accountPending}),n({status:e})}M()}),[L,V,z]),{headerToolBarData:f.t,headerMenuData:f.r,gatewayList:W,isShowConnect:h,isShowAccountInfo:O,setShowAccountInfo:P,setShowConnect:N,account:L,accountInfoProps:q}}(),R=D.headerToolBarData,M=D.headerMenuData,L=D.gatewayList,U=D.isShowConnect,F=D.isShowAccountInfo,K=D.setShowAccountInfo,V=D.setShowConnect,Y=D.account,G=D.accountInfoProps,q=(B().exchangeInfo,Object(A.d)().disconnect),z=Object(d.useCallback)((function(){K({isShow:!1}),V({isShow:!0})}),[V,K]),J=Object(d.useState)(!1),X=Object(u.a)(J,2),Z=X[0],$=X[1],ee=Object(d.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(x.a)("commom").t,re=function(){ae(!1)};return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(m.a,{open:ne,autoHideDuration:2500,onClose:re,children:Object(H.jsx)(j.a,{onClose:re,severity:"success",children:ce("Address Copied to Clipboard!")})}),Object(H.jsx)(p.u,{open:Z,onClose:function(){return $(!1)},title:"ETH Address",description:Y.accAddr,url:Y.accAddr}),Object(H.jsx)(p.t,{transferProps:o,withDrawProps:r,depositProps:c,resetProps:i,ammProps:h,swapProps:N}),Object(H.jsxs)(p.o,{children:[!1,!1,Object(H.jsx)(p.n,Object(l.a)(Object(l.a)({},t),{},{headerMenuData:M,headerToolBarData:R,selected:"/"===P.pathname?f.s:P.pathname}))]}),Object(H.jsx)(O.a,{}),Object(H.jsx)(p.v,Object(l.a)({},Object(l.a)(Object(l.a)({},t),{},{gatewayList:L,open:U.isShow,onClose:function(){return V({isShow:!1})}}))),Object(H.jsx)(Q,Object(l.a)({open:F.isShow,onClose:function(){K({isShow:!1})},onCopy:function(){!function(e){if(document.execCommand){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("Copy"),document.body.removeChild(t)}!!window.clipboardData&&window.clipboardData.setData("Text",e)}(Y.accAddr),ae(!0)},onViewQRCode:function(){$(!0)},onDisconnect:function(){q(),K({isShow:!1})},onSwitch:z},Object(l.a)(Object(l.a)({},G),t)))]})},$=n(294),ee=n(300),te=n(994);var ne=Object($.a)(te.a,{target:"e19jzbou1"})("& .MuiGrid-root:not(:last-of-type)>div{margin-right:",(function(e){return 3*e.theme.unit}),"px;}"),ae=Object($.a)(te.a,{target:"e19jzbou0"})("&{background-color:",(function(e){return e.theme.colorBase.background().default}),";",(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})}),";.rdg{height:100%;}}",(function(e){var t=e.theme;return Object(p.G)({pLeft:3*t.unit,pRight:3*t.unit})}),";"),ce=Object(q.a)("common")((function(e){var t=function(){var e=Object(d.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(d.useState)([]),r=Object(u.a)(c,2),o=r[0],i=r[1],s=Object(D.b)();return Object(C.a)(Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return t=!0,n=function(){var e=Object(g.a)(v.a.mark((function e(){var n,c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getAllTickers();case 2:n=e.sent,c=n.tickList,r=[],c.forEach((function(e){e.base,e.quote,Object(E.x)(e.quote_token_volume).div(e.base_token_volume).toNumber(),null===e||void 0===e||e.change,e.high,e.low,Object(E.x)(e.base_token_volume).toNumber();var t=[[e.base,e.quote],[e.close,e.close],e.change,e.high,e.low,e.base_token_volume,e.base_token_volume,e.base,e.quote];r.push(t)})),r=r.sort((function(e,t){var n=0;return isNaN(t[5])||isNaN(e[5])||(n=t[5]-e[5]),n})),t&&(i(r.slice(0,4)),a(r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,n();case 6:return e.abrupt("return",(function(){t=!1}));case 7:case"end":return e.stop()}}),e)}))),[s]),{tickList:n,big4:o}}(),n=t.tickList,a=(t.big4,n.map((function(e){return{pair:e[0].length?{first:e[0][0],last:e[0][1]}:{first:"--",last:"--"},lastPrice:Number.isFinite(e[2])?e[2]:"--",change:Number.isFinite(e[3])?e[3]:"--",high:Number.isFinite(e[4])?e[4]:"--",low:Number.isFinite(e[5])?e[5]:"--",volumn:Number.isFinite(e[6])?e[6]:"--"}}))),c=Object(l.a)(Object(l.a)({},e),{},{buyData:ee.a.ETH,sellData:ee.a.LRC,tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"+15%",timeUnit:"24h",volume:112312312,floatTag:f.f.increase}});return Object(H.jsxs)(J.a,{display:"flex",flexDirection:"column",flex:1,children:[Object(H.jsxs)(ne,{container:!0,children:[Object(H.jsx)(te.a,{item:!0,xs:3,children:Object(H.jsx)(p.p,Object(l.a)({},Object(l.a)(Object(l.a)({},c),{},{tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"0%",timeUnit:"24h",floatTag:f.f.none}})))}),Object(H.jsx)(te.a,{item:!0,xs:3,children:Object(H.jsx)(p.p,Object(l.a)({},Object(l.a)(Object(l.a)({},c),{},{tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"-15%",timeUnit:"24h",floatTag:f.f.decrease}})))}),Object(H.jsx)(te.a,{item:!0,xs:3,children:Object(H.jsx)(p.p,Object(l.a)({},Object(l.a)({},c)))}),Object(H.jsx)(te.a,{item:!0,xs:3,children:Object(H.jsx)(p.p,Object(l.a)({},Object(l.a)({},c)))})]}),Object(H.jsx)(ae,{container:!0,marginY:3,paddingY:2,flex:1,children:Object(H.jsx)(te.a,{item:!0,xs:12,display:"flex",children:Object(H.jsx)(p.A,Object(l.a)({onVisibleRowsChange:function(e){console.log(e)},rawData:a},Object(l.a)({},e)))})})]})})),re=n(10),oe=n(12),ie=n(503),se=[{value:p.j.Trend,key:p.j.Trend,label:"label"+p.j.Trend},{value:p.j.Depth,key:p.j.Depth,label:"label"+p.j.Depth}];var le,ue,de,be,pe=["props","coinAInfo","coinBInfo","tradeFloat","marketArray","t"],fe=function(e){e.props;var t=e.coinAInfo,n=e.coinBInfo,a=e.tradeFloat,c=e.marketArray,r=e.t,o=Object(G.a)(e,pe),i=function(e,t,n,a,c){var r=se.map((function(e){var t=e.value,n=e.label,a=e.key;return{value:t,tlabel:c(n),key:a,JSX:Object(H.jsx)(H.Fragment,{children:c(n)})}})),o=Object(E.u)(a,null===t||void 0===t?void 0:t.name,null===n||void 0===n?void 0:n.name),i=o.market,s=o.amm,l=Object(d.useState)(p.j.Trend),b=Object(u.a)(l,2),f=b[0],m=b[1];console.log("---useBasicInfo market:",i," amm:",s," chartType:",f);var j=Object(d.useState)(oe.e.D1),O=Object(u.a)(j,2),h=O[0],x=(O[1],Object(d.useState)(void 0)),A=Object(u.a)(x,2),y=A[0],T=A[1],k=Object(d.useCallback)((function(e,t){console.log("useBasicInfo handleChange:",t),T(void 0),m(t)}),[T,m]),w=Object(D.b)(),_=Object.keys(oe.e).reduce((function(e,t){var n={value:oe.e[t],key:oe.e[t],label:"label"+oe.e[t]};return e.push({value:n.value,tlabel:c(n.label?n.label:n.key),key:n.key,JSX:Object(H.jsx)(H.Fragment,{children:c(n.label?n.label:n.key)})}),e}),[]);return Object(C.a)(Object(g.a)(v.a.mark((function e(){var t,n,a,c,r,o,l,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,w&&i&&s){e.next=3;break}return e.abrupt("return");case 3:if(f!==p.j.Trend){e.next=17;break}return n={market:s,interval:E.j.min15,limit:96},e.prev=5,e.next=8,w.getCandlestick(n);case 8:a=e.sent,t&&(c=a.candlesticks.map((function(e){return{timeStamp:e.timestamp,low:e.low,high:e.high,open:e.open,close:e.close,volume:e.quoteVol}})),console.log("useBasicInfo amm: ".concat(s," candlesticks originData: "),c),T(c)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),Object(E.q)(e.t0,"ChartPanel getCandlestick");case 15:e.next=30;break;case 17:return r={market:[i]},e.prev=18,e.next=21,w.getDepth(r);case 21:o=e.sent,l=o.depth,console.log("useBasicInfo depth:",l),t&&(u={bidsPrices:l.bids_prices,bidsAmtTotals:l.bids_amtTotals,asksPrices:l.asks_prices,asksAmtTotals:l.asks_amtTotals},T(u)),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(18),Object(E.q)(e.t1);case 30:return e.abrupt("return",(function(){t=!1}));case 31:case"end":return e.stop()}}),e,null,[[5,12],[18,27]])}))),[w,s,i,f]),{chartUnit:h,chartType:f,tgItemJSXs:r,tgItemJSXsPriceChart:_,handleChange:k,originData:y}}(0,t,n,c,r),s=i.chartType,b=i.tgItemJSXs,f=i.tgItemJSXsPriceChart,m=i.handleChange,j=Object(p.cb)().upColor;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(te.a,{item:!0,xs:8,children:Object(H.jsx)(ie.d,Object(l.a)({},Object(l.a)(Object(l.a)({coinAInfo:t,coinBInfo:n},o),{},{t:r,tradeFloat:a})))}),Object(H.jsx)(te.a,{item:!0,xs:4,display:"flex",justifyContent:"flex-end",alignItems:"flex-end",children:Object(H.jsx)(p.I,Object(l.a)(Object(l.a)({exclusive:!0},Object(l.a)(Object(l.a)({},o),{},{t:r,tgItemJSXs:b,value:s})),{},{handleChange:m}))}),Object(H.jsx)(te.a,{item:!0,xs:12,children:Object(H.jsx)(J.a,{minHeight:256,maxHeight:256,display:"block",style:{height:"100%",width:"100%"},children:Object(H.jsx)(p.C,{type:s,data:null!==c&&void 0!==c?c:[],riseColor:j,handleMove:function(){}})})}),Object(H.jsx)(te.a,{item:!0,xs:12,height:24,display:"flex",justifyContent:"flex-end",children:Object(H.jsx)(p.I,Object(l.a)(Object(l.a)({exclusive:!0},Object(l.a)(Object(l.a)({},o),{},{t:r,tgItemJSXs:f,value:oe.e.D1,size:"small"})),{},{handleChange:function(){}}))})]})},me=n(1991),je=n(2018),Oe=n(1997),he=n(17),ve=Object(he.a)(J.a)(le||(le=Object(re.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .tableWrapper {\n    margin-top: ","px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 1.5*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),ge=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},xe=he.a.div(ue||(ue=Object(re.a)(["\n          position: relative;\n          width: 100%;\n          margin-top: ","px;\n        "])),(function(e){return 4*e.theme.unit})),Ae=Object(he.a)(p.m)(de||(de=Object(re.a)(["\n          position: absolute;\n          top: 0;\n          right: ","px;\n          margin: ","px 0 0 0;\n        "])),(function(e){return e.theme.unit}),(function(e){return e.theme.unit})),ye=Object(q.a)("common")((function(e){var t=e.tradeArray,n=e.myTradeArray,a=e.t,c=Object(d.useState)(!1),r=Object(u.a)(c,2),o=r[0],i=r[1],s=Object(d.useState)(1),b=Object(u.a)(s,2),f=b[0],m=b[1];return Object(H.jsxs)(xe,{children:[Object(H.jsx)(Ae,{control:Object(H.jsx)(Oe.a,{checked:o,size:"small",checkedIcon:Object(H.jsx)(oe.h,{}),icon:Object(H.jsx)(oe.f,{}),color:"default",onChange:function(){i((function(e){return!e}))}}),label:a("labelTradePanelHideOtherPairs")}),Object(H.jsxs)(me.a,{value:f,onChange:function(e,t){m(t)},"aria-label":"tabs switch",children:[Object(H.jsx)(je.a,Object(l.a)({label:a("labelMyTrade")},ge(0))),Object(H.jsx)(je.a,Object(l.a)({label:a("labelRecent")},ge(1)))]}),Object(H.jsx)(ve,{marginTop:2,children:0===f?Object(H.jsx)(p.L,{rawData:n}):Object(H.jsx)(p.L,{rawData:t})})]})})),Te=n(621),Ce=n(15),ke=n(109),Ee=n(144),we=n(136),_e=n(220),Se=n(112),Ie=void 0;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UNCONNNECTED=1]="UNCONNNECTED",e[e.CONNECTED=2]="CONNECTED",e[e.NOACCOUNT=3]="NOACCOUNT",e[e.DEPOSITING=4]="DEPOSITING",e[e.DEPOSIT_TO_CONFIREM=5]="DEPOSIT_TO_CONFIREM",e[e.UNACTIVATED=6]="UNACTIVATED",e[e.ARPROVING=7]="ARPROVING",e[e.APPROV_TO_CONFIRM=8]="APPROV_TO_CONFIRM",e[e.LOCKED=9]="LOCKED",e[e.ACTIVATED=10]="ACTIVATED",e[e.DEFAULT=11]="DEFAULT"}(be||(be={}));var Ne,Pe=function(e){var t,n;switch(k.a.getState().account.status){case T.b.UNKNOWN:var a=e[be.UNKNOWN]?e[be.UNKNOWN]:[],c=Object(u.a)(a,2);return t=c[0],n=c[1],"function"===typeof t?t.call(Ie,n):void 0;case T.b.UNCONNNECTED:var r=e[be.UNCONNNECTED]?e[be.UNCONNNECTED]:[],o=Object(u.a)(r,2);if(t=o[0],n=o[1],"function"===typeof t)return t.call(Ie,n);break;case T.b.CONNECTED:var i=e[be.CONNECTED]?e[be.CONNECTED]:[],s=Object(u.a)(i,2);if(t=s[0],n=s[1],"function"===typeof t)return t.call(Ie,n);break;case T.b.NOACCOUNT:var l=e[be.NOACCOUNT]?e[be.NOACCOUNT]:[],d=Object(u.a)(l,2);if(t=d[0],n=d[1],"function"===typeof t)return t.call(Ie,n);break;case T.b.DEPOSITING:var b=e[be.DEPOSITING]?e[be.DEPOSITING]:[],p=Object(u.a)(b,2);if(t=p[0],n=p[1],"function"===typeof t)return t.call(Ie,n);break;case T.b.DEPOSIT_TO_CONFIREM:var f=e[be.DEPOSIT_TO_CONFIREM]?e[be.DEPOSIT_TO_CONFIREM]:[],m=Object(u.a)(f,2);if(t=m[0],n=m[1],"function"===typeof t)return t.call(Ie,n);break;case T.b.UNACTIVATED:var j=e[be.UNACTIVATED]?e[be.UNACTIVATED]:[],O=Object(u.a)(j,2);if(t=O[0],n=O[1],"function"===typeof t)return t.call(Ie,n);break;case T.b.ARPROVING:var h=e[be.ARPROVING]?e[be.ARPROVING]:[],v=Object(u.a)(h,2);if(t=v[0],n=v[1],"function"===typeof t)return t.call(Ie,n);break;case T.b.APPROV_TO_CONFIRM:var g=e[be.APPROV_TO_CONFIRM]?e[be.APPROV_TO_CONFIRM]:[],x=Object(u.a)(g,2);if(t=x[0],n=x[1],"function"===typeof t)return t.call(Ie,n);break;case T.b.LOCKED:var A=e[be.LOCKED]?e[be.LOCKED]:[],y=Object(u.a)(A,2);if(t=y[0],n=y[1],"function"===typeof t)return t.call(Ie,n);break;case T.b.ACTIVATED:var C=e[be.ACTIVATED]?e[be.ACTIVATED]:[],E=Object(u.a)(C,2);if(t=E[0],n=E[1],"function"===typeof t)return t.call(Ie,n)}var w=e[be.DEFAULT]?e[be.DEFAULT]:[],_=Object(u.a)(w,2);if(t=_[0],n=_[1],"function"===typeof t)return t.call(Ie,n)},De=function(){var e,t=k.a.getState().walletLayer2.walletLayer2,n=k.a.getState().tokenMap.tokenMap;return t&&(e=Reflect.ownKeys(t).reduce((function(e,a){var c=t[a],r=c.total,o=c.locked,i=c.pending.withdraw,s=E.x(r).minus(E.x(o)).minus(E.x(i)).toString();return Object(l.a)(Object(l.a)({},e),{},Object(Ce.a)({},a,{belong:a,count:Object(R.a)(n,a,s)}))}),{})),{walletMap:e}};function Re(e){var t=e.coinKey,n=e._tradeCalcData,a=e.tokenMap,c=e.coinMap;if(t){var r=t.match(/(\w+)-(\w+)/i),o=Object(u.a)(r,3),i=(o[0],o[1]),s=o[2];if(i&&c&&c[i]&&(n.coinSell=i),i!==s&&s&&-1!==a[i].tradePairs.findIndex((function(e){return e===s})))return n.coinBuy=s,n}return n.coinSell&&""!==n.coinSell?(n.coinBuy&&""!==n.coinBuy&&"undefined"!==n.coinBuy||(a&&a[n.coinSell].tradePairs?n.coinBuy=a[n.coinSell].tradePairs[0]:(n.coinSell="LRC",n.coinBuy="ETH")),n):(n.coinSell="LRC",n.coinBuy="ETH",n)}!function(e){e.processed="processed",e.no_such_order="no_such_order",e.too_many_times="too_many_times"}(Ne||(Ne={}));var Me,Le=Object(E.x)(10),Ue=function(e){var t=e.coinKey,n=e.ammKey,a=e.ammMap,c=Object(ke.b)(),r=Object(ke.a)();return new Promise((function(e,o){Promise.all([r.getAmmPoolSnapshot({poolAddress:a[n].address}),c.getMixTicker({market:t})]).then((function(t){var n=Object(u.a)(t,2),a=n[0].raw_data,c=n[1].tickMap;e({ammpoolsbalance:a,tickMap:c})}))}))},Be=function(e){var t,n,a=e.coinKey,c=(e.market,e.ammpoolsbalance),r=e.tokenMap,o=e.tickerData,i=e._tradeCalcData,s=e.coinMap,d=e.marketCoins,b=a.match(/(\w+)-(\w+)/i),p=Object(u.a)(b,3),f=p[1];p[2];if(n=o.base===f?Number(o.close):0!==Number(o.close)?1/Number(o.close):0,isNaN(n)){var m=Object(E.t)(a),j=m.base,O=m.quote,h=Object(R.c)(r,j),v=Object(R.c)(r,O),g=c.pooled[0],x=c.pooled[1];if(h.tokenId===g.tokenId&&v.tokenId===x.tokenId){var A=E.x(g.volume).div(Le.pow(h.decimals));n=E.x(x.volume).div(Le.pow(v.decimals)).div(A).toNumber()}else{if(h.tokenId!==x.tokenId||v.tokenId!==g.tokenId)throw Error("no support base/quote pair!");var y=E.x(x.volume).div(Le.pow(h.decimals));n=E.x(g.volume).div(Le.pow(v.decimals)).div(y).toNumber()}}return i.StoB=n,i.BtoS=0!==n?1/(1*n):0,i.sellCoinInfoMap=s&&(null===d||void 0===d?void 0:d.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(Ce.a)({},t,s[t]))}),{})),i.buyCoinInfoMap=s&&r&&(null===(t=r[i.coinSell].tradePairs)||void 0===t?void 0:t.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(Ce.a)({},t,s[t]))}),{})),{_tradeCalcData:i}},Fe=function(e){k.a.getState().system.forex;var t=isNaN(e.close)?0:e.close,n=isNaN(e.close)||isNaN(e.open)||e.open===e.close?f.f.none:e.close>e.open?f.f.increase:f.f.decrease;return{percent:(e.close-e.open)/e.open,timeUnit:"24h",priceYuan:t,priceDollar:t,floatTag:n,reward:0,APY:0}},Ke=n(290),He=function(e){var t=Object(ke.c)(),n=k.a.getState().account,a=n.accountId,c=n.apiKey;return t.getUserTrades({accountId:a},c).then((function(e){return e.userTrades}))},Ve=function(e,t){var n=[];return t.forEach((function(e){try{var t=Object(E.t)(e.market),a=t.base,c=t.quote,r=(k.a.getState().system.forex,k.a.getState().settings.currency,k.a.getState().tokenMap.tokenMap);if(r){var o=r[a],i=r[c];n.push({side:e.side===E.i.Sell?oe.O.Sell:oe.O.Buy,amount:{from:{key:a,value:E.x(e.volume).div(Le.pow(o.decimals)).toNumber()},to:{key:c,value:E.x(e.price).times(e.volume).div(Le.pow(i.decimals)).toNumber()}},price:{key:"",value:E.x(e.price).toNumber()},fee:{key:"",value:E.x(e.fee).div(Le.pow(i.decimals)).toNumber()},time:parseInt(e.tradeTime.toString())})}}catch(s){console.log(s)}})),n},We=function(e){var t=Object(ke.a)().getUserAmmPoolTxs,n=k.a.getState().account;return t({accountId:n.accountId},n.apiKey).then((function(e){return e.userAmmPoolTxs}))},Ye=function(e,t){var n=[];return t.forEach((function(t){try{var a=Object(E.t)(e),c=a.base,r=a.quote,o=k.a.getState().system.forex,i=k.a.getState().tokenMap.coinMap;i&&n.push({type:t.txType===E.k.JOIN?Ke.a.add:Ke.a.remove,totalDollar:1e3,totalYuan:1e3/Number(o),amountA:Number(t.poolTokens[0].amount),amountB:Number(t.poolTokens[1].amount),time:Number(t.updatedAt),coinA:i[c],coinB:i[r]})}catch(s){console.log(s)}})),n},Ge=Object(Te.default)(J.a)(Me||(Me=Object(re.a)(["\n  @media only screen and (min-height: 680px ) and (min-width:1024px){\n    position: fixed;\n  }\n"]))),qe=Object(q.a)("common")((function(e){var t=Object.assign({},e),n=function(){var e,t,n=Object(ke.b)(),a=Object(s.h)(":symbol"),c=Object(Ee.c)(),r=c.coinMap,o=c.tokenMap,i=c.marketArray,d=c.marketCoins,m=Object(we.d)().ammMap,j=Object(p.bb)(),O=j.setShowConnect,h=j.setShowAccountInfo,x=I().ShowDeposit,y=Object(A.a)().account,T=Object(_e.c)(),k=b.a.useState(void 0),w=Object(u.a)(k,2),_=w[0],S=w[1],N=b.a.useState(void 0),P=Object(u.a)(N,2),D=P[0],R=P[1],L=b.a.useState([]),U=Object(u.a)(L,2),B=U[0],F=U[1],K=b.a.useState([]),H=Object(u.a)(K,2),V=H[0],W=H[1],Y=b.a.useState(void 0),G=Object(u.a)(Y,2),q=G[0],z=G[1],J=b.a.useState({coinAInfo:void 0,coinBInfo:void 0}),X=Object(u.a)(J,2),Q=X[0],Z=X[1],$=b.a.useState("swapBtn"),ee=Object(u.a)($,2),te=ee[0],ne=ee[1];b.a.useEffect((function(){var e,t=null!==(e=null===a||void 0===a?void 0:a.params.symbol)&&void 0!==e?e:void 0;ie(t)}),[]),b.a.useEffect((function(){}),[]),b.a.useEffect((function(){switch(T.status){case"ERROR":T.statusUnset();break;case"DONE":T.statusUnset();var e=De().walletMap;if(D){var t,n,a,c;R(Object(l.a)(Object(l.a)({},D),{},{walletMap:e})),S({sell:{belong:D.sellCoinInfoMap?null===(t=D.sellCoinInfoMap[D.coinSell])||void 0===t?void 0:t.simpleName:void 0,balance:e?null===(n=e[D.coinSell])||void 0===n?void 0:n.count:0},buy:{belong:D.sellCoinInfoMap?null===(a=D.sellCoinInfoMap[D.coinBuy])||void 0===a?void 0:a.simpleName:void 0,balance:e?null===(c=e[D.coinBuy])||void 0===c?void 0:c.count:0}});var r=Object(E.u)(i,D.coinSell,D.coinBuy);r.amm,r.market,He().then((function(e){var t=Ve(0,e);W(t||[])}))}}}),[T.status,W]),b.a.useEffect((function(){}),[]);var ae=(e={},Object(Ce.a)(e,be.UNCONNNECTED,[function(){ne("labelConnectWallet")}]),Object(Ce.a)(e,be.DEFAULT,[function(){ne("depositTitleAndActive")}]),Object(Ce.a)(e,be.ACTIVATED,[function(){ne("swapBtn")}]),Object(Ce.a)(e,be.LOCKED,[function(){ne("labelUnLock")}]),e);Object(C.a)((function(){Pe(ae)}),[y.status,ae]);var ce=(t={},Object(Ce.a)(t,be.UNCONNNECTED,[function(){O({isShow:!0})}]),Object(Ce.a)(t,be.DEFAULT,[function(){x(!0)}]),Object(Ce.a)(t,be.ACTIVATED,[function(){ne("swapBtn")}]),Object(Ce.a)(t,be.LOCKED,[function(){h({isShow:!0})}]),t),re=function(){var e=Object(g.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.tradeData,e.abrupt("return",new Promise((function(e){switch(n){case Se.a.SEll_CLICK:case Se.a.BUY_CLICK:break;case Se.a.SELL_SELECTED:ie("".concat(a.sell.belong,"-").concat(a.buy.belong),"sell",a);break;case Se.a.BUY_SELECTED:ie("".concat(a.sell.belong,"-").concat(a.buy.belong),"buy",a);break;case Se.a.EXCHANGE_CLICK:ie("".concat(a.sell.belong,"-").concat(a.buy.belong))}e(void 0)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(e,t){return t[e].tradeValue&&D&&("sell"===e?t.buy.tradeValue=E.x(t.sell.tradeValue).times(D.StoB).toNumber():t.sell.tradeValue=E.x(t.buy.tradeValue).times(D.BtoS).toNumber()),{_tradeData:t,_tradeCalcData:Object(l.a)({},D)}},ie=function(){var e=Object(g.a)(v.a.mark((function e(t,a,c){var s,b,p,j,O,h,g,x,A,y,C,k,w,I,N,P;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D&&t==="".concat(D.coinSell,"-").concat(D.coinBuy)&&c&&a&&(!_||_[a].tradeValue!==c[a].tradeValue)?(s=oe(a,c),b=s._tradeData,p=s._tradeCalcData,S(b),R(p)):(j={},O=void 0,h=Re({coinKey:t,_tradeCalcData:{},tokenMap:o,coinMap:r}),g=Object(E.u)(i,h.coinSell,h.coinBuy),x=g.amm,A=g.market,y=A.match(/(\w+)-(\w+)/i),C=Object(u.a)(y,3),k=C[1],w=C[2],R(Object(l.a)(Object(l.a)({},D),h)),r&&Z({coinAInfo:r[k],coinBInfo:r[w]}),T.walletLayer2&&(I=De(),N=I.walletMap,h.walletMap=N,He().then((function(e){var t=Ve(0,e);W(t||[])}))),P=[],i&&x&&A&&m&&(P=[n.getMarketTrades({market:A}),Ue({coinKey:A,ammKey:x,ammMap:m})],Promise.all(Object(M.a)(P)).then((function(e){var t=Object(u.a)(e,2),n=t[0].marketTrades,a=t[1],c=a.ammpoolsbalance,i=a.tickMap;if(o){var s,l,b,p,f=Be({coinKey:"".concat(h.coinSell,"-").concat(h.coinBuy),market:A,ammpoolsbalance:c,tickerData:i[A]?i[A]:{},tokenMap:o,_tradeCalcData:h,coinMap:r,marketCoins:d})._tradeCalcData;h=f,j=Fe(i[A]?i[A]:{}),O=Ve(0,n),R(h),z(j),F(O),S({sell:{belong:h.sellCoinInfoMap?null===(s=h.sellCoinInfoMap[h.coinSell])||void 0===s?void 0:s.simpleName:void 0,balance:h.walletMap?null===(l=h.walletMap[h.coinSell])||void 0===l?void 0:l.count:0},buy:{belong:h.sellCoinInfoMap?null===(b=h.sellCoinInfoMap[h.coinBuy])||void 0===b?void 0:b.simpleName:void 0,balance:h.walletMap?null===(p=h.walletMap[h.coinBuy])||void 0===p?void 0:p.count:0}})}})).catch((function(e){throw new f.c(Object(l.a)(Object(l.a)({},f.e.TRADE_LITE_SET_PAIR_ERROR),{},{options:e}))}))));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return{tradeCalcData:D,tradeFloat:q,tradeArray:B,myTradeArray:V,tradeData:_,pair:Q,marketArray:i,onSwapClick:function(e){e.sell,e.buy,e.slippage,Pe(ce)},swapBtnI18nKey:te,handleSwapPanelEvent:re}}(),a=n.tradeCalcData,c=n.tradeData,r=n.tradeFloat,o=n.tradeArray,i=n.myTradeArray,d=n.marketArray,m=n.handleSwapPanelEvent,j=n.onSwapClick,O=n.pair,h=n.swapBtnI18nKey;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(te.a,{container:!0,marginRight:3,alignContent:"flex-start",children:[Object(H.jsx)(fe,Object(l.a)({},Object(l.a)(Object(l.a)(Object(l.a)({},t),O),{},{marketArray:d,tradeFloat:r,tradeArray:o}))),Object(H.jsx)(ye,{tradeArray:o,myTradeArray:i})]}),Object(H.jsx)(J.a,{display:"flex",style:{minWidth:"var(--swap-box-width)"},children:Object(H.jsx)(Ge,{children:Object(H.jsx)(p.F,Object(l.a)({tradeData:c,tradeCalcData:a,onSwapClick:j,swapBtnI18nKey:h},Object(l.a)({handleSwapPanelEvent:m},t)))})})]})}));function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.d,n=Object(_.a)(),a=n.chainId,c=n.active,r=function(){if(c&&a)return new e(a,t)},o=Object(d.useMemo)(r,[e,a,c,t]);return o}var Je=[{key:0,value:"Connecting"},{key:1,value:"Connected"},{key:2,value:"Closing"},{key:3,value:"Closed"}],Xe=function(e){var t=e.topics,n=e.verify,a=e.needApiKey,c=e.apiKey,r=Object(d.useRef)(null),o=Object(d.useState)(void 0),i=Object(u.a)(o,2),s=i[0],l=i[1],b=Object(d.useState)({key:0,value:"Connecting"}),p=Object(u.a)(b,2),f=p[0],m=p[1],j=Object(_.a)().chainId,O=ze(E.n),h=function(){O&&j&&O.getWsKey().then((function(e){var n="wss://ws.";switch(j){case E.b.MAINNET:n+="api3.loopring.io";break;default:n+="uat3.loopring.io",n="wss://ws.uat2.loopring.io"}n+="/v3/ws?wsApiKey="+e;try{r.current=new WebSocket(n);r.current.onopen=function(e){var n,o;m(Je[null!==(n=null===(o=r.current)||void 0===o?void 0:o.readyState)&&void 0!==n?n:0]),function(e){var t={op:"sub",unsubscribeAll:"true",topics:e};a&&c&&(t.apiKey=c);var n=JSON.stringify(t);g(n)}(t)},r.current.onclose=function(e){var t,n;m(Je[null!==(t=null===(n=r.current)||void 0===n?void 0:n.readyState)&&void 0!==t?t:0])},r.current.onerror=function(e){var t,n;m(Je[null!==(t=null===(n=r.current)||void 0===n?void 0:n.readyState)&&void 0!==t?t:0])},r.current.onmessage=function(e){l(e.data)}}catch(o){console.log(o)}}))},v=function(){var e;null===(e=r.current)||void 0===e||e.close()},g=function(e){var t;null===(t=r.current)||void 0===t||t.send(e)};return Object(d.useEffect)((function(){return n&&(r.current&&3!==r.current.readyState||h()),function(){var e;null===(e=r.current)||void 0===e||e.close()}}),[r,n]),{wsData:s,readyState:f,sendMessage:g,closeWebSocket:v,reconnect:function(){try{v(),r.current=null,h()}catch(e){console.log(e)}}}};function Qe(e){var t=[];t.push(Object(E.w)("LRC-ETH")),t.push(Object(E.s)("0x18920d6E6Fb7EbE057a4DD9260D6D95845c95036"));return{socketData:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=Object(d.useState)({}),r=Object(u.a)(c,2),o=r[0],i=r[1],s=Object(d.useState)(!0),l=Object(u.a)(s,2),b=l[0],p=l[1];Object(d.useEffect)((function(){var e=!0;return console.log("enter checkIsLocalPage"),document.addEventListener("visibilitychange",(function(){var t=!0;"hidden"===document.visibilityState&&(t=!1),e?p(t):console.log("unmounted! dont setIsLocalPage!")})),function(){e=!1}}),[]);var f=Xe({topics:e,apiKey:n,needApiKey:t,verify:a}),m=f.wsData,j=f.readyState,O=f.closeWebSocket,h=f.reconnect,v=f.sendMessage;return Object(d.useEffect)((function(){if((!t||n)&&a){if("ping"===m)try{v("pong")}catch(e){console.log(e)}else m&&i(JSON.parse(m));3===j.key&&b&&h(),b||O()}}),[m,j,b,a,n]),{socketData:o}}(t,!1,e).socketData}}var Ze,$e=function(){Object(d.useRef)(null);var e=Object(A.a)(),t=e.account,n=(e.isNoAccount,Qe(e.apiKey).socketData),a=function(){var e=Object(d.useState)(),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(D.b)();return U((function(){if(c)return c.getMarkets()}),a,void 0,"useGetMarkets",[c]),{markets:n}}().markets,c=B().exchangeInfo,r=F().tokens,o=function(){var e=Object(d.useState)(),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(D.b)();return U((function(){if(c)return c.getGasPrice()}),a,void 0,"useGetGas",[c]),{gas:n}}().gas;null===o||void 0===o||o.data;console.log("account:",t),console.log("exchangeInfo:",c),console.log("tokens:",r);t.accAddr&&t.accAddr;return Object(H.jsxs)("div",{children:["Debug",Object(H.jsxs)("div",{children:["account:",JSON.stringify(t)]}),Object(H.jsxs)("div",{children:["eddsaKey:",t.eddsaKey]}),Object(H.jsxs)("div",{children:["wsdata: ",JSON.stringify(n)]}),Object(H.jsx)("div",{children:"----------------------------"}),Object(H.jsxs)("div",{children:["markets:",JSON.stringify(a)]}),Object(H.jsx)("div",{children:"----------------------------"}),Object(H.jsxs)("div",{children:["depositAddress:",null===c||void 0===c?void 0:c.depositAddress]}),Object(H.jsxs)("div",{children:["exchangeAddress:",null===c||void 0===c?void 0:c.exchangeAddress]}),Object(H.jsx)("div",{children:"----------------------------"}),Object(H.jsxs)("div",{children:["tokens:",JSON.stringify(r)]}),Object(H.jsx)("div",{children:"----------------------------"})]})},et=n(2019),tt=n(442),nt=n(145);function at(){var e=Object(A.a)(),t=e.accountId,n=e.apiKey,a=Object(D.c)(),c=Object(d.useState)(),r=Object(u.a)(c,2),o=r[0],i=r[1];return Object(C.a)(Object(g.a)(v.a.mark((function e(){var c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.getUserTranferList({accountId:t},n);case 4:c=e.sent,r=[],c.userTransfers.forEach((function(e,t){r.push({from:{address:e.senderAddress,env:""},to:{address:e.receiverAddress,env:""},amount:e.amount,fee:{unit:e.feeTokenSymbol,value:e.feeAmount},memo:e.symbol,time:e.timestamp,txnHash:e.hash,status:e.status,token:e.token,tradeType:nt.b.allTypes})})),i(r);case 8:case"end":return e.stop()}}),e)}))),[t,n,a]),{txs:o}}var ct,rt,ot,it,st,lt,ut,dt,bt,pt=Object(he.a)(J.a)(Ze||(Ze=Object(re.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    display: flex;\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n    flex: 1;\n    \n    .rdg {\n      flex: 1;\n    }\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),ft=Object(q.a)("common")((function(e){var t=b.a.useRef(null),n=b.a.useState(10),a=Object(u.a)(n,2),c=a[0],r=a[1];b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&r(Math.floor((n-120)/44)-2)}),[t,c]);var o=at().txs,i=void 0!==o?o:[];return Object(H.jsxs)(pt,{ref:t,children:[Object(H.jsx)("div",{className:"title",children:"Transactions"}),Object(H.jsx)("div",{className:"tableWrapper",children:Object(H.jsx)(p.N,Object(l.a)({},Object(l.a)({rawData:i,pagination:{pageSize:c}},e)))})]})})),mt=n(1890),jt=["t"],Ot=Object(he.a)(J.a)(ct||(ct=Object(re.a)(["\n    width: 100%;\n    height: 100%;\n    flex: 1;\n    background-color: ",";\n    border-radius: ","px;\n    padding: 20px;\n\n    .title {\n        font-family: Gilroy-Medium;\n        font-size: ","px;\n        line-height: 19px;\n    }\n\n    .tableWrapper {\n        margin-top: ","px;\n        border: 1px solid ",";\n        border-radius: ","px;\n        padding: 26px;\n    }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return 1.5*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),ht=Object(he.a)(J.a)(rt||(rt=Object(re.a)(["\n    height: 225px;\n    > div {\n        position: relative;\n        width: calc(50% - 6px);\n        height: 100%;\n        background-color: ",";\n        border: 1px solid ",";\n        border-radius: ","px;\n        padding: ","px ","px;\n    }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit}),(function(e){return 2.5*e.theme.unit}),(function(e){return 3*e.theme.unit})),vt=Object(he.a)(J.a)(ot||(ot=Object(re.a)(["\n    position: absolute;\n    z-index: 10000;\n    right: ","px;\n    bottom: ","px;\n"])),(function(e){return 3*e.theme.unit}),(function(e){return 2.5*e.theme.unit})),gt=[{value:"24 H",key:"24 H"},{value:"1 W",key:"1 W"},{value:"ALL",key:"ALL"}],xt=[{name:"LP Token",value:12898},{name:"LRC",value:12898.5},{name:"ETH",value:36547},{name:"DOT",value:23898.09},{name:"BTC",value:3489},{name:"CRV",value:180.09},{name:"ALICE",value:150.7},{name:"LINA",value:230.5}],At=[{timeStamp:150,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:160,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:170,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:180,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:190,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:200,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:210,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:220,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:230,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:240,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)}],yt=Object(q.a)("common")((function(e){var t=e.t,n=Object(G.a)(e,jt),a=Object(d.useRef)(null),c=Object(d.useState)(10),r=Object(u.a)(c,2),o=r[0],i=r[1],s=Object(d.useState)("24 H"),b=Object(u.a)(s,2),f=b[0],m=b[1];Object(d.useEffect)((function(){var e,t=null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.offsetHeight;t&&i(Math.floor((t-120)/44)-1)}),[a,o]);var j=I(),O=j.ShowDeposit,h=j.ShowTransfer,v=j.ShowWithdraw,g=(j.ShowResetAccount,{assetInfo:{totalAsset:123456.789,priceTag:oe.C.Dollar},onShowDeposit:function(){O(!0)},onShowTransfer:function(){h(!0)},onShowWithdraw:function(){v(!0)}}),x=F().tokens;K(null===x||void 0===x?void 0:x.tokenSymbolMap).balances;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(J.a,{children:Object(H.jsx)(p.f,Object(l.a)({},Object(l.a)(Object(l.a)({t:t},n),g)))}),Object(H.jsxs)(ht,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:2,children:[Object(H.jsxs)(mt.a,{component:"div",children:[Object(H.jsx)(w.a,{component:"span",color:"textSecondary",variant:"body1",children:"Asset Distribution"}),Object(H.jsx)(p.l,{data:xt})]}),Object(H.jsxs)(mt.a,{component:"div",children:[Object(H.jsx)(w.a,{component:"span",color:"textSecondary",variant:"body1",children:"Total Assets"}),Object(H.jsx)(p.C,{type:p.j.Trend,data:At}),Object(H.jsx)(vt,{children:Object(H.jsx)(p.I,Object(l.a)({exclusive:!0,size:"small"},Object(l.a)(Object(l.a)({},n),{},{t:t,data:gt,value:f,setValue:m})))})]})]}),Object(H.jsx)(Ot,{marginTop:2,children:Object(H.jsx)("div",{className:"tableWrapper",ref:a,children:Object(H.jsx)(p.g,{rawData:[],pagination:{pageSize:o}})})})]})})),Tt=Object(he.a)(J.a)(it||(it=Object(re.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    display: flex;\n    flex: 1;\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n\n    .rdg {\n      flex: 1;\n    }\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Ct=Object(q.a)("common")((function(e){var t=b.a.useRef(null),n=b.a.useState(10),a=Object(u.a)(n,2),c=a[0],r=a[1];b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&r(Math.floor((n-120)/44)-2)}),[t,c]);return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(Tt,{ref:t,children:[Object(H.jsx)("div",{className:"title",children:"Trades"}),Object(H.jsx)("div",{className:"tableWrapper",children:Object(H.jsx)(p.K,Object(l.a)({},Object(l.a)({rawData:[],pagination:{pageSize:c}},e)))})]})})})),kt=Object(he.a)(J.a)(st||(st=Object(re.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    flex: 1;\n    background-color: ",";\n    border-radius: ","px;\n    padding: 20px;\n\n    .title {\n        font-family: Gilroy-Medium;\n        font-size: ","px;\n        line-height: 19px;\n    }\n\n    .tableWrapper {\n        display: flex;\n        flex: 1;\n        margin-top: 20px;\n        border: 1px solid ",";\n        border-radius: ","px;\n        padding: 26px;\n\n        .rdg {\n            flex: 1;\n        }\n    }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Et=Object(q.a)("common")((function(e){var t=b.a.useRef(null),n=b.a.useState(10),a=Object(u.a)(n,2),c=a[0],r=a[1];b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&r(Math.floor((n-120)/44)-2)}),[t,c]);at().txs;return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(kt,{ref:t,children:[Object(H.jsx)("div",{className:"title",children:"Order History"}),Object(H.jsx)("div",{className:"tableWrapper",children:Object(H.jsx)(p.w,Object(l.a)({},Object(l.a)({pagination:{pageSize:c},rawData:[]},e)))})]})})})),wt=n(2026),_t=n(2024),St=n(1887),It=n(1955),Nt=n(130),Pt=["t","i18n"],Dt=Object(he.a)(te.a)(lt||(lt=Object(re.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  ",";\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})})),Rt=Object(he.a)(wt.a)((function(e){var t=e.theme;return{"& .Mui-checked":{color:t.colorBase.textPrimary,"& + .MuiSwitch-track.MuiSwitch-track":{border:"solid ".concat(t.colorBase.success)},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.success}},"& .MuiSwitch-track":{border:"solid ".concat(t.colorBase.error),opacity:1},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.error}}})),Mt=function(e){var t=e.t,n=e.currency,a=e.label,c=e.handleChange,r=b.a.useState(n||f.b.dollar),o=Object(u.a)(r,2),i=o[0],s=o[1],l=b.a.useCallback((function(e){s(e.target.value),c&&c(e.target.value)}),[c]);return Object(H.jsxs)(p.x,{"aria-label":t(a),IconComponent:f.d,labelId:"language-selected",id:"language-selected",value:i,autoWidth:!0,onChange:l,children:[Object(H.jsxs)(p.y,{value:f.b.dollar,children:["$ ",t("labelUSDollar")]}),Object(H.jsxs)(p.y,{value:f.b.yen,children:["\xa5 ",t("labelCNYYuan")]})]})},Lt=Object(he.a)(_t.a)(ut||(ut=Object(re.a)(["\n  margin: ","px 0 ","px 0px;\n"])),(function(e){return e.theme.unit}),(function(e){return e.theme.unit})),Ut=(Object(he.a)(_t.a)(dt||(dt=Object(re.a)(["\n  margin: 0;\n  flex: 1;\n  width: 1px;\n  height: ","px;\n  background: ",";\n"])),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.focus})),Object(q.a)(["common","layout"])((function(e){var t=e.t,n=e.i18n,a=Object(G.a)(e,Pt),c=Object(Nt.f)(),r=Object(p.cb)(),o=r.setUpColor,i=r.setLanguage,s=r.setCurrency,u=r.currency,d=r.upColor,b=n.language;return Object(H.jsxs)(te.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",flexWrap:"nowrap",children:[Object(H.jsx)(w.a,{variant:"h4",component:"h3",marginY:1,paddingLeft:2,children:t("labelTitleSecurity")}),Object(H.jsxs)(Dt,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:[Object(H.jsxs)(J.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(H.jsx)(w.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleResetL2Keypair")}),Object(H.jsx)(Lt,{}),Object(H.jsxs)(te.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(H.jsx)(te.a,{item:!0,xs:8,display:"flex",flexDirection:"column",children:Object(H.jsx)(w.a,{variant:"body1",component:"p",children:Object(H.jsxs)(It.a,{i18nKey:"resetDescription",children:["Create a new signing key for layer-2 authentication (no backup needed). This will",Object(H.jsx)(p.P,{component:"span",children:"cancel all your pending orders"}),"."]})})}),Object(H.jsx)(te.a,{item:!0,xs:4,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(H.jsx)(St.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnReset")})}),Object(H.jsx)(te.a,{item:!0,xs:12,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:Object(H.jsx)(w.a,{variant:"body2",component:"p",paddingTop:1,children:t("labelHadChangPassword",{passDay:"14 hours"})})})]})]}),Object(H.jsxs)(J.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(H.jsx)(w.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleExportAccount")}),Object(H.jsx)(Lt,{}),Object(H.jsxs)(te.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(H.jsx)(te.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(H.jsx)(w.a,{variant:"body1",component:"p",children:t("descriptionExportAccount")})}),Object(H.jsx)(te.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(H.jsxs)(te.a,{item:!0,children:[" ",Object(H.jsx)(St.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnExportAccount")})]})})]})]})]}),Object(H.jsx)(w.a,{variant:"h4",component:"h3",marginY:1,paddingLeft:2,children:t("labelTitlePreferences")}),Object(H.jsx)(Dt,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:Object(H.jsxs)(J.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(H.jsxs)(te.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(H.jsx)(te.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(H.jsx)(w.a,{variant:"body1",component:"p",children:t("labelLanguage")})}),Object(H.jsx)(te.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(H.jsx)(te.a,{item:!0,children:Object(H.jsx)(p.h,Object(l.a)({},Object(l.a)(Object(l.a)({t:t},a),{},{language:b,label:"languageSetting",handleChange:function(e){i(e),n.changeLanguage(e)}})))})})]}),Object(H.jsxs)(te.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(H.jsx)(te.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(H.jsx)(w.a,{variant:"body1",component:"p",children:t("labelCurrency")})}),Object(H.jsx)(te.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(H.jsx)(te.a,{item:!0,children:Object(H.jsx)(Mt,Object(l.a)({},Object(l.a)(Object(l.a)({t:t},a),{},{currency:u,label:"currencySetting",handleChange:function(e){s(e)}})))})})]}),Object(H.jsxs)(te.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,children:[Object(H.jsx)(te.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(H.jsx)(w.a,{variant:"body1",component:"p",children:t("labelColors")})}),Object(H.jsxs)(te.a,{item:!0,xs:5,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:[Object(H.jsx)(w.a,{variant:"body1",component:"span",paddingX:2,children:Object(H.jsxs)(It.a,{i18nKey:"whichColorIsUp",children:[Object(H.jsxs)("span",{style:{textTransform:"capitalize",color:d===f.l.green?c.colorBase.success:c.colorBase.error},children:[{up:d===f.l.green?t("labelgreen"):t("labelred")}," up"]}),"and ",Object(H.jsxs)("span",{style:{textTransform:"capitalize",color:d===f.l.green?c.colorBase.error:c.colorBase.success},children:[{down:d===f.l.green?t("labelred"):t("labelgreen")}," down"]})]})}),Object(H.jsx)(Rt,{checked:d===f.l.green,color:"default",onChange:function(e){e.target.checked?o(f.l.green):o(f.l.red)}})]})]})]})})]})}))),Bt=["t"],Ft=f.u,Kt=Object(he.a)(J.a)(bt||(bt=Object(re.a)(["\n  ","\n   \n"])),(function(e){var t=e.theme;return"\n    background-color: ".concat(t.colorBase.background().default,";\n    width: 100%;\n    min-width:auto;\n    ").concat(t.border.defaultFrame({c_key:"blur"}),";\n    & > div{\n      background-color:initial;\n      border:0;\n      width:auto;\n      min-width: var(--swap-box-width);\n      max-width: 520px;\n    }\n    ")})),Ht=Object(q.a)(["layout","common"],{withRef:!0})(p.E),Vt=function(){var e,t=Object(s.h)("/layer2/:item"),n=k.a.getState().account.status,a=Object(x.a)(),c=a.t,r=Object(G.a)(a,Bt),o=null!==(e=null===t||void 0===t?void 0:t.params.item)&&void 0!==e?e:"assets",i=W().depositProps;return Object(H.jsxs)(H.Fragment,{children:["  ",n===T.b.NOACCOUNT||n===T.b.DEPOSITING||n===T.b.DEPOSIT_TO_CONFIREM?Object(H.jsx)(Kt,{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",alignContent:"flex-start",children:Object(H.jsx)(p.k,Object(l.a)(Object(l.a)({},Object(l.a)(Object(l.a)(Object(l.a)({},r),i),{},{title:c("depositTitleAndActive"),description:"depositAndActiveDescription"})),{},{children:" "}))}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(J.a,{width:"200px",display:"flex",justifyContent:"stretch",marginRight:3,children:Object(H.jsx)(p.D,{children:Object(H.jsx)(Ht,{selected:o,subMenu:Ft})})}),Object(H.jsxs)(J.a,{minHeight:420,display:"flex",alignItems:"stretch",flexDirection:"column",marginTop:0,flex:1,children:["assets"===o&&Object(H.jsx)(yt,{}),"transactions"===o&&Object(H.jsx)(ft,{}),"trades"===o&&Object(H.jsx)(Ct,{}),"orders"===o&&Object(H.jsx)(Et,{}),"setting"===o&&Object(H.jsx)(Ut,{})]})]})]})},Wt=n(377),Yt=n(47);function Gt(e){var t=e.pageSize,n=b.a.useState([]),a=Object(u.a)(n,2),c=a[0],r=a[1],o=b.a.useState(1),i=Object(u.a)(o,2),s=i[0],d=i[1],p=Object(Ee.c)().coinMap,m=Object(we.d)(),j=m.ammMap,O=m.status,h=(m.errorMessage,m.statusUnset),v=m.updateAmmMap,g=Object(Wt.b)(),x=g.tickerMap,A=g.status,y=(g.errorMessage,g.statusUnset),T=g.updateTickers,C=b.a.useCallback((function(e){if(d(e),j&&Object.keys(j).length>0){for(var n=[],a=(s-1)*t;a<Object.keys(j).length&&a<(s-1)*t+t;a++)n.push(Object.keys(j)[a]);T(n)}}),[j,s,t,T]);return b.a.useEffect((function(){switch(A){case"ERROR":console.log("ERROR","get ticker error,ui"),y();break;case"PENDING":break;case"DONE":y(),function(){try{var e=Y(j);for(var t in x)e[t].tradeFloat=x[t];r(Object.keys(e).map((function(t){return p&&(e[t].coinAInfo=p[e[t].coinA],e[t].coinBInfo=p[e[t].coinB]),e[t]})))}catch(n){throw new f.c(Object(l.a)(Object(l.a)({},f.e.NO_TOKEN_MAP),{},{options:n}))}}()}}),[A,y]),b.a.useEffect((function(){j&&0!==Object.keys(j).length?C(s):v()}),[]),b.a.useEffect((function(){switch(O){case"ERROR":console.log("ERROR","get ammMap error,ui"),h();break;case Yt.a.PENDING:console.log("PENDING","get ammMap error,ui");break;case Yt.a.DONE:h(),C(1)}}),[O,h,C]),{page:s,rawData:c,updateTickersUI:C}}var qt,zt,Jt,Xt=["t"],Qt=Object(he.a)(J.a)(qt||(qt=Object(re.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n\n  .rdg {\n    flex: 1;\n  }\n\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit})),Zt=Object(q.a)("common")((function(e){e.t,Object(G.a)(e,Xt);var t=b.a.useRef(null),n=b.a.useState(10),a=Object(u.a)(n,2),c=a[0],r=a[1],o=Gt({pageSize:c}),i=o.updateTickersUI,s=o.rawData,l=o.page;b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&r(Math.floor((n-120)/44)-1)}),[t,c]);var d=b.a.useCallback((function(e){i(e)}),[i]);return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(Qt,{display:"flex",flexDirection:"column",ref:t,children:Object(H.jsx)(p.z,{rawData:s,handlePageChange:d,page:l,pagination:{pageSize:c}})})})})),$t=n(2e3),en=n(2020),tn=n(1999),nn=function(e){var t=e.pair,n=e._ammCalcData,a=e.ammType,c=e.tokenMap,r=e.coinMap,o=e.walletMap,i=e.ammMap,s=e.tickerData,l=e.ammpoolsbalance;if(n.coinInfoMap=r,s&&(n.AtoB=Number(s.close)),isNaN(n.AtoB)&&l){var u=E.x(l.pooled[0].volume).div(Le.pow(c[t.coinAInfo.simpleName].decimals)),d=E.x(l.pooled[1].volume).div(Le.pow(c[t.coinBInfo.simpleName].decimals));n.AtoB=d.div(u).toNumber()}if(t.coinAInfo)if(a===p.c.Deposit){var b,f;n.myCoinA={belong:t.coinAInfo.simpleName,balance:o?null===(b=o[t.coinAInfo.simpleName])||void 0===b?void 0:b.count:0},n.myCoinB={belong:t.coinBInfo.simpleName,balance:o?null===(f=o[t.coinBInfo.simpleName])||void 0===f?void 0:f.count:0}}else{var m="".concat(t.coinAInfo.simpleName,"-").concat(t.coinBInfo.simpleName),j=0,O=0;if(o){var h,v=o?null===(h=o["LP-"+m])||void 0===h?void 0:h.count:0,g=i["AMM-"+m],x=g.totalLPToken,A=g.totalA,y=g.totalB;A&&x&&y&&(j=A/x*v,O=y/x*v)}n.myCoinA={belong:t.coinAInfo.simpleName,balance:j},n.myCoinB={belong:t.coinBInfo.simpleName,balance:O}}return n},an=["pair","walletMap","ammType","ammpoolsbalance","tickerData"],cn=function(e){var t=e.pair,n=e.walletMap,a=e.ammType,c=e.ammpoolsbalance,r=e.tickerData,o=Object(G.a)(e,an),i=function(e){var t=e.pair,n=e.walletMap,a=e.ammType,c=e.ammpoolsbalance,r=e.tickerData,o=Object(Ee.c)(),i=o.coinMap,s=o.tokenMap,d=Object(we.d)().ammMap,f=b.a.useState(),m=Object(u.a)(f,2),j=m[0],O=m[1],h=b.a.useState({coinA:{belong:void 0},coinB:{belong:void 0},slippage:.5}),x=Object(u.a)(h,2),A=x[0],y=x[1],T=b.a.useState({coinA:{belong:void 0},coinB:{belong:void 0},slippage:.5}),C=Object(u.a)(T,2),k=C[0],E=C[1],w=b.a.useState(void 0),_=Object(u.a)(w,2),S=_[0],I=(_[1],b.a.useCallback((function(e,t){console.log("handleDepositEvent",e,t)}),[])),N=b.a.useCallback((function(e,t){console.log("handleDepositEvent",e,t)}),[]),P=b.a.useCallback((function(e){console.log("onAmmWithdrawClick",e)}),[]),D=b.a.useCallback((function(e){console.log("onAmmDepositClick",e)}),[]);b.a.useEffect((function(){r&&R(t)}),[r,n]);var R=function(){var e=Object(g.a)(v.a.mark((function e(t){var o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=nn({pair:t,ammType:a,ammpoolsbalance:c,_ammCalcData:{},tokenMap:s,coinMap:i,walletMap:n,ammMap:d,tickerData:r}),O(Object(l.a)(Object(l.a)({},j),o)),o.myCoinA&&(a===p.c.Deposit?y({coinA:o.myCoinA,coinB:o.myCoinB,slippage:.5}):E({coinA:o.myCoinA,coinB:o.myCoinB,slippage:.5}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{ammCalcData:j,ammDepositData:A,ammWithdrawData:k,handleDepositEvent:I,handleWithDrawEvent:N,onAmmWithdrawClick:P,onAmmDepositClick:D,ammBtnI18nKey:S}}({pair:t,ammpoolsbalance:c,walletMap:n,ammType:a||p.c.Deposit,tickerData:r}),s=i.ammCalcData,d=i.ammDepositData,f=i.ammWithdrawData,m=i.handleDepositEvent,j=i.handleWithDrawEvent,O=i.onAmmWithdrawClick,h=i.onAmmDepositClick;return Object(H.jsxs)(H.Fragment,{children:[" ",r?Object(H.jsx)(p.b,Object(l.a)(Object(l.a)({},Object(l.a)({},o)),{},{ammWithdrawData:f,ammDepositData:d,ammCalcData:s,handleDepositEvent:m,handleWithDrawEvent:j,onAmmWithdrawClick:O,onAmmDepositClick:h,tabSelected:a||p.c.Deposit})):Object(H.jsx)(J.a,{width:"var(--swap-box-width)"})]})},rn=n(94),on=n.n(rn),sn=n(378),ln=function(e){var t=e.ammMap,n=e.tokenMap,a=e.ammActivityMap,c=e.ammKey;if(t&&n){var r=Y(t[c]),o=a[c];return r&&r.coinA&&(r.coinAInfo=n[r.coinA],r.coinBInfo=n[r.coinB],r.activity=o||{}),r}},un=["t"],dn=(p.J.AVAILABLE,123),bn=12131,pn=.0012,fn=Object(he.a)(J.a)(zt||(zt=Object(re.a)(["\n  ",";\n  background-color: ",";\n"])),(function(e){return e.theme.border.defaultFrame({c_key:"blur"})}),(function(e){return e.theme.colorBase.background().default})),mn=Object(he.a)(J.a)(Jt||(Jt=Object(re.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n\n  .rdg {\n    flex: 1;\n  }\n\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit})),jn=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"tabpanel-".concat(e)}},On=Object(q.a)("common")((function(e){var t,n,a,c,r,o,i,d,f,m,j,O,h,v,g,x=e.t,A=Object(G.a)(e,un),y=Object(p.cb)().currency,T=function(){var e=Object(s.h)("/liquidity/pools/coinPair/:symbol"),t=Object(Ee.c)(),n=t.coinMap,a=t.tokenMap,c=t.marketArray,r=Object(we.d)(),o=Object(sn.b)().ammActivityMap,i=r.ammMap,d=r.updateAmmMap,p=Object(_e.c)(),f=b.a.useState(void 0),m=Object(u.a)(f,2),j=m[0],O=m[1],h=b.a.useState([]),v=Object(u.a)(h,2),g=v[0],x=v[1],A=b.a.useState([]),y=Object(u.a)(A,2),T=y[0],C=y[1],k=b.a.useState(void 0),w=Object(u.a)(k,2),_=w[0],S=w[1],I=b.a.useState(void 0),N=Object(u.a)(I,2),P=N[0],D=N[1],R=b.a.useState({myCoinA:void 0,myCoinB:void 0,activity:void 0,totalRewards:void 0,amountDollar:void 0,amountYuan:void 0,totalLPToken:void 0,totalA:void 0,totalB:void 0,rewardToken:void 0,rewardValue:void 0,feeA:void 0,feeB:void 0,isNew:void 0,isActivity:void 0}),L=Object(u.a)(R,2),U=L[0],B=L[1],F=b.a.useState(void 0),K=Object(u.a)(F,2),H=K[0],V=K[1],W=b.a.useState({coinAInfo:void 0,coinBInfo:void 0}),Y=Object(u.a)(W,2),G=Y[0],q=Y[1];return b.a.useEffect((function(){var t,r=null!==(t=null===e||void 0===e?void 0:e.params.symbol)&&void 0!==t?t:void 0,s={},b=r.match(/(\w+)-(\w+)/i),f=Object(u.a)(b,3),m=f[1],j=f[2],h=Object(E.u)(c,m,j),v=h.amm,g=h.market,A=ln({ammMap:i,tokenMap:a,ammActivityMap:o,ammKey:v});if(B(A||{}),n&&q({coinAInfo:n[m],coinBInfo:n[j]}),p.walletLayer2){var y=De().walletMap;O(y),We().then((function(e){var t=Ye(g,e);x(t||[])}))}var T=[];v&&g&&i&&(d(),T=[Ue({coinKey:g,ammKey:v,ammMap:i})],Promise.all(Object(M.a)(T)).then((function(e){var t=Object(u.a)(e,1)[0],n=t.ammpoolsbalance,c=t.tickMap;a&&(s=Fe(c[g]?c[g]:{}),S(c[g]),V(s),B(Object(l.a)(Object(l.a)({},U),{},{tradeFloat:s})),D(n))})))}),[]),b.a.useEffect((function(){switch(p.status){case"ERROR":p.statusUnset();break;case"DONE":p.statusUnset();var e=De().walletMap;if(O(e),j){var t,n,a=Object(E.u)(c,null===(t=G.coinAInfo)||void 0===t?void 0:t.simpleName,null===(n=G.coinBInfo)||void 0===n?void 0:n.simpleName),r=(a.amm,a.market);We().then((function(e){var t=Ye(r,e);x(t||[])}))}}}),[p.status,C]),b.a.useEffect((function(){}),[]),b.a.useEffect((function(){if("ERROR"===r.status)r.statusUnset();else if("DONE"===r.status){var e,t;if(r.statusUnset(),r.ammMap&&(null===(e=G.coinAInfo)||void 0===e?void 0:e.simpleName)&&(null===(t=G.coinBInfo)||void 0===t?void 0:t.simpleName)){var n=ln({ammMap:i,tokenMap:a,ammActivityMap:o,ammKey:"AMM-"+G.coinAInfo.simpleName+G.coinBInfo.simpleName});B(Object(l.a)(Object(l.a)({},U),n))}}}),[r.status,r.ammMap,r.statusUnset,G,o,a,B]),{walletMap:j,tickerData:_,coinPairInfo:U,ammpoolsbalance:P,pair:G,tradeFloat:H,ammMarketArray:g,myAmmMarketArray:T}}(),C=T.tradeFloat,k=T.tickerData,_=T.pair,S=T.coinPairInfo,I=T.walletMap,N=T.ammMarketArray,P=T.myAmmMarketArray,D=T.ammpoolsbalance,R=b.a.useState(0),L=Object(u.a)(R,2),U=L[0],B=L[1],F=b.a.useState((null===A||void 0===A?void 0:A.page)?A.page:1),K=Object(u.a)(F,2),V=K[0],W=K[1],Y=b.a.useCallback((function(e){W(e)}),[]);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(te.a,{container:!0,children:[Object(H.jsx)(te.a,{item:!0,xs:8,children:Object(H.jsxs)($t.a,{"aria-label":"breadcrumb",children:[Object(H.jsx)(en.a,{color:"textSecondary",href:"/#/liquidity/pools",children:x("labelAmmList")}),Object(H.jsxs)(w.a,{color:"textSecondary",display:"flex",alignItems:"center",justifyContent:"center",children:[null===(t=_.coinAInfo)||void 0===t?void 0:t.simpleName,"-",null===(n=_.coinBInfo)||void 0===n?void 0:n.simpleName]})]})}),Object(H.jsx)(te.a,{item:!0,xs:4,alignItems:"center",justifyContent:"flex-end",display:"flex",children:Object(H.jsx)(en.a,{href:"/#/liquidity/pools",variant:"h5",children:x("labelBack")})})]}),Object(H.jsx)(te.a,{container:!0,marginTop:3,children:Object(H.jsx)(te.a,{item:!0,xs:7,children:Object(H.jsx)(p.M,Object(l.a)({},Object(l.a)(Object(l.a)(Object(l.a)({},A),{},{t:x},_),{},{tradeFloat:C,isNew:!1})))})}),Object(H.jsxs)(J.a,{flex:1,display:"flex",alignItems:"stretch",flexDirection:"row",marginTop:3,children:[Object(H.jsx)(J.a,{flex:1,display:"flex",children:Object(H.jsxs)(te.a,{container:!0,spacing:2,wrap:"nowrap",children:[Object(H.jsxs)(te.a,{item:!0,md:5,xs:12,paddingRight:2,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"space-between",children:[Object(H.jsxs)(fn,{paddingY:3,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(H.jsxs)(w.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",children:[Object(H.jsx)(w.a,{component:"span",style:{textTransform:"capitalize"},children:x("labelLiquidity")}),Object(H.jsx)(w.a,{component:"span",style:{textTransform:"uppercase"},children:x("labelAPY")})]}),Object(H.jsx)(w.a,{component:"p",color:"textPrimary",display:"flex",justifyContent:"space-between",marginTop:1,children:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(w.a,{component:"span",children:[" ","undefined"===typeof S.amountDollar?"N/A":y===oe.k.dollar?oe.C.Dollar+Object(oe.U)(S.amountDollar):oe.C.Yuan+Object(oe.U)(S.amountYuan?S.amountYuan:0)]}),Object(H.jsxs)(w.a,{component:"span",children:[" ",S.tradeFloat?S.tradeFloat.APY:"N/A","%"]})]})}),Object(H.jsxs)(w.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:2,children:[Object(H.jsxs)(w.a,{component:"span",color:"textSecondary",children:[Object(H.jsx)(tn.a,{mdDown:!0,children:x("labelLPTotal")}),x("labelLPTokens")]}),Object(H.jsx)(w.a,{component:"span",color:"textSecondary",children:S.totalLPToken})]}),Object(H.jsxs)(w.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(H.jsxs)(w.a,{component:"span",color:"textSecondary",children:[Object(H.jsx)(tn.a,{mdDown:!0,children:x("labelLPTotal")}),null===(a=S.myCoinA)||void 0===a?void 0:a.simpleName]}),Object(H.jsx)(w.a,{component:"span",color:"textSecondary",children:S.totalA})]}),Object(H.jsxs)(w.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(H.jsxs)(w.a,{component:"span",color:"textSecondary",children:[Object(H.jsx)(tn.a,{mdDown:!0,children:x("labelLPTotal")}),null===(c=S.myCoinB)||void 0===c?void 0:c.simpleName]}),Object(H.jsx)(w.a,{component:"span",color:"textSecondary",children:S.totalB})]})]}),Object(H.jsxs)(fn,{paddingY:3,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(H.jsxs)(w.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(H.jsxs)(w.a,{component:"span",color:"textSecondary",variant:"body2",style:{textTransform:"capitalize"},children:[null===(r=S.tradeFloat)||void 0===r?void 0:r.timeUnit," ",x("labelVolume")]}),Object(H.jsxs)(w.a,{component:"span",color:"textSecondary",children:[x("labelFee")," "]})]}),Object(H.jsxs)(w.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,alignItems:"center",children:[Object(H.jsx)(w.a,{component:"span",variant:"h4",color:"textPrimary",children:y===oe.k.dollar?oe.C.Dollar+Object(oe.U)(S.tradeFloat&&S.tradeFloat.priceDollar?S.tradeFloat.priceDollar:0):oe.C.Yuan+Object(oe.U)(S.tradeFloat&&S.tradeFloat.priceYuan?S.tradeFloat.priceYuan:0)}),Object(H.jsxs)(w.a,{noWrap:!0,textAlign:"center",component:"span",color:"textSecondary",variant:"body2",textOverflow:"ellipsis",display:"flex",alignItems:"center",children:[Object(H.jsxs)(w.a,{component:"span",color:"inherit",variant:"inherit",display:"flex",flexDirection:"column",children:[Object(H.jsx)(w.a,{component:"span",color:"inherit",variant:"inherit",children:null===(o=S.myCoinA)||void 0===o?void 0:o.simpleName}),Object(H.jsx)(w.a,{component:"span",color:"inherit",variant:"inherit",children:S.feeA})]}),Object(H.jsx)(w.a,{component:"span",color:"inherit",variant:"h5",paddingX:1,children:" + "}),Object(H.jsxs)(w.a,{component:"span",color:"inherit",variant:"inherit",display:"flex",flexDirection:"column",children:[Object(H.jsx)(w.a,{component:"span",color:"inherit",variant:"inherit",children:null===(i=S.myCoinB)||void 0===i?void 0:i.simpleName}),Object(H.jsx)(w.a,{component:"span",color:"inherit",variant:"inherit",children:S.feeB})]})]})]})]}),Object(H.jsxs)(fn,{paddingY:3,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(H.jsx)(w.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",children:Object(H.jsxs)(w.a,{component:"span",color:"textSecondary",children:[" ",x("labelMyPoolShare")]})}),Object(H.jsxs)(w.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(H.jsxs)(w.a,{component:"span",color:"textSecondary",children:[" ",bn||"N/A"," ",null===(d=S.myCoinA)||void 0===d?void 0:d.simpleName," "]}),Object(H.jsx)(w.a,{component:"span",color:"textSecondary",variant:"h5",children:" -- "})]}),Object(H.jsxs)(w.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(H.jsxs)(w.a,{component:"span",color:"textSecondary",children:[" ",pn?bn:"N/A"," ",null===(f=S.myCoinB)||void 0===f?void 0:f.simpleName]}),Object(H.jsx)(w.a,{component:"span",color:"textSecondary",variant:"h5",children:" -- "})]})]}),Object(H.jsxs)(fn,{paddingY:3,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(H.jsxs)(J.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(H.jsxs)(w.a,{display:"flex",flexDirection:"column",component:"div",children:[Object(H.jsx)(w.a,{variant:"body2",component:"h5",color:"textSecondary",children:x("labelReward")}),Object(H.jsx)(w.a,{variant:"body1",component:"span",color:"textPrimary",children:"undefined"===typeof S.activity?"N/A":Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(w.a,{component:"span",children:[S.activity.totalRewards," "]}),Object(H.jsx)(w.a,{component:"span",children:null===(m=S.activity)||void 0===m||null===(j=m.rewardToken)||void 0===j?void 0:j.simpleName})]})})]}),Object(H.jsxs)(w.a,{display:"flex",flexDirection:"column",alignItems:"flex-end",component:"div",children:[Object(H.jsx)(w.a,{variant:"body2",component:"h5",color:"textSecondary",children:x("labelMyReward")}),Object(H.jsx)(w.a,{variant:"body1",component:"span",color:"textPrimary",children:"undefined"===typeof S.isActivity?"N/A":Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(w.a,{component:"span",children:[" ",dn," "]}),Object(H.jsxs)(w.a,{component:"span",children:[" ",null===(O=S.activity)||void 0===O||null===(h=O.rewardToken)||void 0===h?void 0:h.simpleName]})]})})]})]}),Object(H.jsxs)(w.a,{alignSelf:"flex-start",variant:"body2",color:"textSecondary",component:"span",marginTop:1,children:[x("labelDate"),":","undefined"===typeof S.isActivity?"N/A":on()(null===(v=S.activity)||void 0===v?void 0:v.duration.from).format("L")+" - "+on()(null===(g=S.activity)||void 0===g?void 0:g.duration.to).format("L")]})]})]}),Object(H.jsx)(tn.a,{mdDown:!0,children:Object(H.jsx)(te.a,{item:!0,md:7,paddingRight:2})})]})}),Object(H.jsx)(J.a,{display:"flex",children:_.coinAInfo&&Object(H.jsx)(cn,{pair:_,tickerData:k,walletMap:I,ammpoolsbalance:D})})]}),Object(H.jsx)(te.a,{container:!0,marginTop:3,children:Object(H.jsxs)(te.a,{item:!0,xs:12,children:[Object(H.jsxs)(me.a,{value:U,onChange:function(e,t){B(t),W(1)},"aria-label":"tabs switch",children:[Object(H.jsx)(je.a,Object(l.a)({label:x("labelAll")},jn(0))),Object(H.jsx)(je.a,Object(l.a)({label:x("labelMe")},jn(1)))]}),Object(H.jsx)(mn,{marginTop:2,children:0===U?Object(H.jsx)(p.d,{rawData:N,handlePageChange:Y,page:V}):Object(H.jsx)(p.d,{rawData:P,handlePageChange:Y,page:V})})]})})]})}));n(976);var hn,vn,gn,xn,An=["ammProps","t"],yn=Object(q.a)("common")((function(e){e.ammProps;var t=e.t,n=(Object(G.a)(e,An),function(){var e=b.a.useState([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(we.d)(),r=c.ammMap,o=c.status,i=(c.errorMessage,c.statusUnset),s=c.updateAmmMap,d=Object(Ee.c)().coinMap,p=Object(sn.b)(),m=p.ammActivityMap,j=p.status,O=(p.errorMessage,p.statusUnset),h=p.updateAmmActivityMap,v=Object(Wt.b)(),g=v.tickerMap,x=v.status,A=(v.errorMessage,v.statusUnset),y=v.updateTickers,T=b.a.useCallback((function(){try{var e=Y(m),t=[];for(var n in m)r&&d&&(e[n]=Object(l.a)(Object(l.a)({},Y(r[n])),{},{coinAInfo:d[r[n].coinA],coinBInfo:d[r[n].coinB],activity:e[n],tradeFloat:g&&g[n]}),t.push(e[n]));a(t)}catch(c){throw new f.c(Object(l.a)(Object(l.a)({},f.e.NO_TOKEN_MAP),{},{options:c}))}}),[m,g,r,d]),C=b.a.useCallback((function(){m&&Object.keys(m).length>0&&y(Object.keys(m))}),[m,y]);return b.a.useEffect((function(){switch(x){case"ERROR":console.log("ERROR","get ticker error,ui"),A();break;case"PENDING":break;case"DONE":A(),T()}}),[x,A,T]),b.a.useEffect((function(){switch(j){case"ERROR":console.log("ERROR","get ammMap error,ui"),O();break;case Yt.a.PENDING:console.log("PENDING","get ammMap error,ui");break;case Yt.a.DONE:o!==Yt.a.PENDING&&(O(),i(),C())}}),[o,j,O,i,C]),b.a.useEffect((function(){r&&0!==Object.keys(r).length||s(),m&&0!==Object.keys(m).length?C():h()}),[]),{ammActivities:n}}().ammActivities),a=b.a.useState(0),c=Object(u.a)(a,2),r=c[0],o=c[1];return Object(H.jsxs)(te.a,{container:!0,spacing:2,children:[Object(H.jsx)(te.a,{item:!0,xs:12,children:Object(H.jsxs)(me.a,{value:r,onChange:function(e,t){o(t)},"aria-label":"tabs switch",children:[Object(H.jsx)(je.a,{label:t("labelCurrentActivities")}),Object(H.jsx)(je.a,{label:t("labelPastActivities")})]})}),n.map((function(e,t){return Object(H.jsx)(te.a,{item:!0,xs:12,sm:6,lg:4},t)}))]})})),Tn=n(985),Cn=["t"],kn={ETH:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},LRC:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},USTD:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USTD",simpleName:"USTD",description:"",company:"USTD"}},En=[{type:p.e.add,coinA:kn.ETH,coinB:kn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:on()().add(-1,"days").toDate().getTime()},{type:p.e.remove,coinA:kn.ETH,coinB:kn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:on()().add(-100,"days").toDate().getTime()},{type:p.e.swap,coinA:kn.ETH,coinB:kn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:on()().add(-15,"days").toDate().getTime()},{type:p.e.swap,coinA:kn.ETH,coinB:kn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:on()().add(-3,"hours").toDate().getTime()},{type:p.e.swap,coinA:kn.ETH,coinB:kn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:on()().add(-75,"second").toDate().getTime()}],wn=[{feeA:122,feeB:21,feeDollar:.0012,feeYuan:.0312,reward:123,rewardToken:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USDT",simpleName:"USDT",description:"",company:"USDT"},balanceA:12131,balanceB:.0012,balanceYuan:1232131,balanceDollar:232,ammDetail:{coinAInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},coinBInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},amountDollar:12,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,isNew:!0,isActivity:!1}},{feeA:122,feeB:21,feeDollar:.0012,feeYuan:.0312,reward:123,rewardToken:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USDT",simpleName:"USDT",description:"",company:"USDT"},balanceA:12131,balanceB:.0012,balanceYuan:1232131,balanceDollar:232,ammDetail:{coinAInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},coinBInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},amountDollar:12,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,isNew:!0,isActivity:!1}},{feeA:122,feeB:21,feeDollar:.0012,feeYuan:.0312,reward:123,rewardToken:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USDT",simpleName:"USDT",description:"",company:"USDT"},balanceA:12131,balanceB:.0012,balanceYuan:1232131,balanceDollar:232,ammDetail:{coinAInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},coinBInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},amountDollar:12,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,isNew:!0,isActivity:!1}},{feeA:122,feeB:21,feeDollar:.0012,feeYuan:.0312,reward:123,rewardToken:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USDT",simpleName:"USDT",description:"",company:"USDT"},balanceA:12131,balanceB:.0012,balanceYuan:1232131,balanceDollar:232,ammDetail:{coinAInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},coinBInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},amountDollar:12,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,isNew:!0,isActivity:!1}},{feeA:122,feeB:21,feeDollar:.0012,feeYuan:.0312,reward:123,rewardToken:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USDT",simpleName:"USDT",description:"",company:"USDT"},balanceA:12131,balanceB:.0012,balanceYuan:1232131,balanceDollar:232,ammDetail:{coinAInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},coinBInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},amountDollar:12,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,isNew:!0,isActivity:!1}}],_n=[{value:"24 H",key:"24 H"},{value:"1 W",key:"1 W"},{value:"ALL",key:"ALL"}],Sn=(Object(he.a)(J.a)(hn||(hn=Object(re.a)(["\n    width: 100%;\n    height: 100%;\n    flex: 1;\n"]))),Object(he.a)(te.a)(vn||(vn=Object(re.a)(["\n  position: relative;\n  width: 100%;\n  background-color: ",";\n  border-radius: ","px;\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}))),In=Object(he.a)(J.a)(gn||(gn=Object(re.a)(["\n    position: absolute;\n    z-index: 99;\n    top: ","px;\n    width: 100%;\n"])),(function(e){return e.theme.unit})),Nn=Object(he.a)(te.a)(xn||(xn=Object(re.a)(["\n  &{\n    background-color: ",";\n    ",";\n  }\n \n  ","\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})}),(function(e){var t=e.theme;return Object(p.G)({pLeft:3*t.unit,pRight:3*t.unit})})),Pn=Object(q.a)("common")((function(e){var t=e.t,n=Object(G.a)(e,Cn),a=b.a.useState("ALL"),c=Object(u.a)(a,2),r=c[0],o=c[1],i=b.a.useState(1),s=Object(u.a)(i,2),d=s[0],m=s[1],j=Object(p.cb)().currency,O=1e3,h=33,v=323,g=12,x=232,A=35,y=b.a.useCallback((function(e){m(e)}),[]);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(Sn,{container:!0,spacing:1,padding:3,margin:0,children:[Object(H.jsxs)(te.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",item:!0,sm:3,children:[Object(H.jsx)(w.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelTotalPositionValue")}),Object(H.jsx)(w.a,{variant:"h4",marginTop:1,children:void 0===O?"N/A":j===f.b.dollar?f.j.Dollar+Object(f.q)(O):f.j.Yuan+Object(f.q)(h)})]}),Object(H.jsxs)(te.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",item:!0,sm:3,children:[Object(H.jsx)(w.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelFeeRewards")}),Object(H.jsx)(w.a,{variant:"h4",marginTop:1,children:void 0===v?"N/A":j===f.b.dollar?f.j.Dollar+Object(f.q)(v):f.j.Yuan+Object(f.q)(g)})]}),Object(H.jsxs)(te.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",item:!0,sm:3,children:[Object(H.jsx)(w.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelMiningRewards")}),Object(H.jsx)(w.a,{variant:"h4",marginTop:1,children:void 0===x?"N/A":j===f.b.dollar?f.j.Dollar+Object(f.q)(x):f.j.Yuan+Object(f.q)(A)})]})]}),Object(H.jsxs)(Sn,{container:!0,marginY:2,height:340,children:[Object(H.jsxs)(In,{display:"flex",padding:3,justifyContent:"space-between",children:[Object(H.jsx)(w.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelLiquidityValue")}),Object(H.jsx)(J.a,{marginRight:-1,children:Object(H.jsx)(p.I,Object(l.a)({exclusive:!0,size:"small"},Object(l.a)(Object(l.a)({},n),{},{t:t,data:_n,value:r,setValue:o})))})]}),Object(H.jsx)(p.C,{type:p.j.Trend,data:[]})]}),Object(H.jsx)(w.a,{paddingLeft:2,variant:"h4",children:t("labelMyAmm")}),Object(H.jsx)(Nn,{container:!0,marginY:2,paddingY:2,flex:1,height:568,children:Object(H.jsx)(te.a,{item:!0,xs:12,display:"flex",flexDirection:"column",children:Object(H.jsx)(Tn.a,{rawData:wn,pagination:{pageSize:5},handleDeposit:function(e){console.log()},handleWithdraw:function(e){console.log()},handlePageChange:function(){}})})}),Object(H.jsx)(w.a,{paddingLeft:2,variant:"h4",children:t("labelMyAmmRecord")}),Object(H.jsx)(Nn,{container:!0,marginY:2,paddingY:2,flex:1,children:Object(H.jsx)(te.a,{item:!0,xs:12,display:"flex",flexDirection:"column",children:Object(H.jsx)(p.d,{rawData:En,handlePageChange:y,page:d})})})]})})),Dn=f.v,Rn=Object(q.a)(["layout","common"],{withRef:!0})(p.E),Mn=function(){var e,t,n=Object(s.h)(["/liquidity/:item",":next/"]),a=null!==(e=null===n||void 0===n?void 0:n.params.item)&&void 0!==e?e:"pools",c=Object(s.h)(["/liquidity/:item/:next/:symbol"]),r=void 0;return c&&(null===c||void 0===c||null===(t=c.params)||void 0===t?void 0:t.next)&&"pools"===c.params.item&&(r=c.params.symbol?c.params.symbol:"LRC-ETH"),Object(H.jsxs)(H.Fragment,{children:[r&&Object(H.jsx)(J.a,{display:"flex",flexDirection:"column",flex:1,alignSelf:"flex-start",children:Object(H.jsx)(On,{})}),!r&&Object(H.jsxs)(H.Fragment,{children:["  ",Object(H.jsx)(J.a,{width:"200px",display:"flex",justifyContent:"stretch",marginRight:3,children:Object(H.jsx)(p.D,{children:Object(H.jsx)(Rn,{selected:a,subMenu:Dn})})}),Object(H.jsxs)(J.a,{minHeight:420,display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",marginTop:0,flex:1,children:["pools"===a&&!r&&Object(H.jsx)(Zt,{}),"amm-mining"===a&&!r&&Object(H.jsx)(yn,{}),"my-liquidity"===a&&!r&&Object(H.jsx)(Pn,{}),"orderBook-Mining"===a&&Object(H.jsx)(yn,{})]})]})]})};t.a=function(){return Object(H.jsxs)(i.a,{children:[Object(H.jsx)(Z,{}),Object(H.jsx)(et.a,{maxWidth:"lg",style:{minHeight:"calc(100% - 64px - 32px)",display:"flex",flexDirection:"column"},children:Object(H.jsx)(J.a,{display:"flex",flex:1,alignItems:"stretch",flexDirection:"row",marginTop:3,children:Object(H.jsxs)(s.c,{children:[Object(H.jsx)(s.a,{exact:!0,component:qe,path:"/"}),Object(H.jsx)(s.a,{exact:!0,component:ce,path:"/markets"}),Object(H.jsx)(s.a,{component:qe,path:"/trading/lite"}),Object(H.jsx)(s.a,{component:qe,path:"/trading/lite(/:symbol)"}),Object(H.jsx)(s.a,{exact:!0,component:Vt,path:"/layer2"}),Object(H.jsx)(s.a,{exact:!0,component:Vt,path:"/layer2/assets"}),Object(H.jsx)(s.a,{exact:!0,component:Vt,path:"/layer2/transactions"}),Object(H.jsx)(s.a,{exact:!0,component:Vt,path:"/layer2/trades"}),Object(H.jsx)(s.a,{exact:!0,component:Vt,path:"/layer2/orders"}),Object(H.jsx)(s.a,{exact:!0,component:Vt,path:"/layer2/setting"}),Object(H.jsx)(s.a,{exact:!0,component:Mn,path:"/liquidity"}),Object(H.jsx)(s.a,{exact:!0,component:Mn,path:"/liquidity/pools/*"}),Object(H.jsx)(s.a,{exact:!0,component:Mn,path:"/liquidity/pools"}),Object(H.jsx)(s.a,{exact:!0,component:Mn,path:"/liquidity/amm-mining"}),Object(H.jsx)(s.a,{exact:!0,component:Mn,path:"/liquidity/my-liquidity"}),Object(H.jsx)(s.a,{exact:!0,component:Mn,path:"/liquidity/orderBook-Mining"}),Object(H.jsx)(s.a,{exact:!0,component:Mn,path:"/liquidity/maker-rebates"}),Object(H.jsx)(tt.a,{children:Object(H.jsx)(s.a,{exact:!0,path:"/debug",children:Object(H.jsx)($e,{})})})]})})})]})}}},[[1869,9,4,2,3,1,8,5,6]]]);
//# sourceMappingURL=main~a97bfcba.ed494a87.chunk.js.map