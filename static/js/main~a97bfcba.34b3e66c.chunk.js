(this["webpackJsonp@loopring-web/webapp"]=this["webpackJsonp@loopring-web/webapp"]||[]).push([[7],{112:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,c=n(13),r=n(15);!function(e){e.Handler="handler",e.AccountId="account_id",e.Account="account",e.Apikey="apikey",e.Eddsakey="eddsakey",e.ActiveTime="active_time",e.AmmOrder="amm_order",e.HardwareAddresses="hardware_addresses"}(a||(a={}));var o=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,null,[{key:"getHandler",value:function(){var e=sessionStorage.getItem(a.Handler);try{if(void 0!==e&&null!==e)return parseInt(e)}catch(t){}}},{key:"setHandler",value:function(e){sessionStorage.setItem(a.Handler,e)}},{key:"clearHandler",value:function(){sessionStorage.removeItem(a.Handler)}},{key:"checkTimeout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=localStorage.getItem(a.ActiveTime),n=(new Date).getTime();if(null===t||e)e&&console.log("force reset!!"),localStorage.setItem(a.ActiveTime,n.toString());else{var c=new Date(parseInt(t));if(n-c.getTime()>6e5)return console.log("TIMEOUT! now:".concat(n," dateTimeStr:").concat(t," delta:").concat(n-c.getTime())),sessionStorage.clear(),localStorage.setItem(a.ActiveTime,n.toString()),!0}return!1}},{key:"getAccountId",value:function(){var e=sessionStorage.getItem(a.AccountId);try{if(e)return parseInt(e)}catch(t){}}},{key:"setAccountId",value:function(e){sessionStorage.setItem(a.AccountId,e.toString())}},{key:"getAccount",value:function(){return sessionStorage.getItem(a.Account)}},{key:"setAccount",value:function(e){sessionStorage.setItem(a.Account,e)}},{key:"getApikey",value:function(){return sessionStorage.getItem(a.Apikey)}},{key:"setApikey",value:function(e){sessionStorage.setItem(a.Apikey,e)}},{key:"getEddsakey",value:function(){return sessionStorage.getItem(a.Eddsakey)}},{key:"setEddsakey",value:function(e){sessionStorage.setItem(a.Eddsakey,e)}},{key:"getAmmOrder",value:function(){var e=localStorage.getItem(a.AmmOrder);return e||""}},{key:"setAmmOrder",value:function(e){localStorage.setItem(a.AmmOrder,e)}},{key:"clearAmmOrder",value:function(){localStorage.removeItem(a.AmmOrder)}},{key:"isHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);return!(!t||!t.includes(e.toLowerCase()))}},{key:"saveHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);if(t){if(!0!==t.includes(e.toLowerCase())){var n=t+","+e.toLowerCase();localStorage.setItem(a.HardwareAddresses,n)}}else localStorage.setItem(a.HardwareAddresses,e.toLowerCase())}}]),e}()},113:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return j})),n.d(t,"i",(function(){return m}));var a=n(111),c=n(55),r=n(39),o=n(112),s=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_ACCOUND_ID?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_ACCOUND_ID:o.a.getAccountId(),t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_API_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_API_KEY:o.a.getApikey(),n=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_OWNER?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_OWNER:o.a.getAccount(),a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_EDDSA_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_EDDSA_KEY:o.a.getEddsakey();return console.log("defaultApiKey:",JSON.stringify(t)),{accAddr:n,status:r.b.UNCONNNECTED,accountId:e,publicKey:{},nonce:0,isContractAddress:!1,apiKey:t,eddsaKey:a,connectName:c.b.Unknown,connectNameTemp:c.b.Unknown}},i=Object(a.c)({name:"account",initialState:s(),reducers:{reset:function(e){var t=s();console.log("!!! reset account!",t),Object.assign(e,t)},setAccAddr:function(e,t){e.accAddr=t.payload},setAccountInfo:function(e,t){e.accAddr=t.payload.owner,e.accountId=t.payload.accountId,e.nonce=t.payload.nonce,e.publicKey=t.payload.publicKey},setApikey:function(e,t){e.apiKey=t.payload},setAccountStatus:function(e,t){e.status=t.payload},setEddsaKey:function(e,t){e.eddsaKey=t.payload},setConnectName:function(e,t){e.connectName=t.payload},setConnectNameTemp:function(e,t){e.connectNameTemp=t.payload},setIsContractAddress:function(e,t){e.isContractAddress=t.payload}}}),l=i.actions,u=l.reset,d=l.setAccAddr,b=l.setApikey,O=l.setConnectName,p=l.setConnectNameTemp,f=l.setAccountInfo,j=l.setAccountStatus,m=l.setEddsaKey;l.setIsContractAddress;t.a=i},1862:function(e,t,n){"use strict";n.r(t);var a=n(81),c=n(126),r=n.n(c),o=n(923),s=n(165),i=n(237),l=n(626),u=n(55),d=n(20),b=n(1965),O=n(189),p=n(1949),f=n(116),j=n(1950),m=n(1),h=Object(s.c)(u.c),v=[Object(d.provider)(O.b,{dateAdapter:p.a}),Object(d.provider)(j.a,{i18n:d.i18n}),Object(d.provider)(b.a,{theme:Object(d.getTheme)("dark")}),Object(d.provider)(f.c,{theme:Object(d.getTheme)("dark")}),Object(d.provider)(a.a,{store:i.a})];r.a.render(Object(m.jsx)(d.ProviderComposer,{providers:v,children:Object(m.jsx)(s.b,{getLibrary:l.a,children:Object(m.jsx)(h,{getLibrary:l.a,children:Object(m.jsx)(o.a,{})})})}),document.getElementById("root"))},237:function(e,t,n){"use strict";var a=n(49),c=n(195),r=n(111),o=(n(81),n(614)),s=n(958),i=n(959),l=Object(r.b)("global/updateVersion"),u=n(113),d={status:n(350).a.NORMAL},b=Object(r.c)({name:"system",initialState:d,reducers:{setSystemStatus:function(e,t){e.status=t.payload}}}),O=(b.actions.setSystemStatus,b),p=n(349),f=function(){return(new Date).getTime()},j={},m=Object(r.c)({name:"transactions",initialState:j,reducers:{reset:function(e){Object.assign(e,j)},addTransaction:function(e,t){var n,a,c=t.payload,r=c.chainId,o=c.from,s=c.hash,i=c.approval,l=c.summary,u=c.claim;if(null===(n=e[r])||void 0===n?void 0:n[s])throw Error("the existing TX can't be added again");(null!==(a=e[r])&&void 0!==a?a:{})[s]={hash:s,approval:i,summary:l,claim:u,from:o,addedTime:f()}},clearAllTransactions:function(e,t){var n=t.payload;e[n]&&(e[n]={})},checkedTransaction:function(e,t){var n,a=t.payload,c=a.chainId,r=a.hash,o=a.blockNumber,s=null===(n=e[c])||void 0===n?void 0:n[r];s&&(s.lastCheckedBlockNumber?s.lastCheckedBlockNumber=Math.max(o,s.lastCheckedBlockNumber):s.lastCheckedBlockNumber=o)},finalizeTransaction:function(e,t){var n,a=t.payload,c=a.chainId,r=a.hash,o=a.receipt,s=null===(n=e[c])||void 0===n?void 0:n[r];s&&(s.receipt=o,s.confirmedTime=f())}}}),h=m.actions,v=(h.reset,h.addTransaction,h.clearAllTransactions,h.checkedTransaction,h.finalizeTransaction,m),g=n(30),A=Object(s.a)(),T=Object(c.b)({account:u.a.reducer,settings:g.settingsSlice.reducer,system:O.reducer,trading:p.a.reducer,transactions:v.reducer,modals:g.modalsSlice.reducer}),x=["settings"],C=Object(r.a)({reducer:T,middleware:[].concat(Object(a.a)(Object(r.d)({thunk:!1})),[Object(o.save)({states:x}),A]),devTools:!1,enhancers:[i.reduxBatch],preloadedState:Object(o.load)({states:x})});C.dispatch(l());t.a=C},349:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return O}));var a,c=n(111);!function(e){e.min1="1min",e.min5="5min",e.min15="15min",e.min30="30min",e.hr1="1hr",e.hr2="2hr",e.hr4="4hr",e.hr12="12hr",e.d1="1d",e.w1="1w"}(a||(a={}));var r=function(e){var t=e.indexOf("-");return{symbol_base:e.substr(t+1),symbol_quote:e.substr(0,t)}},o="LRC-ETH",s=r(o),i={symbol:o,symbol_base:s.symbol_base,symbol_quote:s.symbol_quote,interval:"4hr",markets:[],tokens:{},refreshRate:1e3,refreshRateSlow:3e3,wsApiKey:""},l=Object(c.c)({name:"trading",initialState:i,reducers:{changeSymbol:function(e,t){e.symbol=t.payload;var n=r(e.symbol),a=n.symbol_base,c=n.symbol_quote;e.symbol_base=a,e.symbol_quote=c},changeTradingInterval:function(e,t){e.interval=t.payload},setWsApiKey:function(e,t){e.wsApiKey=t.payload},setMarkets:function(e,t){e.markets=t.payload},setTokens:function(e,t){e.tokens=t.payload},setExchangeInfo:function(e,t){e.exchangeInfo=t.payload}}}),u=l.actions,d=(u.changeSymbol,u.changeTradingInterval,u.setWsApiKey,u.setMarkets),b=u.setTokens,O=u.setExchangeInfo;t.a=l},350:function(e,t,n){"use strict";var a,c,r,o;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),function(e){e.dark="dark",e.light="light"}(a||(a={})),function(e){e.en="en_US",e.cn="zh_CN"}(c||(c={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ERROR=1]="ERROR",e[e.UNKNOWN=2]="UNKNOWN"}(r||(r={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.WALLET=2]="WALLET"}(o||(o={}))},39:function(e,t,n){"use strict";var a,c;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return r})),function(e){e.UNKNOWN="UNKNOWN",e.UNCONNNECTED="UNCONNNECTED",e.CONNECTED="CONNECTED",e.NOACCOUNT="NOACCOUNT",e.DEPOSITING="DEPOSITING",e.DEPOSIT_TO_CONFIREM="DEPOSIT_TO_CONFIREM",e.UNACTIVATED="UNACTIVATED",e.ARPROVING="ARPROVING",e.APPROV_TO_CONFIRM="APPROV_TO_CONFIRM",e.LOCKED="LOCKED",e.ACTIVATED="ACTIVATED"}(a||(a={})),function(e){e.Reset="Reset",e.Connecting="Connecting",e.HasPubkey="HasPubkey",e.HasNoPubkey="HasNoPubkey",e.ErrorResponse="ErrorResponse",e.FinishDeposit="FinishDeposit",e.DepositConfirmed="DepositConfirmed",e.IsSmartWallet="IsSmartWallet",e.ApproveSubmit="ApproveSubmit",e.ApproveConfirmed="ApproveConfirmed",e.Unlock="Unlock",e.Lock="Lock"}(c||(c={}));var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.UNCONNNECTED;return{initialState:e,states:{UNCONNNECTED:{Connecting:a.CONNECTED,Reset:a.UNCONNNECTED},CONNECTED:{HasPubkey:a.LOCKED,HasNoPubkey:a.UNACTIVATED,ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},NOACCOUNT:{ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},DEPOSITING:{FinishDeposit:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},DEPOSIT_TO_CONFIREM:{HasPubkey:a.ACTIVATED,HasNoPubkey:a.DEPOSIT_TO_CONFIREM,ErrorResponse:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},UNACTIVATED:{IsSmartWallet:a.ARPROVING,Reset:a.UNCONNNECTED},ARPROVING:{ApproveSubmit:a.APPROV_TO_CONFIRM,Reset:a.UNCONNNECTED},APPROV_TO_CONFIRM:{ApproveConfirmed:a.ACTIVATED,Reset:a.UNCONNNECTED},LOCKED:{Unlock:a.ACTIVATED,Reset:a.UNCONNNECTED},ACTIVATED:{Lock:a.LOCKED,Reset:a.UNCONNNECTED}}}}},399:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(65),c=n(81),r=n(66),o=n(349);function s(){var e=Object(c.c)((function(e){return e.trading}));return{tradingInfo:e,exchangeInfo:e.exchangeInfo}}function i(){var e=Object(c.b)(),t=Object(a.b)();Object(r.a)((function(){t&&t.getExchangeInfo().then((function(t){e(Object(o.b)(t.exchangeInfo))}),(function(e){console.log(e)}))}),[t])}},407:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return k}));var a,c=n(54),r=n(0),o=n.n(r),s=n(112),i=n(87),l=n(399),u=n(1);!function(e){e.Click="click",e.Scroll="scroll",e.Mouseover="mouseover"}(a||(a={}));var d=[a.Click,a.Scroll],b=Object(c.debounce)((function(){s.a.checkTimeout(!0)}),100),O=function(e){var t=e.children;return Object(l.b)(),Object(i.b)(),Object(r.useEffect)((function(){return d.forEach((function(e){document.addEventListener(e,b)})),function(){d.forEach((function(e){document.removeEventListener(e,b)}))}}),[]),Object(u.jsx)(o.a.Fragment,{children:t})},p=n(7),f=n(266),j=n(939),m=n(165),h=n(152),v=n(163),g=n(113),A=n(55),T=n(81),x=n(39);var C=Object(f.a)("div",{target:"e1vtmr5h1"})({name:"17nbj0f",styles:"display:flex;align-items:center;justify-content:center;height:20rem"}),_=Object(f.a)("h2",{target:"e1vtmr5h0"})("color:",(function(e){return e.theme.colorBase.error}),";");function E(e){var t=e.children,n=Object(j.a)().t,a=Object(m.d)().active,c=Object(m.d)(A.c),o=c.active,s=c.error,i=c.activate,l=Object(v.b)();Object(r.useEffect)((function(){!l||o||s||a||i(h.d)}),[l,o,s,i,a]);var d=Object(T.b)();Object(v.d)((function(){console.log("onReConnectInjected"),d(Object(g.b)()),d(Object(g.e)(x.b.UNCONNNECTED))}),!l);var b=Object(r.useState)(!1),O=Object(p.a)(b,2),f=O[0],E=O[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){E(!0)}),600);return function(){clearTimeout(e)}}),[]),l?!a&&s?Object(u.jsx)(C,{children:Object(u.jsx)(_,{children:n("unknownError")})}):a||o?t:f?Object(u.jsx)(C,{}):null:null}var k=function(e){e.children;return Object(u.jsx)(o.a.Fragment,{children:null})}},87:function(e,t,n){"use strict";n.d(t,"f",(function(){return S})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return B}));var a,c=n(5),r=n.n(c),o=n(22),s=n(7),i=n(0),l=n(81),u=n(66),d=n(399),b=n(163),O=n(39),p=n(109),f=n(16),j=n(55),m=n(152),h=(a={},Object(f.a)(a,j.b.Unknown,void 0),Object(f.a)(a,j.b.Injected,m.b),Object(f.a)(a,j.b.Network,m.d),Object(f.a)(a,j.b.WalletConnect,m.f),Object(f.a)(a,j.b.WalletLink,m.g),Object(f.a)(a,j.b.Ledger,m.c),Object(f.a)(a,j.b.Trezor,m.e),Object(f.a)(a,j.b.Authereum,m.a),a),v=n(113),g=n(955),A=n.n(g),T=n(1941),x=n(309),C=n.n(x),_=n(65),E=n(29),k=n(85),y=n(112),I=n(237);function S(){var e=Object(b.a)(),t=e.connector,n=e.library,a=e.account,c=e.chainId,r=e.active,o=e.error;return{account:a,connector:t,library:n,chainId:c,active:r,isConnected:r&&!A.a.isBlank(a),error:o}}function P(){var e=Object(l.c)((function(e){return e.account}));return{account:e,isNoAccount:function(){return e.status===O.b.NOACCOUNT},isActivated:function(){return e.status===O.b.ACTIVATED},apiKey:e.apiKey,eddsaKey:e.eddsaKey,accountId:e.accountId}}function R(){var e,t=Object(l.b)(),n=(e=Object(O.a)(),function(t,n){var a=e.states[t];if(void 0===a)throw new Error("No transitions defined for ".concat(t));var c=a[n];if(void 0===c)throw new Error("Unknown transition for event ".concat(n," in state ").concat(t));return console.log("got nextState:",c),c});return{sendEvent:Object(i.useCallback)((function(e,a){var c=n(e.status,a);c&&t(Object(v.e)(c))}),[n,t])}}function N(){var e=Object(b.a)().activate,t=R().sendEvent,n=Object(l.b)(),a=Object(i.useState)(),c=Object(s.a)(a,2),r=c[0],o=c[1];return{connect:Object(i.useCallback)((function(a){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=h[a];o(r),e(r),n(Object(v.h)(a)),c&&(console.log("try Connecting... isSwitch Reset"),t(I.a.getState().account,O.c.Reset)),t(I.a.getState().account,O.c.Connecting),console.log("try Connecting...")}),[e,n,t]),activatingConnector:r}}function D(){var e=Object(b.a)().deactivate,t=Object(l.b)();return{disconnect:Object(i.useCallback)((function(){e(),t(Object(v.b)())}),[e,t])}}function w(){var e=Object(l.b)(),t=Object(_.b)(),n=Object(_.c)(),a=Object(d.a)().exchangeInfo,c=S().connector,s=R().sendEvent;return{lock:Object(i.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("useCallback lock:",t.status),s(t,O.c.Lock);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),unlock:Object(i.useCallback)(function(){var i=Object(o.a)(r.a.mark((function o(i){var l,u,d,b,f,j,m;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n&&t&&c&&i.accountId&&(null===a||void 0===a?void 0:a.exchangeAddress)&&i.status===O.b.LOCKED){r.next=5;break}return console.log("accountId:",i.accountId),console.log("exchangeAddress:",a),console.log("enter !! account.status:",i.status),r.abrupt("return");case 5:if(console.log("useUnlock useCallback:",i.status),i.status===O.b.LOCKED){r.next=8;break}throw Error("unexpected status:"+i.status);case 8:return u=void 0,d=void 0,b=void 0,r.prev=11,r.next=14,c.getProvider();case 14:if(f=r.sent,j=new C.a(f),console.log("useUnlock eddsaKey:",i.eddsaKey),i.eddsaKey){r.next=24;break}return r.next=20,p.b(j,i.accAddr,null===a||void 0===a?void 0:a.exchangeAddress,i.nonce-1,i.connectName);case 20:m=r.sent,d=Object(E.h)(Object(E.e)(m.keyPair.secretKey)),r.next=25;break;case 24:d=i.eddsaKey;case 25:return r.next=27,n.getUserApiKey({accountId:i.accountId},d);case 27:b=r.sent,console.log("useUnlock apikey:",b),u=O.c.Unlock,r.next=35;break;case 32:r.prev=32,r.t0=r.catch(11),u=O.c.Reset;case 35:d&&e(Object(v.i)(d)),(null===(l=b)||void 0===l?void 0:l.apiKey)&&e(Object(v.f)(b.apiKey)),console.log("next event:",u),u&&s(i,u);case 39:case"end":return r.stop()}}),o,null,[[11,32]])})));return function(e){return i.apply(this,arguments)}}(),[e,s,t,n,c,a])}}function B(){var e=Object(l.b)(),t=P().account,n=R().sendEvent,a=Object(_.b)(),c=Object(_.c)(),s=S(),i=s.account,b=s.active,p=s.isConnected,f=s.chainId,m=s.connector,h=i,g=Object(T.a)(f),A=Object(T.a)(i),x=Object(d.a)().exchangeInfo;Object(u.a)(Object(o.a)(r.a.mark((function s(){var l,u;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return u=function(){return(u=Object(o.a)(r.a.mark((function o(){var s,u;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&h&&a&&c&&m&&(null===x||void 0===x?void 0:x.exchangeAddress)){r.next=3;break}return console.log("checkStatus return!!!!!!"),r.abrupt("return");case 3:if(!(g&&f&&g!==f||A&&i&&A!==i)||t.status===O.b.UNCONNNECTED){r.next=8;break}return console.log("checkStatus try to resetFunc"),e(Object(v.b)()),n(t,O.c.Reset),r.abrupt("return");case 8:l(),r.t0=t.status,r.next=r.t0===O.b.UNCONNNECTED?12:r.t0===O.b.CONNECTED?15:r.t0===O.b.NOACCOUNT?31:r.t0===O.b.DEPOSITING?32:r.t0===O.b.DEPOSIT_TO_CONFIREM?35:r.t0===O.b.UNACTIVATED?36:r.t0===O.b.ARPROVING?39:r.t0===O.b.APPROV_TO_CONFIRM?42:r.t0===O.b.LOCKED?45:r.t0===O.b.ACTIVATED?46:50;break;case 12:return console.log("---\x3e render UNCONNNECTED active:",b," isConnected:",p),p&&(e(Object(v.h)(j.b.Injected)),n(t,O.c.Connecting)),r.abrupt("break",51);case 15:return console.log("---\x3e render CONNECTED account:",t),r.prev=16,r.next=19,a.getAccount({owner:h});case 19:s=r.sent,t.accAddr&&t.eddsaKey&&s.owner===t.accAddr?console.log("cur Eddsakey:",t.eddsaKey):(console.log("got a new address:",s),e(Object(v.d)(s))),(null===t||void 0===t?void 0:t.connectName)!==(null===t||void 0===t?void 0:t.connectNameTemp)&&e(Object(v.g)(t.connectNameTemp)),n(t,O.c.HasPubkey),r.next=30;break;case 25:r.prev=25,r.t1=r.catch(16),Object(k.a)(r.t1),h&&e(Object(v.c)(h)),101002===r.t1.response.data.resultInfo.code&&n(t,O.c.ErrorResponse);case 30:case 31:return r.abrupt("break",51);case 32:return!0,console.log("depositFinished currStatus:",t.status),n(t,O.c.FinishDeposit),r.abrupt("break",51);case 35:return r.abrupt("break",51);case 36:return!1,console.log("approve hash no smartwallet, account.status:",t.status),r.abrupt("break",51);case 39:return!1,r.abrupt("break",51);case 42:return!1,r.abrupt("break",51);case 45:return r.abrupt("break",51);case 46:return y.a.checkTimeout(!0),u=setInterval((function(){var e=y.a.checkTimeout();t.status===O.b.ACTIVATED&&e&&(clearInterval(u),n(t,O.c.Lock))}),1e3),y.a.setHandler(u),r.abrupt("break",51);case 50:return r.abrupt("break",51);case 51:case"end":return r.stop()}}),o,null,[[16,25]])})))).apply(this,arguments)},l=function(){var e=y.a.getHandler();t.status!==O.b.ACTIVATED&&e&&clearInterval(e)},function(){return u.apply(this,arguments)}(),s.abrupt("return",(function(){l()}));case 5:case"end":return s.stop()}}),s)}))),[a,c,t,g,f,h,e,m,null===x||void 0===x?void 0:x.exchangeAddress])}},980:function(e,t,n){"use strict";var a=n(136),c=n(99),r=n(4),o=n(0),s=n.n(o),i=n(30),l=n(33),u=n(1885),d=n(1964),b=n(1888),O=n(101),p=n(5),f=n.n(p),j=n(22),m=n(7),h=n(939),v=n(506),g=n(87);var A=n(39),T=n(66),x=n(350),C=n(237),_=n(55),E=n(273),k=n(163),y=n(81);function I(){var e=Object(y.b)(),t=Object(h.a)("common").t;return{ShowDeposit:Object(o.useCallback)((function(n){var a=C.a.getState().account.status===A.b.NOACCOUNT;console.log("isNoAccount: ",a,t("depositTitleAndActive"));var c={isShow:n,props:{title:t(a?"depositTitleAndActive":"depositTitle")}};e(Object(i.setShowDeposit)(c))}),[e]),ShowTransfer:Object(o.useCallback)((function(t){return e(Object(i.setShowTransfer)({isShow:t}))}),[e]),ShowWithdraw:Object(o.useCallback)((function(t){return e(Object(i.setShowWithdraw)({isShow:t}))}),[e]),ShowResetAccount:Object(o.useCallback)((function(t){return e(Object(i.setShowResetAccount)({isShow:t}))}),[e])}}var S,P=n(309),R=n.n(P),N=n(65),D=n(29),w=n(103),B=n.n(w),L=n(467),U=1e4;!function(e){e.Normal="Normal",e.EmptyInput="EmptyInput",e.ExceedUserBalance="ExceedUserBalance",e.ExceedPoolBalance="ExceedPoolBalance",e.Loading="Loading"}(S||(S={}));var M=function(e,t,n,a){var c=S.Normal;e=new B.a(e),t=new B.a(t),n=new B.a(n),a=new B.a(a);var r=new B.a(0);return e.gt(t)?c=S.ExceedUserBalance:n.gt(a)?c=S.ExceedPoolBalance:(e.eq(r)||n.eq(r))&&(c=S.EmptyInput),{isNormal:c===S.Normal}};function F(e,t){var n=t[e];if(n){var a=L.utils.getAddress(n.address);return"https://exchange.loopring.io/assets/images/ethereum/assets/".concat(a,"/logo.png")}return""}var K=function(e,t,n){if(e){var a=e[t].tokenList,c={};if(a)return a.forEach((function(e){c[e]={icon:F(e,n),name:e,simpleName:e,description:"",company:""}})),{right:a,coinMapRight:c}}},W=function(e,t){if(!e)throw Error("no tokens list!");return e[t]},H=function(e,t,n){var a=W(t,n),c=e.pooledMap[a.tokenId].volume;return{tokenInfo:a,tokenVol:c,reserve:D.e(c)}},V=function(e,t){if(!e||!t)return{key:void 0,key_bak:void 0,isOK:!1};return{key:"AMM-"+e+"-"+t,key_bak:"AMM-"+t+"-"+e,isOK:!0}},Y=function(e,t){var n=t.key,a=t.key_bak;return e[n]?e[n]:e[a]},G=function(e,t,n,a,c){var r=q(e,t,n,a),o=r.ammInfo,s=r.ammBalance,i=W(c,n),l=W(c,a);return{ammInfo:o,ammBalance:s,baseBalance:s.pooledMap[i.tokenId],quoteBalance:s.pooledMap[l.tokenId]}},q=function(e,t,n,a){var c=V(n,a),r=Y(e,c),o=Y(t,c);if(!r||!o)throw Error("no ammInfo! no ammBalance!");return{ammInfo:r,ammBalance:o,feeBips:parseInt(r.feeBips)}},z=function(e,t){return void 0===e&&(e=0),D.e(e).times("1e"+t.decimals)},X=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,c=W(e,t),r=1e7,o=D.e(r*(1-a)),s=D.e(n).times("1e"+c.decimals),i=s.times(o).dividedBy(r),l=Q(e,t,i);return{outInWei:i,out:l}},J=function(e,t,n,a){var c=W(e,t),r=D.e(U-a);return D.e(n).times("1e"+c.decimals).times(r).dividedBy(U)};function Q(e,t,n,a,c){try{var r=W(e,t),o=a||r.precision,s=D.e(n).div("1e"+r.decimals);return D.g(s,o,c)}catch(i){return 0}}function $(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,c=W(e,t);return"undefined"===typeof c?0:D.e(n).times("1e"+c.decimals).toFixed(0,a)}var Z=n(200);function ee(){var e=Object(o.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(N.b)();return Object(Z.a)((function(){if(c)return c.getExchangeInfo()}),a,"exchangeInfo","useGetExchangeInfo",[c]),{exchangeInfo:n}}function te(){var e=Object(o.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(N.b)();return Object(Z.a)((function(){if(c)return c.getTokens()}),a,void 0,"useGetTokens",[c]),{tokens:n}}var ne=n(501),ae=n(85),ce=n(166);n(338);function re(e){var t=Object(N.c)(),n=Object(o.useState)(void 0),a=Object(m.a)(n,2),c=a[0],r=a[1],s=Object(g.a)(),i=s.apiKey,l=s.accountId;return Object(T.a)((function(){if(t&&i&&l&&e){var n=[],a=Reflect.ownKeys(e),c={};a.forEach((function(t){var a=e[t];n.push(a.tokenId),c[a.tokenId]=a})),t.getUserBalances({accountId:l,tokens:n.join(",")},i).then((function(t){var n={map:c,tokenId:{},symbol:{}};t.forEach((function(a){var r=D.e(a.total),o=D.e(a.locked),s=r.minus(o);console.log("item:",a);var i=c[a.tokenId];t[0].total,t[0].locked,s.toString(),Q(e,i.symbol,s);n.tokenId[a.tokenId]=s.toString(),n.symbol[i.symbol]=s.toString()})),r(n)})).catch((function(t){Object(ae.a)(t,"getUserBalances tokenId:"+e.tokenId)}))}}),[t,i,l,e]),{balances:c,setBalances:r}}var oe=n(1),se=function(){var e=Object(h.a)(["common","layout"]),t=e.i18n,n=e.t,a=Object(i.useSettings)(),c=a.setTheme,o=a.themeMode,u=a.language,d=a.setLanguage,b=I().ShowDeposit,O=s.a.useState(!1),p=Object(m.a)(O,2),y=p[0],S=p[1],P=s.a.useReducer((function(e){return!e}),!1)[1],R=Object(g.a)().account,N=Object(g.e)(),D=N.lock,w=N.unlock,B=(Object(g.d)().disconnect,Object(g.c)().connect),L=Object(k.c)().etherscanUrl,U=[Object(r.a)(Object(r.a)({},l.gatewayList[0]),{},{handleSelect:function(){console.log("try to connect to ",_.b.Injected),B(_.b.Injected,!0),S(!1)}})],M=s.a.useState(void 0),F=Object(m.a)(M,2),K=F[0],W=F[1],H=s.a.useCallback(Object(j.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onNotification click");case 1:case"end":return e.stop()}}),e)}))),[]),V=s.a.useCallback(Object(j.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=C.a.getState().account,console.log("onWalletBtnConnent click: ".concat(t.status)),e.t0=t.status,e.next=e.t0===A.b.NOACCOUNT?5:e.t0===A.b.UNCONNNECTED?7:e.t0===A.b.LOCKED?9:e.t0===A.b.ACTIVATED?13:17;break;case 5:return b(!0),e.abrupt("break",18);case 7:return S(!0),e.abrupt("break",18);case 9:return console.log("onWalletBtnConnent try to unlock"),e.next=12,w(t);case 12:return e.abrupt("break",18);case 13:return console.log("onWalletBtnConnent try to lock"),e.next=16,D(t);case 16:case 17:return e.abrupt("break",18);case 18:case"end":return e.stop()}}),e)}))),[S,D,w]),Y=s.a.useCallback(function(){var e=Object(j.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===x.b.dark?c(x.b.light):c(x.b.dark);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]),G=function(e){d(e)},q=s.a.useState(!!(null===R||void 0===R?void 0:R.accAddr)),z=Object(m.a)(q,2),X=z[0],J=z[1],Q=s.a.useState(!1),$=Object(m.a)(Q,2),Z=$[0],ee=$[1],te=s.a.useCallback((function(e){e.stopPropagation(),e.preventDefault(),J(!X)}),[J,X]);Object(T.a)((function(){l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(r.a)(Object(r.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{handleClick:V}),l.headerToolBarData[l.ButtonComponentsMap.Theme]=Object(r.a)(Object(r.a)({},l.headerToolBarData[l.ButtonComponentsMap.Theme]),{},{themeMode:o,handleClick:Y}),l.headerToolBarData[l.ButtonComponentsMap.Language]=Object(r.a)(Object(r.a)({},l.headerToolBarData[l.ButtonComponentsMap.Language]),{},{handleChange:G})}),[o,u,t,V,Y,G,H,n]);var ne=Object(v.a)("common")((function(e){var t=e.t;return Object(oe.jsx)(i.Button,{variant:"contained",size:"small",color:"primary",onClick:function(e){return ee(!0)},children:t("labelGoAdvance")})}));return Object(T.a)((function(){if(!R)return console.log("account"+R+"* exit"),void W(void 0);var e=R.status,t=function(e){if(e&&void 0!==e&&null!==e&&""!==e.trim())return e.substr(0,6)+"..."+e.substr(e.length-4);console.log("getShortAddr got empty!")}(null===R||void 0===R?void 0:R.accAddr);t&&K&&K.address!==t||t?W({address:t,level:"VIP 1",ethLink:L+(null===R||void 0===R?void 0:R.accAddr),mainBtn:Object(oe.jsx)(ne,{})}):t&&W(void 0);var a=function(){l.headerMenuData[l.HeadMenuTabKey.Layer2]=Object(r.a)(Object(r.a)({},l.headerMenuData[l.HeadMenuTabKey.Layer2]),{},{extender:Object(oe.jsx)(E.a,{disabled:!R,onClick:te,"aria-label":n("labelShowAccountInfo"),color:"primary",children:X?Object(oe.jsx)(l.HideIcon,{}):Object(oe.jsx)(l.ViewIcon,{})}),status:l.HeaderMenuTabStatus.default})};switch(e){case A.b.UNCONNNECTED:l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(r.a)(Object(r.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{label:"Connect Wallet",status:l.WalletStatus.default}),l.headerMenuData[l.HeadMenuTabKey.Layer2]=Object(r.a)(Object(r.a)({},l.headerMenuData[l.HeadMenuTabKey.Layer2]),{},{status:l.HeaderMenuTabStatus.hidden});break;case A.b.LOCKED:l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(r.a)(Object(r.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{label:t,status:l.WalletStatus.connect}),a();break;case A.b.ACTIVATED:l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(r.a)(Object(r.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{label:t,status:l.WalletStatus.unlock}),a();break;case A.b.UNACTIVATED:case A.b.NOACCOUNT:l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(r.a)(Object(r.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{label:t,status:l.WalletStatus.noAccount}),a();break;case A.b.DEPOSITING:case A.b.DEPOSIT_TO_CONFIREM:case A.b.ARPROVING:case A.b.APPROV_TO_CONFIRM:l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]=Object(r.a)(Object(r.a)({},l.headerToolBarData[l.ButtonComponentsMap.WalletConnect]),{},{label:t,status:l.WalletStatus.accountPending}),a()}P()}),[R,X,L,W]),{headerToolBarData:l.headerToolBarData,headerMenuData:l.headerMenuData,gatewayList:U,open:y,setOpen:S,setShowAccountInfo:J,account:R,showAccountInfo:X,accountInfoProps:K,advanceOpen:Z,setAdvanceOpen:ee}};function ie(e,t){var n=Object(N.c)(),a=Object(g.a)(),c=a.accountId,r=a.apiKey,s=Object(o.useState)([]),i=Object(m.a)(s,2),l=i[0],u=i[1];return Object(T.a)(Object(j.a)(f.a.mark((function a(){var o,s,i;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("!!!!!!!!!useCustomDCEffect useChargeFeeList:",e,c),c&&e){a.next=3;break}return a.abrupt("return");case 3:return o=[],a.prev=4,s={accountId:c,tokenSymbol:e,requestType:t},a.next=8,n.getOffchainFeeAmt(s,r);case 8:(i=a.sent)&&(i.fees.forEach((function(e,t){o.push({belong:e.token,fee:e.fee})})),u(o)),console.log("response:",i),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),Object(ae.a)(a.t0);case 16:u(o);case 17:case"end":return a.stop()}}),a,null,[[4,13]])}))),[c,r,e]),{chargeFeeList:l}}function le(){var e=I(),t=e.ShowDeposit,n=e.ShowTransfer,a=e.ShowWithdraw,c=e.ShowResetAccount,r=Object(g.f)(),s=r.chainId,u=r.isConnected,d=r.connector,b=ee().exchangeInfo,O=Object(g.a)(),p=O.account,h=O.apiKey,v=O.accountId,A=O.eddsaKey,x=te().tokens,C=null===x||void 0===x?void 0:x.tokenSymbolMap,E=Object(N.c)(),k=Object(N.b)(),y=function(e,t){var n=Object(o.useState)({}),a=Object(m.a)(n,2),c=a[0],r=a[1];return Object(T.a)(Object(j.a)(f.a.mark((function n(){var a,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t){n.next=2;break}return n.abrupt("return");case 2:a=Reflect.ownKeys(t),c={},a.forEach((function(e){e.startsWith("LP-")||(c[e]={icon:F(e,t),name:e,simpleName:e,description:"",company:""})})),r(c);case 6:case"end":return n.stop()}}),n)}))),[e,t]),{coinMap:c}}(k,C).coinMap,S=function(e,t,n){var a=Object(o.useState)({}),c=Object(m.a)(a,2),r=c[0],s=c[1];return Object(T.a)(Object(j.a)(f.a.mark((function a(){var c,r,o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t&&t.accAddr&&n){a.next=2;break}return a.abrupt("return");case 2:return c={},a.next=5,e.getTokenBalances({owner:t.accAddr,token:""},n);case 5:r=a.sent,o=r.tokenBalances,Reflect.ownKeys(o).forEach((function(e){var t=o[e];c[e]={belong:e,count:Q(n,e,t)}})),s(c);case 10:case"end":return a.stop()}}),a)}))),[e,t,n]),{walletMap:r}}(k,p,C).walletMap,P=function(e){var t=re(e).balances,n=Object(o.useState)({}),a=Object(m.a)(n,2),c=a[0],r=a[1];return Object(T.a)((function(){var n={};t&&t.symbol&&Reflect.ownKeys(t.symbol).forEach((function(a){var c=t.symbol[a];n[a]={belong:a,count:Q(e,a,c)}})),console.log("lv2:",n),r(n)}),[t,e]),{walletMap:c}}(C).walletMap,D=Object(o.useCallback)(function(){var e=Object(j.a)(f.a.mark((function e(t,n){var a,c,r,o,i,l,O,j,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C&&u&&d&&(null===b||void 0===b?void 0:b.exchangeAddress)&&(null===b||void 0===b?void 0:b.depositAddress)){e.next=3;break}return console.log("exchangeInfo:".concat(b," deposit exit!!!!!")),e.abrupt("return");case 3:return e.prev=3,a=C[t],e.next=7,d.getProvider();case 7:return c=e.sent,r=new R.a(c),o=p.connectName===_.b.Injected,o=!0,e.next=13,k.getGasPrice();case 13:return e.t0=e.sent.data,i=e.t0/1e9,l=35e4,e.next=18,ne.c(r,p.accAddr);case 18:return O=e.sent,console.log("gasPrice:",i),console.log("account.connectName:",p.connectName," tokenInfo:",a),e.next=23,ne.a(r,p.accAddr,a.address,null===b||void 0===b?void 0:b.depositAddress,i,l,s,O,o);case 23:return j=e.sent,console.log("response:",j),0,e.next=28,ne.b(r,p.accAddr,null===b||void 0===b?void 0:b.exchangeAddress,a,n,0,i,l,s,O+1,o);case 28:m=e.sent,console.log("response2:",m),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(3),Object(ae.a)(e.t1);case 35:case"end":return e.stop()}}),e,null,[[3,32]])})));return function(t,n){return e.apply(this,arguments)}}(),[s,u,d,p,b,C,k]),w=Object(o.useCallback)(function(){var e=Object(j.a)(f.a.mark((function e(t,n){var a,c,r,o,i,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("withdraw apiKey:",h," exchangeInfo:",b," exchangeAddr:",b.exchangeAddress),p&&p.accountId&&p.accAddr&&d&&s&&h&&b&&b.exchangeAddress){e.next=4;break}return console.log("return directly!!!!!",p,d,s,h,b),e.abrupt("return");case 4:return"5500000000000000000","5500000000000000000",console.log("exchangeAddress:",b.exchangeAddress),e.prev=7,a={accountId:p.accountId,sellTokenId:1},e.next=11,E.getNextStorageId(a,h);case 11:return c=e.sent,r={exchange:b.exchangeAddress,owner:p.accAddr,to:p.accAddr,accountId:p.accountId,storageId:c.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},extraData:"",minGas:0,validUntil:ce.f},e.next=15,d.getProvider();case 15:return o=e.sent,i=new R.a(o),e.next=19,E.submitOffchainWithdraw(r,i,s,_.b.Injected,p.eddsaKey,h,!1);case 19:l=e.sent,console.log(l),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),Object(ae.a)(e.t0);case 26:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t,n){return e.apply(this,arguments)}}(),[h,p,d,b,s,E]),B=Object(o.useCallback)(function(){var e=Object(j.a)(f.a.mark((function e(t){var n,a,c,r,o,i,l,u,O,j,m=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:"0xb6AdaC3e924B4985Ad74646FEa3610f14cDFB79c",d&&h&&s&&v&&(null===p||void 0===p?void 0:p.accAddr)){e.next=3;break}return e.abrupt("return");case 3:return a={accountId:v,sellTokenId:1},e.next=6,E.getNextStorageId(a,h);case 6:return c=e.sent,console.log("amt: ".concat(t," storageId:").concat(JSON.stringify(c))),e.prev=8,e.next=11,d.getProvider();case 11:return r=e.sent,o=new R.a(r),i=p.connectName,i=_.b.Injected,e.next=17,k.getAccount({owner:n});case 17:return l=e.sent,u=0,l&&(u=l.accountId),O={exchange:b.exchangeAddress,payerAddr:p.accAddr,payerId:v,payeeAddr:n,payeeId:u,storageId:c.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},validUntil:ce.f},console.log("request2:".concat(JSON.stringify(O))),e.next=24,E.submitInternalTransfer(O,o,s,i,A,h,!1);case 24:j=e.sent,console.log(j),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),Object(ae.a)(e.t0);case 31:case"end":return e.stop()}}),e,null,[[8,28]])})));return function(t){return e.apply(this,arguments)}}(),[h,v,p,d,b,s,A,E,k]),L=Object(o.useState)({belong:void 0,tradeValue:0,balance:0}),U=Object(m.a)(L,2),M=U[0],K=U[1],W={tradeData:{belong:void 0},coinMap:y,walletMap:S,depositBtnStatus:i.TradeBtnStatus.AVAILABLE,onDepositClick:function(e){console.log("1. onDepositClick",M),M&&M.belong&&D(M.belong.toString(),M.tradeValue),t(!1)},handlePanelEvent:function(){var e=Object(j.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(M!==t.tradeData&&K(t.tradeData),J(t.tradeData.belong)):K({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},H=Object(o.useState)({belong:void 0,tradeValue:0,balance:0}),V=Object(m.a)(H,2),Y=V[0],G=V[1],q=Object(o.useState)(""),z=Object(m.a)(q,2),X=z[0],J=z[1],$=ie(X,ce.b.OFFCHAIN_WITHDRAWAL).chargeFeeList,Z={tradeData:{belong:void 0},coinMap:y,walletMap:P,withdrawBtnStatus:i.TradeBtnStatus.AVAILABLE,onWithdrawClick:function(e){console.log("Swap button click",Y),Y&&Y.belong&&w(Y.belong.toString(),Y.tradeValue),a(!1)},handlePanelEvent:function(){var e=Object(j.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(Y!==t.tradeData&&G(t.tradeData),J(t.tradeData.belong)):G({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),withdrawType:l.WithdrawType.Fast,withdrawTypes:l.WithdrawTypes,chargeFeeToken:"ETH",chargeFeeTokenList:$,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},oe=Object(o.useState)({belong:void 0,tradeValue:0,balance:0}),se=Object(m.a)(oe,2),le=se[0],ue=se[1],de=Object(o.useState)(""),be=Object(m.a)(de,2),Oe=be[0],pe=be[1],fe=ie(Oe,ce.b.TRANSFER).chargeFeeList,je={tradeData:{belong:void 0},coinMap:y,walletMap:P,transferBtnStatus:i.TradeBtnStatus.AVAILABLE,onTransferClick:function(e){console.log("onTransferClick:",le),le&&le.belong&&B(le.tradeValue),n(!1)},handlePanelEvent:function(){var e=Object(j.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(le!==t.tradeData&&ue(t.tradeData),pe(t.tradeData.belong)):ue({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),chargeFeeToken:"ETH",chargeFeeTokenList:fe,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},me=Object(o.useState)({belong:void 0,tradeValue:0,balance:0}),he=Object(m.a)(me,2),ve=he[0],ge=he[1];return{depositProps:W,withdrawProps:Z,transferProps:je,resetProps:{tradeData:{belong:void 0},coinMap:y,walletMap:P,resetBtnStatus:i.TradeBtnStatus.AVAILABLE,onResetClick:function(e){console.log("onResetClick",ve),ve&&ve.belong,c(!1)},handlePanelEvent:function(){var e=Object(j.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?ve!==t.tradeData&&ge(t.tradeData):ge({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fee:{count:234,price:123}}}}var ue,de,be,Oe,pe,fe=n(34),je=n(14),me=n(19),he=n(633),ve=n(94),ge=n(1963),Ae=n(1890),Te=n(53),xe=n(509),Ce=n(1938),_e=n(116),Ee=Object(me.a)(he.a)(ue||(ue=Object(je.a)(["\n  //background: ",";\n  .MuiBackdrop-root{\n    background-color: rgba(0,0,0,.2); \n  }\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.theme.colorBase.background().default})),ke=Object(me.a)(O.a)(de||(de=Object(je.a)(["\n  ",";\n  background: ",";\n  max-height: var(--panel-setting-height);\n  max-width: var(--panel-setting-width);\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  overflow: scroll;\n  padding: ","px\n"])),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})}),(function(e){return e.theme.colorBase.background().secondary}),(function(e){return 8*e.theme.unit})),ye=Object(me.a)(ve.a)(be||(be=Object(je.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  ",";\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})})),Ie=Object(me.a)(ge.a)((function(e){var t=e.theme;return{"& .Mui-checked":{color:t.colorBase.textPrimary,"& + .MuiSwitch-track.MuiSwitch-track":{border:"solid ".concat(t.colorBase.success)},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.success}},"& .MuiSwitch-track":{border:"solid ".concat(t.colorBase.error),opacity:1},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.error}}})),Se=function(e){var t=e.t,n=e.currency,a=e.label,c=e.handleChange,r=s.a.useState(n||l.Currency.dollar),o=Object(m.a)(r,2),u=o[0],d=o[1],b=s.a.useCallback((function(e){d(e.target.value),c&&c(e.target.value)}),[c]);return Object(oe.jsxs)(i.OutlineSelect,{"aria-label":t(a),IconComponent:l.DropDownIcon,labelId:"language-selected",id:"language-selected",value:u,autoWidth:!0,onChange:b,children:[Object(oe.jsxs)(i.OutlineSelectItem,{value:l.Currency.dollar,children:["$ ",t("labelUSDollar")]}),Object(oe.jsxs)(i.OutlineSelectItem,{value:l.Currency.yen,children:["\xa5 ",t("labelCNYYuan")]})]})},Pe=Object(me.a)(Ae.a)(Oe||(Oe=Object(je.a)(["\n  margin: ","px 0 ","px 0px;\n"])),(function(e){return e.theme.unit}),(function(e){return e.theme.unit})),Re=(Object(me.a)(Ae.a)(pe||(pe=Object(je.a)(["\n  margin: 0;\n  flex: 1;\n  width: 1px;\n  height: ","px;\n  background: ",";\n"])),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.focus})),Object(v.a)(["common","layout"])((function(e){var t=e.t,n=e.i18n,a=Object(fe.a)(e,["t","i18n"]),c=Object(_e.f)(),o=Object(i.useSettings)(),s=o.setUpColor,u=o.setLanguage,d=o.setCurrency,b=o.currency,p=o.upColor,f=n.language;return Object(oe.jsxs)(ve.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",children:[Object(oe.jsx)(Te.a,{variant:"h4",component:"h3",marginY:1,paddingLeft:2,children:t("labelTitleSecurity")}),Object(oe.jsxs)(ye,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:[Object(oe.jsxs)(O.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(oe.jsx)(Te.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleResetL2Keypair")}),Object(oe.jsx)(Pe,{}),Object(oe.jsxs)(ve.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(oe.jsx)(ve.a,{item:!0,xs:8,display:"flex",flexDirection:"column",children:Object(oe.jsx)(Te.a,{variant:"body1",component:"p",children:Object(oe.jsxs)(Ce.a,{i18nKey:"resetDescription",children:["Create a new signing key for layer-2 authentication (no backup needed). This will",Object(oe.jsx)(i.TypographyStrong,{component:"span",children:"cancel all your pending orders"}),"."]})})}),Object(oe.jsx)(ve.a,{item:!0,xs:4,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(oe.jsx)(xe.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnReset")})}),Object(oe.jsx)(ve.a,{item:!0,xs:12,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:Object(oe.jsx)(Te.a,{variant:"body2",component:"p",paddingTop:1,children:t("labelHadChangPassword",{passDay:"14 hours"})})})]})]}),Object(oe.jsxs)(O.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(oe.jsx)(Te.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleExportAccount")}),Object(oe.jsx)(Pe,{}),Object(oe.jsxs)(ve.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(oe.jsx)(ve.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(oe.jsx)(Te.a,{variant:"body1",component:"p",children:t("descriptionExportAccount")})}),Object(oe.jsx)(ve.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(oe.jsxs)(ve.a,{item:!0,children:[" ",Object(oe.jsx)(xe.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnExportAccount")})]})})]})]})]}),Object(oe.jsx)(Te.a,{variant:"h4",component:"h3",marginY:1,paddingLeft:2,children:t("labelTitlePreferences")}),Object(oe.jsx)(ye,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:Object(oe.jsxs)(O.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(oe.jsx)(Te.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleLayout")}),Object(oe.jsx)(Pe,{}),Object(oe.jsxs)(ve.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(oe.jsx)(ve.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(oe.jsx)(Te.a,{variant:"body1",component:"p",children:t("labelLanguage")})}),Object(oe.jsx)(ve.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(oe.jsx)(ve.a,{item:!0,children:Object(oe.jsx)(i.BtnLanguage,Object(r.a)({},Object(r.a)(Object(r.a)({t:t},a),{},{language:f,label:"languageSetting",handleChange:function(e){u(e),n.changeLanguage(e)}})))})})]}),Object(oe.jsxs)(ve.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(oe.jsx)(ve.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(oe.jsx)(Te.a,{variant:"body1",component:"p",children:t("labelCurrency")})}),Object(oe.jsx)(ve.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(oe.jsx)(ve.a,{item:!0,children:Object(oe.jsx)(Se,Object(r.a)({},Object(r.a)(Object(r.a)({t:t},a),{},{currency:b,label:"currencySetting",handleChange:function(e){d(e)}})))})})]}),Object(oe.jsxs)(ve.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,children:[Object(oe.jsx)(ve.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(oe.jsx)(Te.a,{variant:"body1",component:"p",children:t("labelColors")})}),Object(oe.jsxs)(ve.a,{item:!0,xs:5,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:[Object(oe.jsx)(Te.a,{variant:"body1",component:"span",paddingX:2,children:Object(oe.jsxs)(Ce.a,{i18nKey:"whichColorIsUp",children:[Object(oe.jsxs)("span",{style:{textTransform:"capitalize",color:p===l.UpColor.green?c.colorBase.success:c.colorBase.error},children:[{up:p===l.UpColor.green?t("labelgreen"):t("labelred")}," up"]}),"and ",Object(oe.jsxs)("span",{style:{textTransform:"capitalize",color:p===l.UpColor.green?c.colorBase.error:c.colorBase.success},children:[{down:p===l.UpColor.green?t("labelred"):t("labelgreen")}," down"]})]})}),Object(oe.jsx)(Ie,{checked:p===l.UpColor.green,color:"default",onChange:function(e){e.target.checked?s(l.UpColor.green):s(l.UpColor.red)}})]})]})]})})]})}))),Ne=function(e){var t=e.open,n=e.onClose;return Object(oe.jsx)(Ee,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(oe.jsx)(ke,{children:Object(oe.jsx)(Re,{})})})},De=function(e){var t=Object.assign({},e),n=le(),a=n.depositProps,s=n.withdrawProps,p=n.transferProps,f=n.resetProps,j=Object(c.f)(),m=se(),h=m.headerToolBarData,v=m.headerMenuData,A=m.gatewayList,T=m.open,x=m.setOpen,C=m.setShowAccountInfo,_=(m.account,m.accountInfoProps),E=m.showAccountInfo,k=m.advanceOpen,y=m.setAdvanceOpen,I=(ee().exchangeInfo,Object(g.d)().disconnect),S=Object(o.useCallback)((function(){x(!0)}),[x]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(i.ModalPanel,{transferProps:p,withDrawProps:s,depositProps:a,resetProps:f}),Object(oe.jsxs)(i.HideOnScroll,{children:[!1,!1,Object(oe.jsx)(i.Header,Object(r.a)(Object(r.a)({},t),{},{headerMenuData:v,headerToolBarData:h,selected:"/"===j.pathname?l.headerRoot:j.pathname}))]}),Object(oe.jsx)(u.a,{}),Object(oe.jsx)(i.ModalWalletConnect,Object(r.a)({},Object(r.a)(Object(r.a)({},t),{},{gatewayList:A,open:T,onClose:function(){return x(!1)}}))),_&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(d.a,{in:E,children:Object(oe.jsx)(b.a,{maxWidth:"lg",children:Object(oe.jsx)(O.a,{marginTop:2,children:Object(oe.jsx)(i.AccountInfo,Object(r.a)({onDisconnect:function(){I(),C(!1)},onSwith:S},_))})})}),Object(oe.jsx)(Ne,{open:k,onClose:function(e){return y(!1)}})]})]})},we=n(266),Be=n(615),Le=[[["LRC","BUSD"],[12.4,13],-.12,123.34,23.41,21759e3],[["LRC","BUSD"],[12.4,13],12.2,.99,12.3,"",""],[["LRC","BUSD"],[12.4,13],34.55,.42,4.678,"",13759500],[["LRC","BUSD"],[12.4,13],0,-.32,3.23,1.45,37346e3],[["LRC","BUSD"],[12.4,13],54,.52,12.333,"",""],[["LRC","BUSD"],[12.4,13],"",-.852,8.881,7.56,""],[["LRC","BUSD"],[12.4,13],26,.12,.659,1.344,42245e3]],Ue=Object(we.a)(ve.a,{target:"e19jzbou1"})("& .MuiGrid-root:not(:last-of-type)>div{margin-right:",(function(e){return 3*e.theme.unit}),"px;}"),Me=Object(we.a)(ve.a,{target:"e19jzbou0"})("&{background-color:",(function(e){return e.theme.colorBase.background().default}),";",(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})}),";}",(function(e){var t=e.theme;return Object(i.TablePaddingX)({pLeft:3*t.unit,pRight:3*t.unit})}),";"),Fe=Object(v.a)("common")((function(e){var t=Object(r.a)(Object(r.a)({},e),{},{buyData:Be.a.ETH,sellData:Be.a.LRC,tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"+15%",chartUnit:"24h",volume:112312312,floatTag:l.FloatTag.increase}});return Object(oe.jsxs)(O.a,{display:"flex",flexDirection:"column",flex:1,children:[Object(oe.jsxs)(Ue,{container:!0,children:[Object(oe.jsx)(ve.a,{item:!0,xs:3,children:Object(oe.jsx)(i.MarketBlock,Object(r.a)({},Object(r.a)({},t)))}),Object(oe.jsx)(ve.a,{item:!0,xs:3,children:Object(oe.jsx)(i.MarketBlock,Object(r.a)({},Object(r.a)(Object(r.a)({},t),{},{tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"0%",chartUnit:"24h",floatTag:l.FloatTag.none}})))}),Object(oe.jsx)(ve.a,{item:!0,xs:3,children:Object(oe.jsx)(i.MarketBlock,Object(r.a)({},Object(r.a)(Object(r.a)({},t),{},{tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"-15%",chartUnit:"24h",floatTag:l.FloatTag.decrease}})))}),Object(oe.jsx)(ve.a,{item:!0,xs:3,children:Object(oe.jsx)(i.MarketBlock,Object(r.a)({},Object(r.a)({},t)))})]}),Object(oe.jsx)(Me,{container:!0,marginY:3,paddingY:2,children:Object(oe.jsx)(ve.a,{item:!0,xs:12,children:Object(oe.jsx)(i.QuoteTable,Object(r.a)({rawData:Le},Object(r.a)({},e)))})})]})})),Ke=n(1884),We=function(e){var t=e.swapProps,n=Object(fe.a)(e,["swapProps"]);return Object(oe.jsx)(i.SwapPanel,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},t),n)),{},{children:" "}))};function He(){var e=Object(o.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(o.useState)(""),r=Object(m.a)(c,2),s=r[0],i=r[1],l=function(){var e=Object(o.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(N.a)();return Object(Z.a)((function(){if(c)return c.getAmmPoolConf()}),a,void 0,"useGetAmmPools",[c]),{ammpools:n}}().ammpools,u=function(){var e=Object(o.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(N.a)();return Object(Z.a)((function(){if(c)return c.getAmmPoolBalances()}),a,void 0,"useGetAmmPoolsBalances",[c]),{ammPoolsBalances:n}}().ammPoolsBalances,d=null===u||void 0===u?void 0:u.ammpoolsbalances,b=Object(o.useState)(""),O=Object(m.a)(b,2),p=O[0],f=O[1],j=Object(o.useState)(""),h=Object(m.a)(j,2),v=h[0],g=h[1],A=te().tokens,x=null===A||void 0===A?void 0:A.tokenSymbolMap;return Object(T.a)((function(){if(n&&s&&l&&d){var e=q(l.ammpools,d,n,s).ammInfo;g(e.market),f(e.address)}}),[n,s,l,d]),{base:n,setBase:a,quote:s,setQuote:i,market:v,tokens:x,poolAddress:p,ammpools:l,ammPoolsBalances:d}}var Ve=n(20),Ye=n(225),Ge=n(466),qe=[{value:Ye.a.Depth,key:Ye.a.Depth,label:"label"+Ye.a.Depth},{value:Ye.a.Trend,key:Ye.a.Trend,label:"label"+Ye.a.Trend}],ze=function(e){var t=e.props,n=e.swapProps,a=e.t,c=Object(fe.a)(e,["props","swapProps","t"]),s=qe.map((function(e){var t=e.value,n=e.label,c=e.key;return{value:t,tlabel:a(n),key:c,JSX:Object(oe.jsx)(oe.Fragment,{children:a(n)})}})),u=t.quote,d=t.market,b=t.tokens,p=Object(o.useState)(Ye.a.Trend),h=Object(m.a)(p,2),v=h[0],g=h[1],A=Object(o.useState)(0),x=Object(m.a)(A,2),C=x[0],_=x[1],E=Object(o.useState)(""),k=Object(m.a)(E,2),y=(k[0],k[1]),I=Object(N.b)();Object(T.a)((function(){if(I&&d&&b&&u){var e=!0,t={market:d,interval:ce.d.d1,limit:2};return I.getCandlestick(t).then((function(t){if(e&&(null===t||void 0===t?void 0:t.candlesticks)&&t.candlesticks.length>0){var n=t.candlesticks[t.candlesticks.length-1],a=n.close,c=t.candlesticks[0].close,r=c?(a-c)/c:0;if(r&&_(r),null===n||void 0===n?void 0:n.quoteVol){var o=Q(b,u,null===n||void 0===n?void 0:n.quoteVol);y(o)}}})).catch((function(e){Object(ae.a)(e)})),function(){e=!1}}}),[I,d,b,u]);var S=Object(o.useState)(),P=Object(m.a)(S,2),R=P[0],D=P[1],w=Object(o.useState)(Ye.a.Trend),B=Object(m.a)(w,2),L=(B[0],B[1],Object.keys(Ve.ChartUnit).reduce((function(e,t){var n={value:Ve.ChartUnit[t],key:Ve.ChartUnit[t],label:"label"+Ve.ChartUnit[t]};return e.push({value:n.value,tlabel:a(n.label?n.label:n.key),key:n.key,JSX:Object(oe.jsx)(oe.Fragment,{children:a(n.label?n.label:n.key)})}),e}),[]));return Object(T.a)(Object(j.a)(f.a.mark((function e(){var t,n,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,I&&d){e.next=3;break}return e.abrupt("return");case 3:return n={market:d,interval:ce.d.min15,limit:96},e.prev=4,e.next=7,I.getCandlestick(n);case 7:a=e.sent,t&&(c=a.candlesticks.map((function(e){return{timeStamp:e.timeStamp,low:e.low,high:e.high,open:e.open,close:e.close,volume:e.quoteVol}})),D(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),Object(ae.a)(e.t0,"ChartPanel getCandlestick");case 14:return e.abrupt("return",(function(){t=!1}));case 15:case"end":return e.stop()}}),e,null,[[4,11]])}))),[I,d]),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(O.a,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",children:n.swapTradeData?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Ge.TradeTitle,Object(r.a)({},Object(r.a)(Object(r.a)(Object(r.a)({},c),{},{t:a},n),{},{tradeFloat:{priceDollar:Object(l.getThousandFormattedNumbers)(C,8),percent:"+15%",chartUnit:"24h",volume:""}}))),Object(oe.jsx)(i.ToggleButtonGroup,Object(r.a)(Object(r.a)({exclusive:!0},Object(r.a)(Object(r.a)({},c),{},{t:a,tgItemJSXs:s,value:v})),{},{handleChange:function(e,t){console.log("handleChange:",t),g(t)}}))]}):void 0}),Object(oe.jsxs)(ve.a,{container:!0,children:[Object(oe.jsx)(ve.a,{item:!0,xs:12,minHeight:256,maxHeight:256,children:Object(oe.jsx)(Ye.b,{type:v,data:null!==R&&void 0!==R?R:[],handleMove:function(){}})}),Object(oe.jsx)(ve.a,{item:!0,xs:12,height:24,display:"flex",justifyContent:"flex-end",children:Object(oe.jsx)(i.ToggleButtonGroup,Object(r.a)(Object(r.a)({exclusive:!0},Object(r.a)(Object(r.a)({},c),{},{t:a,tgItemJSXs:L,value:Ve.ChartUnit.D1,size:"small"})),{},{handleChange:function(){}}))})]})]})},Xe=n(153),Je=n(496);function Qe(e,t,n){var a=[];return a.push(Object(Xe.b)()),a.push(Object(Xe.d)(t)),a.push(Object(Xe.c)(e)),function(e){var t=Object(o.useState)(),n=Object(m.a)(t,2),a=n[0],c=n[1],r=Object(o.useState)(),s=Object(m.a)(r,2),i=s[0],l=s[1],u=Object(o.useState)(),d=Object(m.a)(u,2),b=d[0],O=d[1];return Object(T.a)((function(){if(e&&!e.op&&e.topic&&e.topic.topic)switch(e.topic.topic){case Xe.a.Account:c(e.data);break;case Xe.a.Ammpool:var t={baseAmt:e.data[0][0],quoteAmt:e.data[0][1],timestamp:e.data[1]};l(t);break;case Xe.a.Candlestick:break;case Xe.a.Order:O(e.data);break;case Xe.a.OrderBook:case Xe.a.Ticker:case Xe.a.Trade:break;default:throw Error("Unknown WsTopicType:"+e.topic.topic)}}),[e]),{account:a,ammPool:i,order:b}}(Object(Je.b)(a,!0,n,!!e&&!!t&&!!n).socketData)}var $e,Ze=n(112);function et(e){if(!e||!(e instanceof Object)||"function"==typeof e)return e||void 0;var t=new(0,e.constructor);for(var n in e)e.hasOwnProperty(n)&&(t[n]=et(e[n]));return t}!function(e){e.processed="processed",e.no_such_order="no_such_order",e.too_many_times="too_many_times"}($e||($e={}));var tt=n(107);function nt(e,t,n,a,c,s,i,l,u){var d=Object(g.a)(),b=d.apiKey,O=d.eddsaKey,p=d.accountId,h=d.account,v=Object(o.useState)(Ze.a.getAmmOrder()),x=Object(m.a)(v,2),C=x[0],_=x[1],E=Object(o.useState)(.01),k=Object(m.a)(E,2),y=k[0],I=(k[1],Object(o.useState)(0)),S=Object(m.a)(I,2),P=S[0],R=S[1],w=Object(o.useState)(),L=Object(m.a)(w,2),V=L[0],Y=L[1],Z=Object(o.useState)(0),te=Object(m.a)(Z,2),ne=te[0],oe=te[1],se=ne?ne*(1-y):0,ie=Object(N.c)(),le=Object(o.useState)({}),ue=Object(m.a)(le,2),de=ue[0],be=ue[1],Oe=Object(o.useState)({}),pe=Object(m.a)(Oe,2),fe=pe[0],je=pe[1],me=ee().exchangeInfo,he=Object(o.useState)(0),ve=Object(m.a)(he,2),ge=ve[0],Ae=ve[1],Te=Object(o.useState)(10),xe=Object(m.a)(Te,2),Ce=xe[0],_e=xe[1],Ee=Object(o.useState)(0),ke=Object(m.a)(Ee,2),ye=ke[0],Ie=ke[1],Se=Object(o.useState)(0),Pe=Object(m.a)(Se,2),Re=Pe[0],Ne=Pe[1],De=re(c),we=De.balances,Be=De.setBalances,Le=Object(o.useState)(0),Ue=Object(m.a)(Le,2),Me=Ue[0],Fe=Ue[1],Ke=Object(o.useState)(0),We=Object(m.a)(Ke,2),He=We[0],Ve=We[1],Ye=Object(o.useState)({}),Ge=Object(m.a)(Ye,2),qe=Ge[0],ze=Ge[1],Xe=Object(o.useState)("0"),Je=Object(m.a)(Xe,2),nt=Je[0],at=Je[1],ct=Object(o.useState)(0),rt=Object(m.a)(ct,2),ot=rt[0],st=rt[1],it=Object(o.useState)({}),lt=Object(m.a)(it,2),ut=lt[0],dt=lt[1],bt=Qe(i,s,b),Ot=bt.account,pt=bt.ammPool;bt.order;Object(T.a)((function(){if(we&&e&&c)if(h.status===A.b.ACTIVATED){var t=we.symbol[e];Fe(t),Ve(Q(c,e,t))}else Fe(0),Ve(0)}),[we,e,c,h.status]),Object(T.a)((function(){if(Ot&&c&&e)if(h.status===A.b.ACTIVATED){var t=we.tokenId[Ot.tokenId],n=D.e(Ot.totalAmount),a=D.e(Ot.amountLocked),r=n.minus(a);if(!r.eq(D.e(t))){Q(c,e,r.toString());var o=et(we);o.tokenId[Ot.tokenId]=r.toString();var s=o.map[Ot.tokenId];o.symbol[s.symbol]=r.toString(),Be(o)}}else Be(void 0)}),[Ot,c,e,h.status]),Object(T.a)((function(){var e={};h.status===A.b.ACTIVATED&&(we&&we.symbol&&Reflect.ownKeys(we.symbol).forEach((function(t){var n=we.symbol[t];e[t]={belong:t,count:Q(c,t,n)}})));ze(e)}),[we,c,h.status]),Object(T.a)((function(){if(e&&t&&l&&u&&c){var n=G(l.ammpools,u,e,t,c),a=n.ammInfo,r=n.baseBalance,o=n.quoteBalance,s=Q(c,t,o.volume);console.log("quoteBalance.volume:",o.volume),console.log("quoteShow:",s),Ae(a.feeBips),at(o.volume),st(s),r.volume>0?Ie(o.volume/r.volume):Ie(0)}else console.log("return!!! ---\x3esetQuoteBalance")}),[c,e,t,l,u]),Object(T.a)((function(){if(pt&&nt){var e=D.e(pt.quoteAmt);if(!e.eq(D.e(nt))){var n=Q(c,t,e);console.log("quoteShow2 : ".concat(n)),at(e.toString()),st(n)}console.log("216 quoteAmt : ".concat(e))}else console.log("return 216 quoteBalance : ".concat(pt," --- ").concat(nt))}),[pt,nt,t,c]),Object(T.a)(Object(j.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b||p||ie||C){e.next=2;break}return e.abrupt("return");case 2:return function e(t,n,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise((function(r,o){n&&ie.getOrderDetails({accountId:t,orderHash:n},a).then((function(n){if(console.log("order.status:",n.status),n.status===ce.e.processed)return Ze.a.clearAmmOrder(),r($e.processed);c<10?setTimeout((function(){e(t,Ze.a.getAmmOrder(),a,c++)}),1e3):o($e.too_many_times)})).catch((function(){return Ze.a.clearAmmOrder(),o($e.no_such_order)}))}))}(p,Ze.a.getAmmOrder(),b).then((function(e){console.log("then:",e)})).catch((function(e){Object(ae.a)(e)})),e.abrupt("return",(function(){}));case 5:case"end":return e.stop()}}),e)}))),[b,p,C,ie]),Object(T.a)((function(){if(l&&c)if(h.status!==A.b.UNCONNNECTED){var e=function(e,t){if(e){var n=Reflect.ownKeys(e),a={};return n.forEach((function(e){a[e]={icon:F(e,t),name:e,simpleName:e,description:"",company:""}})),{left:n,coinMapLeft:a}}}(l.pairs,c);if(e){be(e.coinMapLeft),n(e.left[0]);var t=K(l.pairs,e.left[0],c);t&&(je(t.coinMapRight),a(t.right[0]))}}else be({}),je({}),n(void 0),a(void 0)}),[l,c,h.status]),Object(T.a)((function(){if(ie&&p&&b&&e&&t&&l&&u&&c){var n=!0,a=G(l.ammpools,u,e,t,c).ammInfo;return ie.getUserFeeRate({accountId:p,markets:a.market},b).then((function(e){n?_e(e[0].takerRate):console.log("setTakerRate unmounted!")})).catch((function(e){Object(ae.a)(e,"after getUserFeeRate")})),function(){n=!1}}}),[c,ie,p,b,e,t,l,u,h.status]);var ft=Object(o.useCallback)((function(n){if(l&&u){var a=n.tradeValue;if(void 0===a||a!==V){void 0===a&&(a=0);var r=function(e,t,n,a,c,r,o,s){void 0===e&&(e=0);var i=q(t,n,c,r),l=i.ammBalance,u=i.feeBips,d=H(l,a,c),b=d.tokenInfo,O=d.reserve,p=H(l,a,r),f=(p.tokenInfo,p.reserve),j=z(e,b),m=D.e(U-u),h=j.times(m),v=h.times(f),g=O.times(U).plus(h),A=Q(a,r,v.dividedBy(g)),T=J(a,r,A,o+u),x=Number(Q(a,r,T)),C=0;return x<0?(x=0,A=null):C=(Number(A)/Number(e)-s)/s,{quoteAmt:A,_amount1ApplyOrderFeeInWei:T,_amount1ApplyOrderFee:x,priceImpact:C}}(a,l.ammpools,u,c,e,t,Ce,ye),o=r.quoteAmt,s=r._amount1ApplyOrderFee,i=r.priceImpact;return M(a,Me,o,Q(c,t,nt)).isNormal?(Y(a),oe(o),Ne(s),R(i)):(oe(0),Ne(0),R(0)),o}console.log("return directly")}}),[c,V,Me,nt,l,u,e,t,Ce,ye]),jt=Object(o.useCallback)((function(n){if(l&&u){var a=n.tradeValue;if(void 0===a||a!==ne){void 0===a&&(a=0);var r=function(e,t,n,a,c,r,o,s){void 0===e&&(e=0);var i=q(t,n,c,r),l=i.ammBalance,u=i.feeBips,d=H(l,a,c),b=(d.tokenInfo,d.reserve),O=H(l,a,r),p=O.tokenInfo,f=O.reserve,j=z(e,p);if(j.gt(f))return{baseAmt:0,_amount1ApplyOrderFeeInWei:0,_amount1ApplyOrderFee:0,priceImpact:0,hasError:!1};var m=j.times(b).times(U),h=D.e(U-u),v=f.minus(j),g=h.times(v),A=Q(a,r,m.dividedBy(g)),T=J(a,r,e,o+u),x=Number(Q(a,r,T)),C=0;return x<0?(x=0,A=null):C=(Number(e)/Number(A)-s)/s,{baseAmt:A,_amount1ApplyOrderFeeInWei:T,_amount1ApplyOrderFee:x,priceImpact:C,hasError:!1}}(a,l.ammpools,u,c,e,t,Ce,ye),o=r.baseAmt,s=r._amount1ApplyOrderFee,i=r.priceImpact,d=r.hasError,b=M(o,Me,a,Q(c,t,nt)).isNormal;return!d&&b?(Y(o),oe(a),Ne(s),R(i)):(Y(0),Ne(0),R(0)),o}}}),[c,ne,Me,nt,l,u,e,t,Ce,ye]),mt=Object(o.useCallback)((function(){console.log("try to swap ",V,e," -> ",ne,t),function(){var n=Object(j.a)(f.a.mark((function n(){var a,r,o,s,i,d,j,m,h,v,g;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===me||void 0===me?void 0:me.exchangeAddress){n.next=2;break}throw Error("no exchangeAddress!");case 2:if(V&&ne){n.next=5;break}return console.log("no baseAmt or quoteAmt!"),n.abrupt("return");case 5:return a=q(l.ammpools,u,e,t),a.ammInfo,a.feeBips,r=!1,o=W(c,e),s=W(c,t),n.prev=9,n.next=12,ie.getNextStorageId({accountId:p,sellTokenId:o.tokenId},b);case 12:d=n.sent,i=d.orderId,n.next=20;break;case 16:throw n.prev=16,n.t0=n.catch(9),Object(ae.a)(n.t0,"getNextStorageId"),Error("getNextStorageId failed");case 20:return 17e8,j=$(c,e,V),m=X(c,t,Re,y),h=new B.a(m.outInWei).toFixed(),n.prev=24,console.log("amount0InBigNumber:",j," amount1InBigNumber:",h),v={exchange:null===me||void 0===me?void 0:me.exchangeAddress,accountId:p,storageId:i,sellToken:{tokenId:o.tokenId,volume:j.toString()},buyToken:{tokenId:s.tokenId,volume:h.toString()},allOrNone:r,validUntil:17e8,maxFeeBips:60,fillAmountBOrS:!1,orderType:ce.c.ClassAmm,eddsaSignature:""},n.next=29,ie.submitOrder(v,O,b);case 29:g=n.sent,console.log("response:",g),Ze.a.setAmmOrder(g.hash),_(g.hash),n.next=38;break;case 35:n.prev=35,n.t1=n.catch(24),Object(ae.a)(n.t1,"submitOrderV3");case 38:case"end":return n.stop()}}),n,null,[[9,16],[24,35]])})));return function(){return n.apply(this,arguments)}}()()}),[p,u,l,Re,b,e,V,O,null===me||void 0===me?void 0:me.exchangeAddress,t,ne,y,c,ie]);return Object(T.a)((function(){var o={coinSell:e,coinBuy:t,StoB:parseFloat(null===ye||void 0===ye?void 0:ye.toFixed(4)),BtoS:0,sellCoinInfoMap:de,buyCoinInfoMap:fe,walletMap:qe,slippage:100*y,slippageTolerance:[.1,.5,1,"slippage:N"],priceImpact:"".concat((100*Math.abs(P)).toFixed(2),"%"),minimumReceived:se.toFixed(7),fee:"".concat((Math.abs(ge+Ce)/100).toFixed(2),"%")},s={swapTradeData:{sell:{belong:e,balance:He,tradeValue:V},buy:{belong:t,balance:ot,tradeValue:ne},slippage:y,__cache__:{}},tradeCalcData:o,onSwapClick:function(e){mt()},handleSwapPanelEvent:function(){var e=Object(j.a)(f.a.mark((function e(t,o){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.type;var s,i,u=t.tradeData;t.to;switch(o){case tt.a.SEll_CLICK:case tt.a.BUY_CLICK:break;case tt.a.SELL_SELECTED:var d=ft(null===u||void 0===u?void 0:u.sell);void 0!==d&&(u.buy=Object(r.a)(Object(r.a)({},u.buy),{},{tradeValue:d})),n(u.sell.belong),i=K(l.pairs,u.sell.belong,c),console.log("right:",i),i?(je(i.coinMapRight),a(i.right[0])):a(void 0);break;case tt.a.BUY_SELECTED:console.log(),jt(null===u||void 0===u?void 0:u.buy),a(u.buy.belong);break;case tt.a.EXCHANGE_CLICK:var b;if(Y(0),oe(0),u.buy=Object(r.a)(Object(r.a)({},u.buy),{},{tradeValue:0}),u.sell=Object(r.a)(Object(r.a)({},u.sell),{},{tradeValue:0}),n(null===(s=u.sell)||void 0===s?void 0:s.belong),i=K(l.pairs,u.sell.belong,c))je(i.coinMapRight),a(i.right[0]);else a(null===(b=u.buy)||void 0===b?void 0:b.belong)}e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};dt(s)}),[y,P,ge,Ce,de,fe,qe,se,He,ot,V,ne,ye,ft,jt,mt]),{baseAmt:V,quoteAmt:ne,slippageTolerance:y,availToShow:He,quoteToShow:ot,walletMap:qe,balances:we,currentPrice:ye,minimumReceived:se,priceImpact:P,fee:ge,takerRate:Ce,left:de,right:fe,swapProps:ut,onBaseAmtInputChange:ft,onQuoteAmtInputChange:jt,onSwap:mt}}var at=n(1952),ct=n(1887),rt=[{key:"side",name:"Side"},{key:"amount",name:"Amount"},{key:"price",name:"Price"},{key:"fee",name:"Fee"},{key:"time",name:"Time"}],ot=[{key:"side",name:"Side"},{key:"price",name:"Price"},{key:"feeAmount",name:"FeeAmount"},{key:"time",name:"Time"}],st=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},it=Object(v.a)("common",{withRef:!0})(i.Table),lt=function(e){var t=e.children,n=e.value,a=e.index,c=Object(fe.a)(e,["children","value","index"]);return Object(oe.jsx)("div",Object(r.a)(Object(r.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},c),{},{children:n===a&&Object(oe.jsx)(s.a.Fragment,{children:t})}))},ut=function(e){var t=e.myTrades,n=e.recentTrades,a=Object(o.useState)(0),c=Object(m.a)(a,2),s=c[0],l=c[1],u={rawData:t||[],columnMode:rt,generateRows:i.generateRows,generateColumns:i.generateColumns},d={rawData:n||[],columnMode:ot,generateRows:i.generateRows,generateColumns:i.generateColumns};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(at.a,{value:s,onChange:function(e,t){l(t)},"aria-label":"tabs switch",children:[Object(oe.jsx)(ct.a,Object(r.a)({label:"My Trades"},st(0))),Object(oe.jsx)(ct.a,Object(r.a)({label:"Recent Trades"},st(1)))]}),Object(oe.jsx)(lt,{value:s,index:0,children:Object(oe.jsx)(it,Object(r.a)({},u))}),Object(oe.jsx)(lt,{value:s,index:1,children:Object(oe.jsx)(it,Object(r.a)({},d))})]})};var dt,bt,Ot=function(e){var t=e.market,n=e.poolAddress,a=function(e){var t=Object(g.a)(),n=t.apiKey,a=t.accountId,c=t.account,r=Object(N.c)(),s=Object(o.useState)(),i=Object(m.a)(s,2),l=i[0],u=i[1];return Object(T.a)(Object(j.a)(f.a.mark((function t(){var o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&a&&n&&e){t.next=2;break}return t.abrupt("return");case 2:if(o=[],c.status!==A.b.ACTIVATED){t.next=14;break}return t.prev=4,t.next=7,r.getUserTrades({accountId:a,market:e,fillTypes:ce.a.amm},n);case 7:t.sent.trades.forEach((function(e){o.push([e[2],e[3],e[4],e[6],e[0]])})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),Object(ae.a)(t.t0);case 14:console.log("----------------------tradesNew:",o),u(o);case 16:case"end":return t.stop()}}),t,null,[[4,11]])}))),[r,a,n,e,c.status]),{myTrades:l}}(t).myTrades,c=function(e){var t=Object(N.a)(),n=Object(o.useState)(),a=Object(m.a)(n,2),c=a[0],r=a[1];return Object(T.a)((function(){t&&e&&t.getAmmPoolTrades({ammPoolAddress:e}).then((function(e){var t=[];e.trades.forEach((function(e){t.push([e.side,e.price,e.feeAmount,e.createdAt])})),r(t)})).catch((function(e){Object(ae.a)(e)}))}),[t,e]),{recentTrades:c}}(n).recentTrades;return Object(oe.jsx)(ut,{myTrades:a,recentTrades:c})},pt=n(587),ft=Object(pt.default)(Ke.a)(dt||(dt=Object(je.a)(["\n  @media only screen and (min-height: 680px ) and (min-width:1200px){\n    position: fixed;\n  }\n\n"]))),jt=Object(v.a)("common")((function(e){var t=Object.assign({},e),n=He(),a=n.base,c=n.quote,o=n.setBase,s=n.setQuote,i=n.tokens,l=n.market,u=n.poolAddress,d=nt(a,c,o,s,i,l,u,n.ammpools,n.ammPoolsBalances).swapProps;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(O.a,{display:"flex",height:500,paddingRight:4,flexDirection:"column",children:[Object(oe.jsx)(ze,Object(r.a)({},Object(r.a)(Object(r.a)({},t),{},{swapProps:d,props:n}))),Object(oe.jsx)(Ot,{market:l,poolAddress:u})]}),Object(oe.jsx)(O.a,{display:"flex",style:{minWidth:"var(--swap-box-width)"},children:Object(oe.jsx)(ft,{children:Object(oe.jsx)(We,Object(r.a)({},Object(r.a)(Object(r.a)({},t),{},{swapProps:d})))})})]})})),mt=function(){Object(o.useRef)(null);var e=Object(g.a)(),t=e.account,n=(e.isNoAccount,e.apiKey),a=Object(Je.a)(n).socketData,c=function(){var e=Object(o.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(N.b)();return Object(Z.a)((function(){if(c)return c.getMarkets()}),a,void 0,"useGetMarkets",[c]),{markets:n}}().markets,r=ee().exchangeInfo,s=te().tokens,i=function(){var e=Object(o.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(N.b)();return Object(Z.a)((function(){if(c)return c.getGasPrice()}),a,void 0,"useGetGas",[c]),{gas:n}}().gas;null===i||void 0===i||i.data;console.log("account:",t),console.log("exchangeInfo:",r),console.log("tokens:",s);t.accAddr&&t.accAddr;return Object(oe.jsxs)("div",{children:["Debug",Object(oe.jsxs)("div",{children:["account:",JSON.stringify(t)]}),Object(oe.jsxs)("div",{children:["eddsaKey:",t.eddsaKey]}),Object(oe.jsxs)("div",{children:["wsdata: ",JSON.stringify(a)]}),Object(oe.jsx)("div",{children:"----------------------------"}),Object(oe.jsxs)("div",{children:["markets:",JSON.stringify(c)]}),Object(oe.jsx)("div",{children:"----------------------------"}),Object(oe.jsxs)("div",{children:["depositAddress:",null===r||void 0===r?void 0:r.depositAddress]}),Object(oe.jsxs)("div",{children:["exchangeAddress:",null===r||void 0===r?void 0:r.exchangeAddress]}),Object(oe.jsx)("div",{children:"----------------------------"}),Object(oe.jsxs)("div",{children:["tokens:",JSON.stringify(s)]}),Object(oe.jsx)("div",{children:"----------------------------"})]})},ht=n(407),vt=n(117);var gt,At,Tt,xt=Object(me.a)(O.a)(bt||(bt=Object(je.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Ct=Object(v.a)("common")((function(e){var t=function(){var e=Object(g.a)(),t=e.accountId,n=e.apiKey,a=Object(N.c)(),c=Object(o.useState)(),r=Object(m.a)(c,2),s=r[0],i=r[1];return Object(T.a)(Object(j.a)(f.a.mark((function e(){var c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.getUserTranferList({accountId:t},n);case 4:c=e.sent,r=[],c.transactions.forEach((function(e,t){r.push({from:{address:e.senderAddress,env:""},to:{address:e.receiverAddress,env:""},amount:e.amount,fee:{unit:e.feeTokenSymbol,value:e.feeAmount},memo:e.symbol,time:e.timestamp,txnHash:e.hash,status:e.status,token:e.token,tradeType:vt.b.allTypes})})),i(r);case 8:case"end":return e.stop()}}),e)}))),[t,n,a]),{txs:s}}().txs,n=void 0!==t?t:[];return Object(oe.jsxs)(xt,{children:[Object(oe.jsx)("div",{className:"title",children:"Transactions"}),Object(oe.jsx)("div",{className:"tableWrapper",children:Object(oe.jsx)(i.TransactionTable,Object(r.a)({rawData:n},e))})]})})),_t=Object(me.a)(O.a)(gt||(gt=Object(je.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Et=(Object(me.a)(O.a)(At||(At=Object(je.a)(["\n    display: flex;\n    align-items: center;\n\n    >div {\n        flex: 1;\n    }\n"]))),Object(v.a)("common")((function(e){var t=e.t,n=Object(fe.a)(e,["t"]),a=I(),c=a.ShowDeposit,o=a.ShowTransfer,s=a.ShowWithdraw,l=(a.ShowResetAccount,{assetInfo:{totalAsset:123456.789,priceTag:Ve.PriceTag.Dollar},onShowDeposit:function(){c(!0)},onShowTransfer:function(){o(!0)},onShowWithdraw:function(){s(!0)}}),u=te().tokens;re(null===u||void 0===u?void 0:u.tokenSymbolMap).balances;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(O.a,{marginBottom:3,children:Object(oe.jsx)(i.AssetTitle,Object(r.a)({},Object(r.a)(Object(r.a)({t:t},n),l)))}),Object(oe.jsxs)(_t,{children:[Object(oe.jsx)("div",{className:"title",children:t("labelAssetsTitle")}),Object(oe.jsx)("div",{className:"tableWrapper",children:Object(oe.jsx)(i.AssetsTable,{rawData:[]})})]})]})})));var kt,yt=Object(me.a)(O.a)(Tt||(Tt=Object(je.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),It=Object(v.a)("common")((function(e){var t=function(){var e=Object(g.a)(),t=e.accountId,n=e.apiKey,a=Object(N.c)(),c=Object(o.useState)(),r=Object(m.a)(c,2),s=r[0],i=r[1];return Object(T.a)(Object(j.a)(f.a.mark((function e(){var c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.getUserTranferList({accountId:t},n);case 4:c=e.sent,r=[],c.transactions.forEach((function(e,t){r.push({from:{address:e.senderAddress,env:""},to:{address:e.receiverAddress,env:""},amount:e.amount,fee:{unit:e.feeTokenSymbol,value:e.feeAmount},memo:e.symbol,time:e.timestamp,txnHash:e.hash,status:e.status,token:e.token,tradeType:vt.b.allTypes})})),i(r);case 8:case"end":return e.stop()}}),e)}))),[t,n,a]),{txs:s}}().txs,n=void 0!==t?t:[];return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(yt,{children:[Object(oe.jsx)("div",{className:"title",children:"Trades"}),Object(oe.jsx)("div",{className:"tableWrapper",children:Object(oe.jsx)(i.TransactionTable,Object(r.a)({rawData:n},Object(r.a)({},e)))})]})})})),St=Object(me.a)(O.a)(kt||(kt=Object(je.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Pt=Object(v.a)("common")((function(e){return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(St,{children:[Object(oe.jsx)("div",{className:"title",children:"Order History"}),Object(oe.jsx)("div",{className:"tableWrapper",children:Object(oe.jsx)(i.OrderHistoryTable,Object(r.a)({rawData:[]},Object(r.a)({},e)))})]})})})),Rt=l.subMenuLayer2,Nt=Object(v.a)(["layout","common"],{withRef:!0})(i.SubMenuList),Dt=function(){var e,t=Object(c.g)("/layer2/:item"),n=null!==(e=null===t||void 0===t?void 0:t.params.item)&&void 0!==e?e:"assets";return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(O.a,{width:"200px",display:"flex",justifyContent:"stretch",children:Object(oe.jsx)(i.SubMenu,{children:Object(oe.jsx)(Nt,{selected:n,subMenu:Rt})})}),Object(oe.jsx)(O.a,{minHeight:420,display:"flex",alignItems:"stretch",flexDirection:"row",marginTop:0,flex:1,children:Object(oe.jsxs)(O.a,{flex:1,marginLeft:3,display:"flex",flexDirection:"column",children:["assets"===n&&Object(oe.jsx)(Et,{}),"transactions"===n&&Object(oe.jsx)(Ct,{}),"trades"===n&&Object(oe.jsx)(It,{}),"orders"===n&&Object(oe.jsx)(Pt,{})]})})]})};t.a=function(){return Object(oe.jsxs)(a.a,{children:[Object(oe.jsx)(De,{}),Object(oe.jsx)(b.a,{maxWidth:"lg",children:Object(oe.jsx)(O.a,{flex:1,display:"flex",alignItems:"stretch",flexDirection:"row",marginTop:3,minWidth:800,children:Object(oe.jsxs)(c.c,{children:[Object(oe.jsx)(c.a,{exact:!0,component:jt,path:"/"}),Object(oe.jsx)(c.a,{exact:!0,component:Fe,path:"/markets"}),Object(oe.jsx)(c.a,{exact:!0,component:jt,path:"/trading/lite"}),Object(oe.jsx)(c.a,{exact:!0,component:Dt,path:"/layer2"}),Object(oe.jsx)(c.a,{exact:!0,component:Dt,path:"/layer2/assets"}),Object(oe.jsx)(c.a,{exact:!0,component:Dt,path:"/layer2/transactions"}),Object(oe.jsx)(c.a,{exact:!0,component:Dt,path:"/layer2/trades"}),Object(oe.jsx)(c.a,{exact:!0,component:Dt,path:"/layer2/orders"}),Object(oe.jsx)(ht.a,{children:Object(oe.jsx)(c.a,{exact:!0,path:"/debug",children:Object(oe.jsx)(mt,{})})})]})})})]})}}},[[1862,8,4,2,3,1,5,6]]]);
//# sourceMappingURL=main~a97bfcba.34b3e66c.chunk.js.map