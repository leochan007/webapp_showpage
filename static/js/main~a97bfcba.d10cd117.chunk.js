(this["webpackJsonp@loopring-web/webapp"]=this["webpackJsonp@loopring-web/webapp"]||[]).push([[7],{110:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a,c=n(13),o=n(14);!function(e){e.Handler="handler",e.AccountId="account_id",e.Account="account",e.Apikey="apikey",e.Eddsakey="eddsakey",e.ActiveTime="active_time",e.AmmOrder="amm_order",e.HardwareAddresses="hardware_addresses"}(a||(a={}));var r=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"getHandler",value:function(){var e=sessionStorage.getItem(a.Handler);try{if(void 0!==e&&null!==e)return parseInt(e)}catch(t){}}},{key:"setHandler",value:function(e){sessionStorage.setItem(a.Handler,e)}},{key:"clearHandler",value:function(){sessionStorage.removeItem(a.Handler)}},{key:"checkTimeout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=localStorage.getItem(a.ActiveTime),n=(new Date).getTime();if(null===t||e)e&&console.log("force reset!!"),localStorage.setItem(a.ActiveTime,n.toString());else{var c=new Date(parseInt(t));if(n-c.getTime()>6e5)return console.log("TIMEOUT! now:".concat(n," dateTimeStr:").concat(t," delta:").concat(n-c.getTime())),sessionStorage.clear(),localStorage.setItem(a.ActiveTime,n.toString()),!0}return!1}},{key:"getAccountId",value:function(){var e=sessionStorage.getItem(a.AccountId);try{if(e)return parseInt(e)}catch(t){}}},{key:"setAccountId",value:function(e){sessionStorage.setItem(a.AccountId,e.toString())}},{key:"getAccount",value:function(){return sessionStorage.getItem(a.Account)}},{key:"setAccount",value:function(e){sessionStorage.setItem(a.Account,e)}},{key:"getApikey",value:function(){return sessionStorage.getItem(a.Apikey)}},{key:"setApikey",value:function(e){sessionStorage.setItem(a.Apikey,e)}},{key:"getEddsakey",value:function(){return sessionStorage.getItem(a.Eddsakey)}},{key:"setEddsakey",value:function(e){sessionStorage.setItem(a.Eddsakey,e)}},{key:"getAmmOrder",value:function(){var e=localStorage.getItem(a.AmmOrder);return e||""}},{key:"setAmmOrder",value:function(e){localStorage.setItem(a.AmmOrder,e)}},{key:"clearAmmOrder",value:function(){localStorage.removeItem(a.AmmOrder)}},{key:"isHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);return!(!t||!t.includes(e.toLowerCase()))}},{key:"saveHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);if(t){if(!0!==t.includes(e.toLowerCase())){var n=t+","+e.toLowerCase();localStorage.setItem(a.HardwareAddresses,n)}}else localStorage.setItem(a.HardwareAddresses,e.toLowerCase())}}]),e}()},111:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return j})),n.d(t,"i",(function(){return m}));var a=n(108),c=n(53),o=n(49),r=n(110),s=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_ACCOUND_ID?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_ACCOUND_ID:r.a.getAccountId(),t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_API_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_API_KEY:r.a.getApikey(),n=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_OWNER?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_OWNER:r.a.getAccount(),a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_EDDSA_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_EDDSA_KEY:r.a.getEddsakey();return console.log("defaultApiKey:",JSON.stringify(t)),{accAddr:n,status:o.b.UNCONNNECTED,accountId:e,publicKey:{},nonce:0,isContractAddress:!1,apiKey:t,eddsaKey:a,connectName:c.b.Unknown,connectNameTemp:c.b.Unknown}},i=Object(a.c)({name:"account",initialState:s(),reducers:{reset:function(e){var t=s();console.log("!!! reset account!",t),Object.assign(e,t)},setAccAddr:function(e,t){e.accAddr=t.payload},setAccountInfo:function(e,t){e.accAddr=t.payload.owner,e.accountId=t.payload.accountId,e.nonce=t.payload.nonce,e.publicKey=t.payload.publicKey},setApikey:function(e,t){e.apiKey=t.payload},setAccountStatus:function(e,t){e.status=t.payload},setEddsaKey:function(e,t){e.eddsaKey=t.payload},setConnectName:function(e,t){e.connectName=t.payload},setConnectNameTemp:function(e,t){e.connectNameTemp=t.payload},setIsContractAddress:function(e,t){e.isContractAddress=t.payload}}}),l=i.actions,u=l.reset,d=l.setAccAddr,b=l.setApikey,O=l.setConnectName,f=l.setConnectNameTemp,p=l.setAccountInfo,j=l.setAccountStatus,m=l.setEddsaKey;l.setIsContractAddress;t.a=i},1858:function(e,t,n){"use strict";n.r(t);var a=n(80),c=n(126),o=n.n(c),r=n(919),s=n(163),i=n(304),l=n(623),u=n(53),d=n(19),b=n(1963),O=n(186),f=n(1945),p=n(116),j=n(1946),m=n(1),h=Object(s.c)(u.c),v=[Object(d.provider)(O.b,{dateAdapter:f.a}),Object(d.provider)(j.a,{i18n:d.i18n}),Object(d.provider)(b.a,{theme:Object(d.getTheme)("dark")}),Object(d.provider)(p.c,{theme:Object(d.getTheme)("dark")}),Object(d.provider)(a.a,{store:i.a})];o.a.render(Object(m.jsx)(d.ProviderComposer,{providers:v,children:Object(m.jsx)(s.b,{getLibrary:l.a,children:Object(m.jsx)(h,{getLibrary:l.a,children:Object(m.jsx)(r.a,{})})})}),document.getElementById("root"))},304:function(e,t,n){"use strict";var a=n(47),c=n(191),o=n(108),r=(n(80),n(612)),s=n(954),i=n(955),l=Object(o.b)("global/updateVersion"),u=n(111),d={status:n(349).a.NORMAL},b=Object(o.c)({name:"system",initialState:d,reducers:{setSystemStatus:function(e,t){e.status=t.payload}}}),O=(b.actions.setSystemStatus,b),f=n(348),p=function(){return(new Date).getTime()},j={},m=Object(o.c)({name:"transactions",initialState:j,reducers:{reset:function(e){Object.assign(e,j)},addTransaction:function(e,t){var n,a,c=t.payload,o=c.chainId,r=c.from,s=c.hash,i=c.approval,l=c.summary,u=c.claim;if(null===(n=e[o])||void 0===n?void 0:n[s])throw Error("the existing TX can't be added again");(null!==(a=e[o])&&void 0!==a?a:{})[s]={hash:s,approval:i,summary:l,claim:u,from:r,addedTime:p()}},clearAllTransactions:function(e,t){var n=t.payload;e[n]&&(e[n]={})},checkedTransaction:function(e,t){var n,a=t.payload,c=a.chainId,o=a.hash,r=a.blockNumber,s=null===(n=e[c])||void 0===n?void 0:n[o];s&&(s.lastCheckedBlockNumber?s.lastCheckedBlockNumber=Math.max(r,s.lastCheckedBlockNumber):s.lastCheckedBlockNumber=r)},finalizeTransaction:function(e,t){var n,a=t.payload,c=a.chainId,o=a.hash,r=a.receipt,s=null===(n=e[c])||void 0===n?void 0:n[o];s&&(s.receipt=r,s.confirmedTime=p())}}}),h=m.actions,v=(h.reset,h.addTransaction,h.clearAllTransactions,h.checkedTransaction,h.finalizeTransaction,m),g=n(50),A=Object(s.a)(),T=Object(c.b)({account:u.a.reducer,settings:g.settingsSlice.reducer,system:O.reducer,trading:f.a.reducer,transactions:v.reducer,modals:g.modalsSlice.reducer}),C=["settings"],_=Object(o.a)({reducer:T,middleware:[].concat(Object(a.a)(Object(o.d)({thunk:!1})),[Object(r.save)({states:C}),A]),devTools:!1,enhancers:[i.reduxBatch],preloadedState:Object(r.load)({states:C})});_.dispatch(l());t.a=_},348:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return O}));var a,c=n(108);!function(e){e.min1="1min",e.min5="5min",e.min15="15min",e.min30="30min",e.hr1="1hr",e.hr2="2hr",e.hr4="4hr",e.hr12="12hr",e.d1="1d",e.w1="1w"}(a||(a={}));var o=function(e){var t=e.indexOf("-");return{symbol_base:e.substr(t+1),symbol_quote:e.substr(0,t)}},r="LRC-ETH",s=o(r),i={symbol:r,symbol_base:s.symbol_base,symbol_quote:s.symbol_quote,interval:"4hr",markets:[],tokens:{},refreshRate:1e3,refreshRateSlow:3e3,wsApiKey:""},l=Object(c.c)({name:"trading",initialState:i,reducers:{changeSymbol:function(e,t){e.symbol=t.payload;var n=o(e.symbol),a=n.symbol_base,c=n.symbol_quote;e.symbol_base=a,e.symbol_quote=c},changeTradingInterval:function(e,t){e.interval=t.payload},setWsApiKey:function(e,t){e.wsApiKey=t.payload},setMarkets:function(e,t){e.markets=t.payload},setTokens:function(e,t){e.tokens=t.payload},setExchangeInfo:function(e,t){e.exchangeInfo=t.payload}}}),u=l.actions,d=(u.changeSymbol,u.changeTradingInterval,u.setWsApiKey,u.setMarkets),b=u.setTokens,O=u.setExchangeInfo;t.a=l},349:function(e,t,n){"use strict";var a,c,o,r;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),function(e){e.dark="dark",e.light="light"}(a||(a={})),function(e){e.en="en_US",e.cn="zh_CN"}(c||(c={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ERROR=1]="ERROR",e[e.UNKNOWN=2]="UNKNOWN"}(o||(o={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.WALLET=2]="WALLET"}(r||(r={}))},398:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(65),c=n(80),o=n(61),r=n(348);function s(){var e=Object(c.c)((function(e){return e.trading}));return{tradingInfo:e,exchangeInfo:e.exchangeInfo}}function i(){var e=Object(c.b)(),t=Object(a.b)();Object(o.a)((function(){t&&t.getExchangeInfo().then((function(t){e(Object(r.b)(t.exchangeInfo))}),(function(e){console.log(e)}))}),[t])}},406:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return k}));var a,c=n(58),o=n(0),r=n.n(o),s=n(110),i=n(78),l=n(398),u=n(1);!function(e){e.Click="click",e.Scroll="scroll",e.Mouseover="mouseover"}(a||(a={}));var d=[a.Click,a.Scroll],b=Object(c.debounce)((function(){s.a.checkTimeout(!0)}),100),O=function(e){var t=e.children;return Object(l.b)(),Object(i.b)(),Object(o.useEffect)((function(){return d.forEach((function(e){document.addEventListener(e,b)})),function(){d.forEach((function(e){document.removeEventListener(e,b)}))}}),[]),Object(u.jsx)(r.a.Fragment,{children:t})},f=n(7),p=n(295),j=n(935),m=n(163),h=n(150),v=n(161),g=n(111),A=n(53),T=n(80),C=n(49);var _=Object(p.a)("div",{target:"e1vtmr5h1"})({name:"17nbj0f",styles:"display:flex;align-items:center;justify-content:center;height:20rem"}),x=Object(p.a)("h2",{target:"e1vtmr5h0"})("color:",(function(e){return e.theme.colorBase.error}),";");function y(e){var t=e.children,n=Object(j.a)().t,a=Object(m.d)().active,c=Object(m.d)(A.c),r=c.active,s=c.error,i=c.activate,l=Object(v.b)();Object(o.useEffect)((function(){!l||r||s||a||i(h.d)}),[l,r,s,i,a]);var d=Object(T.b)();Object(v.d)((function(){console.log("onReConnectInjected"),d(Object(g.b)()),d(Object(g.e)(C.b.UNCONNNECTED))}),!l);var b=Object(o.useState)(!1),O=Object(f.a)(b,2),p=O[0],y=O[1];return Object(o.useEffect)((function(){var e=setTimeout((function(){y(!0)}),600);return function(){clearTimeout(e)}}),[]),l?!a&&s?Object(u.jsx)(_,{children:Object(u.jsx)(x,{children:n("unknownError")})}):a||r?t:p?Object(u.jsx)(_,{}):null:null}var k=function(e){e.children;return Object(u.jsx)(r.a.Fragment,{children:null})}},49:function(e,t,n){"use strict";var a,c;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o})),function(e){e.UNCONNNECTED="UNCONNNECTED",e.CONNECTED="CONNECTED",e.NOACCOUNT="NOACCOUNT",e.DEPOSITING="DEPOSITING",e.DEPOSIT_TO_CONFIREM="DEPOSIT_TO_CONFIREM",e.UNACTIVATED="UNACTIVATED",e.ARPROVING="ARPROVING",e.APPROV_TO_CONFIRM="APPROV_TO_CONFIRM",e.LOCKED="LOCKED",e.ACTIVATED="ACTIVATED"}(a||(a={})),function(e){e.Reset="Reset",e.Connecting="Connecting",e.HasPubkey="HasPubkey",e.HasNoPubkey="HasNoPubkey",e.ErrorResponse="ErrorResponse",e.FinishDeposit="FinishDeposit",e.DepositConfirmed="DepositConfirmed",e.IsSmartWallet="IsSmartWallet",e.ApproveSubmit="ApproveSubmit",e.ApproveConfirmed="ApproveConfirmed",e.Unlock="Unlock",e.Lock="Lock"}(c||(c={}));var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.UNCONNNECTED;return{initialState:e,states:{UNCONNNECTED:{Connecting:a.CONNECTED,Reset:a.UNCONNNECTED},CONNECTED:{HasPubkey:a.LOCKED,HasNoPubkey:a.UNACTIVATED,ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},NOACCOUNT:{ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},DEPOSITING:{FinishDeposit:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},DEPOSIT_TO_CONFIREM:{HasPubkey:a.ACTIVATED,HasNoPubkey:a.DEPOSIT_TO_CONFIREM,ErrorResponse:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},UNACTIVATED:{IsSmartWallet:a.ARPROVING,Reset:a.UNCONNNECTED},ARPROVING:{ApproveSubmit:a.APPROV_TO_CONFIRM,Reset:a.UNCONNNECTED},APPROV_TO_CONFIRM:{ApproveConfirmed:a.ACTIVATED,Reset:a.UNCONNNECTED},LOCKED:{Unlock:a.ACTIVATED,Reset:a.UNCONNNECTED},ACTIVATED:{Lock:a.LOCKED,Reset:a.UNCONNNECTED}}}}},78:function(e,t,n){"use strict";n.d(t,"f",(function(){return S})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return N})),n.d(t,"b",(function(){return B}));var a,c=n(5),o=n.n(c),r=n(22),s=n(7),i=n(0),l=n(80),u=n(61),d=n(398),b=n(161),O=n(49),f=n(106),p=n(16),j=n(53),m=n(150),h=(a={},Object(p.a)(a,j.b.Unknown,void 0),Object(p.a)(a,j.b.Injected,m.b),Object(p.a)(a,j.b.Network,m.d),Object(p.a)(a,j.b.WalletConnect,m.f),Object(p.a)(a,j.b.WalletLink,m.g),Object(p.a)(a,j.b.Ledger,m.c),Object(p.a)(a,j.b.Trezor,m.e),Object(p.a)(a,j.b.Authereum,m.a),a),v=n(111),g=n(951),A=n.n(g),T=n(1937),C=n(308),_=n.n(C),x=n(65),y=n(29),k=n(85),E=n(110),I=n(304);function S(){var e=Object(b.a)(),t=e.connector,n=e.library,a=e.account,c=e.chainId,o=e.active,r=e.error;return{account:a,connector:t,library:n,chainId:c,active:o,isConnected:o&&!A.a.isBlank(a),error:r}}function P(){var e=Object(l.c)((function(e){return e.account}));return{account:e,isNoAccount:function(){return e.status===O.b.NOACCOUNT},isActivated:function(){return e.status===O.b.ACTIVATED},apiKey:e.apiKey,eddsaKey:e.eddsaKey,accountId:e.accountId}}function R(){var e,t=Object(l.b)(),n=(e=Object(O.a)(),function(t,n){var a=e.states[t];if(void 0===a)throw new Error("No transitions defined for ".concat(t));var c=a[n];if(void 0===c)throw new Error("Unknown transition for event ".concat(n," in state ").concat(t));return console.log("got nextState:",c),c});return{sendEvent:Object(i.useCallback)((function(e,a){var c=n(e.status,a);c&&t(Object(v.e)(c))}),[n,t])}}function w(){var e=Object(b.a)().activate,t=R().sendEvent,n=Object(l.b)(),a=Object(i.useState)(),c=Object(s.a)(a,2),o=c[0],r=c[1];return{connect:Object(i.useCallback)((function(a){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=h[a];r(o),e(o),n(Object(v.h)(a)),c&&(console.log("try Connecting... isSwitch Reset"),t(I.a.getState().account,O.c.Reset)),t(I.a.getState().account,O.c.Connecting),console.log("try Connecting...")}),[e,n,t]),activatingConnector:o}}function D(){var e=Object(b.a)().deactivate,t=Object(l.b)();return{disconnect:Object(i.useCallback)((function(){e(),t(Object(v.b)())}),[e,t])}}function N(){var e=Object(l.b)(),t=Object(x.b)(),n=Object(x.c)(),a=Object(d.a)().exchangeInfo,c=S().connector,s=R().sendEvent;return{lock:Object(i.useCallback)(function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("useCallback lock:",t.status),s(t,O.c.Lock);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),unlock:Object(i.useCallback)(function(){var i=Object(r.a)(o.a.mark((function r(i){var l,u,d,b,p,j,m;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n&&t&&c&&i.accountId&&(null===a||void 0===a?void 0:a.exchangeAddress)&&i.status===O.b.LOCKED){o.next=5;break}return console.log("accountId:",i.accountId),console.log("exchangeAddress:",a),console.log("enter !! account.status:",i.status),o.abrupt("return");case 5:if(console.log("useUnlock useCallback:",i.status),i.status===O.b.LOCKED){o.next=8;break}throw Error("unexpected status:"+i.status);case 8:return u=void 0,d=void 0,b=void 0,o.prev=11,o.next=14,c.getProvider();case 14:if(p=o.sent,j=new _.a(p),console.log("useUnlock eddsaKey:",i.eddsaKey),i.eddsaKey){o.next=24;break}return o.next=20,f.b(j,i.accAddr,null===a||void 0===a?void 0:a.exchangeAddress,i.nonce-1,i.connectName);case 20:m=o.sent,d=Object(y.h)(Object(y.e)(m.keyPair.secretKey)),o.next=25;break;case 24:d=i.eddsaKey;case 25:return o.next=27,n.getUserApiKey({accountId:i.accountId},d);case 27:b=o.sent,console.log("useUnlock apikey:",b),u=O.c.Unlock,o.next=35;break;case 32:o.prev=32,o.t0=o.catch(11),u=O.c.Reset;case 35:d&&e(Object(v.i)(d)),(null===(l=b)||void 0===l?void 0:l.apiKey)&&e(Object(v.f)(b.apiKey)),console.log("next event:",u),u&&s(i,u);case 39:case"end":return o.stop()}}),r,null,[[11,32]])})));return function(e){return i.apply(this,arguments)}}(),[e,s,t,n,c,a])}}function B(){var e=Object(l.b)(),t=P().account,n=R().sendEvent,a=Object(x.b)(),c=Object(x.c)(),s=S(),i=s.account,b=s.active,f=s.isConnected,p=s.chainId,m=s.connector,h=i,g=Object(T.a)(p),A=Object(T.a)(i),C=Object(d.a)().exchangeInfo;Object(u.a)(Object(r.a)(o.a.mark((function s(){var l,u;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return u=function(){return(u=Object(r.a)(o.a.mark((function r(){var s,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t&&h&&a&&c&&m&&(null===C||void 0===C?void 0:C.exchangeAddress)){o.next=3;break}return console.log("checkStatus return!!!!!!"),o.abrupt("return");case 3:if(!(g&&p&&g!==p||A&&i&&A!==i)||t.status===O.b.UNCONNNECTED){o.next=8;break}return console.log("checkStatus try to resetFunc"),e(Object(v.b)()),n(t,O.c.Reset),o.abrupt("return");case 8:l(),o.t0=t.status,o.next=o.t0===O.b.UNCONNNECTED?12:o.t0===O.b.CONNECTED?15:o.t0===O.b.NOACCOUNT?31:o.t0===O.b.DEPOSITING?32:o.t0===O.b.DEPOSIT_TO_CONFIREM?35:o.t0===O.b.UNACTIVATED?36:o.t0===O.b.ARPROVING?39:o.t0===O.b.APPROV_TO_CONFIRM?42:o.t0===O.b.LOCKED?45:o.t0===O.b.ACTIVATED?46:50;break;case 12:return console.log("---\x3e render UNCONNNECTED active:",b," isConnected:",f),f&&(e(Object(v.h)(j.b.Injected)),n(t,O.c.Connecting)),o.abrupt("break",51);case 15:return console.log("---\x3e render CONNECTED account:",t),o.prev=16,o.next=19,a.getAccount({owner:h});case 19:s=o.sent,t.accAddr&&t.eddsaKey&&s.owner===t.accAddr?console.log("cur Eddsakey:",t.eddsaKey):(console.log("got a new address:",s),e(Object(v.d)(s))),(null===t||void 0===t?void 0:t.connectName)!==(null===t||void 0===t?void 0:t.connectNameTemp)&&e(Object(v.g)(t.connectNameTemp)),n(t,O.c.HasPubkey),o.next=30;break;case 25:o.prev=25,o.t1=o.catch(16),Object(k.a)(o.t1),h&&e(Object(v.c)(h)),101002===o.t1.response.data.resultInfo.code&&n(t,O.c.ErrorResponse);case 30:case 31:return o.abrupt("break",51);case 32:return!0,console.log("depositFinished currStatus:",t.status),n(t,O.c.FinishDeposit),o.abrupt("break",51);case 35:return o.abrupt("break",51);case 36:return!1,console.log("approve hash no smartwallet, account.status:",t.status),o.abrupt("break",51);case 39:return!1,o.abrupt("break",51);case 42:return!1,o.abrupt("break",51);case 45:return o.abrupt("break",51);case 46:return E.a.checkTimeout(!0),u=setInterval((function(){var e=E.a.checkTimeout();t.status===O.b.ACTIVATED&&e&&(clearInterval(u),n(t,O.c.Lock))}),1e3),E.a.setHandler(u),o.abrupt("break",51);case 50:return o.abrupt("break",51);case 51:case"end":return o.stop()}}),r,null,[[16,25]])})))).apply(this,arguments)},l=function(){var e=E.a.getHandler();t.status!==O.b.ACTIVATED&&e&&clearInterval(e)},function(){return u.apply(this,arguments)}(),s.abrupt("return",(function(){l()}));case 5:case"end":return s.stop()}}),s)}))),[a,c,t,g,p,h,e,m,null===C||void 0===C?void 0:C.exchangeAddress])}},975:function(e,t,n){"use strict";var a=n(136),c=n(98),o=n(4),r=n(5),s=n.n(r),i=n(22),l=n(0),u=n.n(l),d=n(50),b=n(31),O=(n(1958),n(506)),f=n(1881),p=n(1962),j=n(1884),m=n(112),h=n(7),v=n(116),g=n(935),A=n(78);var T=n(49),C=n(61),_=(n(349),n(304)),x=n(53),y=n(992),k=n(269),E=n(161),I=n(1),S=function(){var e=u.a.useState(!1),t=Object(h.a)(e,2),n=t[0],a=t[1],c=u.a.useReducer((function(e){return!e}),!1)[1],r=(Object(d.useSettings)(),Object(A.a)().account),l=Object(A.e)(),O=l.lock,f=l.unlock,p=(Object(A.d)().disconnect,Object(A.c)().connect),j=Object(E.c)().etherscanUrl,m=[Object(o.a)(Object(o.a)({},b.gatewayList[0]),{},{handleSelect:function(){console.log("try to connect to ",x.b.Injected),p(x.b.Injected,!0),a(!1)}})],S=u.a.useState(void 0),P=Object(h.a)(S,2),R=P[0],w=P[1],D=Object(g.a)().i18n,N=Object(v.f)(),B=u.a.useCallback(Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onNotification click");case 1:case"end":return e.stop()}}),e)}))),[]),L=u.a.useCallback(Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onWalletBtnConnent click"),t=_.a.getState().account,e.t0=t.status,e.next=e.t0===T.b.UNCONNNECTED?5:e.t0===T.b.LOCKED?7:e.t0===T.b.ACTIVATED?11:15;break;case 5:return a(!0),e.abrupt("break",16);case 7:return console.log("onWalletBtnConnent try to unlock"),e.next=10,f(t);case 10:return e.abrupt("break",16);case 11:return console.log("onWalletBtnConnent try to lock"),e.next=14,O(t);case 14:case 15:return e.abrupt("break",16);case 16:case"end":return e.stop()}}),e)}))),[a,O,f]),U=u.a.useCallback(Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onThemeBtnClick click");case 1:case"end":return e.stop()}}),e)}))),[]),M=function(e){D.changeLanguage(e)},F=u.a.useState(!!(null===r||void 0===r?void 0:r.accAddr)),K=Object(h.a)(F,2),H=K[0],W=K[1],V=u.a.useState(!1),G=Object(h.a)(V,2),Y=G[0],q=G[1];console.log("account111: ",r),console.log("showAccountInfo: ",H);var X=u.a.useCallback((function(e){console.log("handleViewAccountInfo: ",H),W(!H)}),[W,H]),J=Object(g.a)(["layout"]).t;return Object(C.a)((function(){b.headerToolBarData[b.ButtonComponentsMap.Download]=Object(o.a)(Object(o.a)({},b.headerToolBarData[b.ButtonComponentsMap.Download]),{},{url:"https://apps.apple.com/us/app/loopring-smart-wallet/id1550921126",title:J("labelDownloadAppTitle"),description:Object(I.jsx)(y.a,{href:"https://apps.apple.com/us/app/loopring-smart-wallet/id1550921126",children:J("labelDownloadBtn")})}),b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]=Object(o.a)(Object(o.a)({},b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]),{},{handleClick:L}),b.headerToolBarData[b.ButtonComponentsMap.Theme]=Object(o.a)(Object(o.a)({},b.headerToolBarData[b.ButtonComponentsMap.Theme]),{},{themeMode:N.mode,handleClick:U}),b.headerToolBarData[b.ButtonComponentsMap.Language]=Object(o.a)(Object(o.a)({},b.headerToolBarData[b.ButtonComponentsMap.Language]),{},{language:D.language,handleChange:M})}),[N,D,L,U,M,B,J]),Object(C.a)((function(){if(!r)return console.log("account"+r+"* exit"),void w(void 0);var e=r.status,t=function(e){if(e&&void 0!==e&&null!==e&&""!==e.trim())return e.substr(0,6)+"..."+e.substr(e.length-4);console.log("getShortAddr got empty!")}(null===r||void 0===r?void 0:r.accAddr);console.log("account:*",r,"*"),console.log("addr:*",t,"*"),t&&R&&R.address!==t||t?w({address:t,level:"VIP 1",ethLink:j+(null===r||void 0===r?void 0:r.accAddr),mainBtn:Object(I.jsx)(d.Button,{variant:"contained",size:"small",color:"primary",onClick:function(e){return q(!0)},children:"Advance Setting"})}):t&&w(void 0);var n=function(){b.headerMenuData[b.HeadMenuTabKey.Layer2]=Object(o.a)(Object(o.a)({},b.headerMenuData[b.HeadMenuTabKey.Layer2]),{},{extender:Object(I.jsx)(k.a,{disabled:!r,onClick:X,"aria-label":J("labelShowAccountInfo"),color:"primary",children:H?Object(I.jsx)(b.HideIcon,{}):Object(I.jsx)(b.ViewIcon,{})}),status:b.HeaderMenuTabStatus.default})};switch(e){case T.b.UNCONNNECTED:b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]=Object(o.a)(Object(o.a)({},b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]),{},{label:"Connect Wallet",status:b.WalletStatus.default}),b.headerMenuData[b.HeadMenuTabKey.Layer2]=Object(o.a)(Object(o.a)({},b.headerMenuData[b.HeadMenuTabKey.Layer2]),{},{status:b.HeaderMenuTabStatus.hidden});break;case T.b.LOCKED:b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]=Object(o.a)(Object(o.a)({},b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]),{},{label:t,status:b.WalletStatus.connect}),n();break;case T.b.ACTIVATED:b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]=Object(o.a)(Object(o.a)({},b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]),{},{label:t,status:b.WalletStatus.unlock}),n();break;case T.b.UNACTIVATED:case T.b.NOACCOUNT:b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]=Object(o.a)(Object(o.a)({},b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]),{},{label:t,status:b.WalletStatus.noAccount}),n();break;case T.b.DEPOSITING:case T.b.DEPOSIT_TO_CONFIREM:case T.b.ARPROVING:case T.b.APPROV_TO_CONFIRM:b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]=Object(o.a)(Object(o.a)({},b.headerToolBarData[b.ButtonComponentsMap.WalletConnect]),{},{label:t,status:b.WalletStatus.accountPending}),n()}c()}),[r,H,j,w]),{headerToolBarData:b.headerToolBarData,headerMenuData:b.headerMenuData,gatewayList:m,open:n,setOpen:a,setShowAccountInfo:W,account:r,showAccountInfo:H,accountInfoProps:R,advanceOpen:Y,setAdvanceOpen:q}},P=n(197),R=n(65);function w(){var e=Object(l.useState)(),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(R.b)();return Object(P.a)((function(){if(c)return c.getExchangeInfo()}),a,"exchangeInfo","useGetExchangeInfo",[c]),{exchangeInfo:n}}function D(){var e=Object(l.useState)(),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(R.b)();return Object(P.a)((function(){if(c)return c.getTokens()}),a,void 0,"useGetTokens",[c]),{tokens:n}}var N,B,L,U,M,F=n(15),K=n(631),H=n(35),W=n(20),V=n(113),G=n(1961),Y=n(1886),q=n(70),X=n(628),J=n(1934),z=n(309),Q=Object(W.a)(V.a)(N||(N=Object(F.a)(["\n  width: 100%;\n  height: 100%;\n  //flex: 1;\n  background-color: ",";\n  ",";\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})})),$=Object(W.a)(G.a)((function(e){var t=e.theme;return{"& .Mui-checked":{color:t.colorBase.textPrimary,"& + .MuiSwitch-track.MuiSwitch-track":{border:"solid ".concat(t.colorBase.success)},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.success}},"& .MuiSwitch-track":{border:"solid ".concat(t.colorBase.error),opacity:1},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.error}}})),Z=function(e){var t=e.t,n=e.currency,a=e.label,c=e.handleChange,o=u.a.useState(n||b.Currency.dollar),r=Object(h.a)(o,2),s=r[0],i=r[1],l=u.a.useCallback((function(e){i(e.target.value),c&&c(e.target.value)}),[c]);return Object(I.jsxs)(d.OutlineSelect,{"aria-label":t(a),IconComponent:b.DropDownIcon,labelId:"language-selected",id:"language-selected",value:s,autoWidth:!0,onChange:l,children:[Object(I.jsxs)(d.OutlineSelectItem,{value:b.Currency.dollar,children:["$ ",t("labelUSDollar")]}),Object(I.jsxs)(d.OutlineSelectItem,{value:b.Currency.yen,children:["\xa5 ",t("labelCNYYuan")]})]})},ee=Object(W.a)(Y.a)(B||(B=Object(F.a)(["\n  margin: ","px 0 ","px  0px;\n"])),(function(e){return e.theme.unit}),(function(e){return e.theme.unit})),te=(Object(W.a)(Y.a)(L||(L=Object(F.a)(["\n  margin: 0;\n  flex: 1;\n  width: 1px;\n  height: ","px;\n  background: ",";\n"])),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.focus})),Object(X.a)(["common","layout"])((function(e){var t=e.t,n=Object(H.a)(e,["t"]),a=Object(v.f)(),c=u.a.useState(b.Chg.green),r=Object(h.a)(c,2),s=r[0],i=r[1],l=u.a.useState(z.b.en_US),f=Object(h.a)(l,2),p=f[0],j=f[1],g=u.a.useState(b.Currency.dollar),A=Object(h.a)(g,2),T=A[0],C=A[1];d.generateRows,d.generateColumns;return Object(I.jsxs)(V.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",children:[Object(I.jsx)(q.a,{variant:"h4",component:"h3",marginY:1,children:t("labelTitleSecurity")}),Object(I.jsxs)(Q,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:[Object(I.jsxs)(m.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(I.jsx)(q.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleResetL2Keypair")}),Object(I.jsx)(ee,{}),Object(I.jsxs)(V.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(I.jsx)(V.a,{item:!0,xs:8,display:"flex",flexDirection:"column",children:Object(I.jsx)(q.a,{variant:"body1",component:"p",children:Object(I.jsxs)(J.a,{i18nKey:"resetDescription",children:["Create a new signing key for layer-2 authentication (no backup needed). This will",Object(I.jsx)(d.TypographyStrong,{component:"span",children:"cancel all your pending orders"}),"."]})})}),Object(I.jsxs)(V.a,{item:!0,xs:4,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:[Object(I.jsx)(O.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnReset")}),Object(I.jsx)(q.a,{variant:"body1",component:"p",paddingTop:1,children:t("labelHadChangPassword",{passDay:"14 hours"})})]})]})]}),Object(I.jsxs)(m.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(I.jsx)(q.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleExportAccount")}),Object(I.jsx)(ee,{}),Object(I.jsxs)(V.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(I.jsx)(V.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(I.jsx)(q.a,{variant:"body1",component:"p",children:t("descriptionExportAccount")})}),Object(I.jsx)(V.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(I.jsxs)(V.a,{item:!0,children:[" ",Object(I.jsx)(O.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnExportAccount")})]})})]})]})]}),Object(I.jsx)(q.a,{variant:"h4",component:"h3",marginY:1,children:t("labelTitlePreferences")}),Object(I.jsx)(Q,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:Object(I.jsxs)(m.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(I.jsx)(q.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleLayout")}),Object(I.jsx)(ee,{}),Object(I.jsxs)(V.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(I.jsx)(V.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(I.jsx)(q.a,{variant:"body1",component:"p",children:t("labelLanguage")})}),Object(I.jsx)(V.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(I.jsx)(V.a,{item:!0,children:Object(I.jsx)(d.BtnLanguage,Object(o.a)({},Object(o.a)(Object(o.a)({t:t},n),{},{language:p,label:"languageSetting",handleChange:function(e){j(e)}})))})})]}),Object(I.jsxs)(V.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(I.jsx)(V.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(I.jsx)(q.a,{variant:"body1",component:"p",children:t("labelCurrency")})}),Object(I.jsx)(V.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(I.jsx)(V.a,{item:!0,children:Object(I.jsx)(Z,Object(o.a)({},Object(o.a)(Object(o.a)({t:t},n),{},{currency:T,label:"currencySetting",handleChange:function(e){C(e)}})))})})]}),Object(I.jsxs)(V.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,children:[Object(I.jsx)(V.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(I.jsx)(q.a,{variant:"body1",component:"p",children:t("labelColors")})}),Object(I.jsxs)(V.a,{item:!0,xs:5,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:[Object(I.jsx)(q.a,{variant:"body1",component:"span",paddingX:2,children:Object(I.jsxs)(J.a,{i18nKey:"whichColorIsUp",children:[Object(I.jsxs)("span",{style:{textTransform:"capitalize",color:s===b.Chg.green?a.colorBase.success:a.colorBase.error},children:[{up:s===b.Chg.green?t("labelgreen"):t("labelred")}," up"]}),"and ",Object(I.jsxs)("span",{style:{textTransform:"capitalize",color:s===b.Chg.green?a.colorBase.error:a.colorBase.success},children:[{down:s===b.Chg.green?t("labelred"):t("labelgreen")}," down"]})]})}),Object(I.jsx)($,{checked:s===b.Chg.green,color:"default",onChange:function(e){e.target.checked?i(b.Chg.green):i(b.Chg.red)}})]})]})]})})]})}))),ne=Object(W.a)(j.a)(U||(U=Object(F.a)(["\n  // background: ",";\n  flex: 1;\n  height: 100%;\n  display: flex;\n  \n  justify-content: space-around;\n  align-items: center;\n"])),(function(e){return e.theme.colorBase.backgroundSecondary})),ae=Object(W.a)(K.a)(M||(M=Object(F.a)(["\n  background: ",";\n  .MuiBackdrop-root{\n    background-color: rgba(0,0,0,.2); \n  }\n"])),(function(e){return e.theme.colorBase.backgroundGlobal})),ce=function(e){var t=e.open,n=e.onClose;return Object(I.jsx)(ae,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(I.jsx)(ne,{maxWidth:"md",children:Object(I.jsx)(m.a,{children:Object(I.jsx)(te,{})})})})};var oe=function(e){var t=Object.assign({},e),n=Object(c.f)(),a=S(),r=a.headerToolBarData,s=a.headerMenuData,i=a.gatewayList,u=a.open,O=a.setOpen,h=a.setShowAccountInfo,v=(a.account,a.accountInfoProps),g=a.showAccountInfo,T=a.advanceOpen,C=a.setAdvanceOpen,_=(w().exchangeInfo,Object(A.d)().disconnect),x=Object(l.useCallback)((function(){O(!0)}),[O]);return console.log("-------accountInfoProps:",v," showAccountInfo:",g),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(d.HideOnScroll,{children:[!1,!1,Object(I.jsx)(d.Header,Object(o.a)(Object(o.a)({},t),{},{headerMenuData:s,headerToolBarData:r,selected:"/"===n.pathname?b.headerRoot:n.pathname}))]}),Object(I.jsx)(f.a,{}),Object(I.jsx)(d.ModalWalletConnect,Object(o.a)({},Object(o.a)(Object(o.a)({},t),{},{gatewayList:i,open:u,onClose:function(){return O(!1)}}))),v&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(p.a,{in:g,children:Object(I.jsx)(j.a,{maxWidth:"lg",children:Object(I.jsx)(m.a,{marginTop:2,children:Object(I.jsx)(d.AccountInfo,Object(o.a)({onDisconnect:function(){_(),h(!1)},onSwith:x},v))})})}),Object(I.jsx)(ce,{open:T,onClose:function(e){return C(!1)}})]})]})},re=n(295);var se=[[["LRC","BUSD"],[12.4,13],-.12,123.34,23.41,21759e3],[["LRC","BUSD"],[12.4,13],12.2,.99,12.3,"",""],[["LRC","BUSD"],[12.4,13],34.55,.42,4.678,"",13759500],[["LRC","BUSD"],[12.4,13],0,-.32,3.23,1.45,37346e3],[["LRC","BUSD"],[12.4,13],54,.52,12.333,"",""],[["LRC","BUSD"],[12.4,13],"",-.852,8.881,7.56,""],[["LRC","BUSD"],[12.4,13],26,.12,.659,1.344,42245e3]],ie=Object(re.a)("div",{target:"e19jzbou0"})({name:"ij0cw0",styles:"color:#fff;flex:1;height:100%;flex:1"}),le=Object(X.a)("common")((function(e){return Object(I.jsx)(ie,{children:Object(I.jsx)(d.QuoteTable,Object(o.a)({rawData:se},Object(o.a)({},e)))})})),ue=n(1880),de=function(e){var t=e.swapProps,n=Object(H.a)(e,["swapProps"]);return Object(I.jsx)(d.SwapPanel,Object(o.a)(Object(o.a)({},Object(o.a)(Object(o.a)({},t),n)),{},{children:" "}))};var be,Oe=n(29),fe=n(101),pe=n.n(fe),je=n(464),me=1e4;!function(e){e.Normal="Normal",e.EmptyInput="EmptyInput",e.ExceedUserBalance="ExceedUserBalance",e.ExceedPoolBalance="ExceedPoolBalance",e.Loading="Loading"}(be||(be={}));var he=function(e,t,n,a){var c=be.Normal;e=new pe.a(e),t=new pe.a(t),n=new pe.a(n),a=new pe.a(a);var o=new pe.a(0);return e.gt(t)?c=be.ExceedUserBalance:n.gt(a)?c=be.ExceedPoolBalance:(e.eq(o)||n.eq(o))&&(c=be.EmptyInput),{isNormal:c===be.Normal}};function ve(e,t){var n=t[e],a=je.utils.getAddress(n.address);return"https://exchange.loopring.io/assets/images/ethereum/assets/".concat(a,"/logo.png")}var ge=function(e,t,n){if(e){var a=e[t].tokenList,c={};if(a)return a.forEach((function(e){c[e]={icon:ve(e,n),name:e,simpleName:e,description:"",company:""}})),{right:a,coinMapRight:c}}},Ae=function(e,t){if(!e)throw Error("no tokens list!");return e[t]},Te=function(e,t,n){var a=Ae(t,n),c=e.pooledMap[a.tokenId].volume;return{tokenInfo:a,tokenVol:c,reserve:Oe.e(c)}},Ce=function(e,t){if(!e||!t)return{key:void 0,key_bak:void 0,isOK:!1};return{key:"AMM-"+e+"-"+t,key_bak:"AMM-"+t+"-"+e,isOK:!0}},_e=function(e,t){var n=t.key,a=t.key_bak;return e[n]?e[n]:e[a]},xe=function(e,t,n,a,c){var o=ye(e,t,n,a),r=o.ammInfo,s=o.ammBalance,i=Ae(c,n),l=Ae(c,a);return{ammInfo:r,ammBalance:s,baseBalance:s.pooledMap[i.tokenId],quoteBalance:s.pooledMap[l.tokenId]}},ye=function(e,t,n,a){var c=Ce(n,a),o=_e(e,c),r=_e(t,c);if(!o||!r)throw Error("no ammInfo! no ammBalance!");return{ammInfo:o,ammBalance:r,feeBips:parseInt(o.feeBips)}},ke=function(e,t){return void 0===e&&(e=0),Oe.e(e).times("1e"+t.decimals)},Ee=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,c=Ae(e,t),o=1e7,r=Oe.e(o*(1-a)),s=Oe.e(n).times("1e"+c.decimals),i=s.times(r).dividedBy(o),l=Se(e,t,i);return{outInWei:i,out:l}},Ie=function(e,t,n,a){var c=Ae(e,t),o=Oe.e(me-a);return Oe.e(n).times("1e"+c.decimals).times(o).dividedBy(me)};function Se(e,t,n,a,c){try{var o=Ae(e,t),r=a||o.precision,s=Oe.e(n).div("1e"+o.decimals);return Oe.g(s,r,c)}catch(i){return 0}}function Pe(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,c=Ae(e,t);return"undefined"===typeof c?0:Oe.e(n).times("1e"+c.decimals).toFixed(0,a)}function Re(){var e=Object(l.useState)(""),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(l.useState)(""),o=Object(h.a)(c,2),r=o[0],s=o[1],i=function(){var e=Object(l.useState)(),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(R.a)();return Object(P.a)((function(){if(c)return c.getAmmPoolConf()}),a,void 0,"useGetAmmPools",[c]),{ammpools:n}}().ammpools,u=function(){var e=Object(l.useState)(),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(R.a)();return Object(P.a)((function(){if(c)return c.getAmmPoolBalances()}),a,void 0,"useGetAmmPoolsBalances",[c]),{ammPoolsBalances:n}}().ammPoolsBalances,d=null===u||void 0===u?void 0:u.ammpoolsbalances,b=Object(l.useState)(""),O=Object(h.a)(b,2),f=O[0],p=O[1],j=Object(l.useState)(""),m=Object(h.a)(j,2),v=m[0],g=m[1],A=D().tokens,T=null===A||void 0===A?void 0:A.tokenSymbolMap;return Object(C.a)((function(){if(n&&r&&i&&d){var e=ye(i.ammpools,d,n,r).ammInfo;g(e.market),p(e.address)}}),[n,r,i,d]),{base:n,setBase:a,quote:r,setQuote:s,market:v,tokens:T,poolAddress:f,ammpools:i,ammPoolsBalances:d}}var we=n(164),De=n(85),Ne=n(19),Be=n(463),Le=[{value:z.a.depth,key:Ne.ChartType.Depth,label:"label"+Ne.ChartType.Depth},{value:z.a.trend,key:Ne.ChartType.Price,label:"label"+Ne.ChartType.Price}],Ue=function(e){var t=e.props,n=e.swapProps,a=e.t,c=Object(H.a)(e,["props","swapProps","t"]),r=Le.map((function(e){var t=e.value,n=e.label,c=e.key;return{value:t,tlabel:a(n),key:c,JSX:Object(I.jsx)(I.Fragment,{children:a(n)})}})),s=t.quote,i=t.market,u=t.tokens,b=Object(l.useState)(Ne.ChartType.Depth),O=Object(h.a)(b,2),f=O[0],p=O[1],j=Object(l.useState)(0),v=Object(h.a)(j,2),g=v[0],A=v[1],T=Object(l.useState)(""),_=Object(h.a)(T,2),x=(_[0],_[1]),y=Object(R.b)();Object(C.a)((function(){if(y&&i&&u&&s){var e=!0,t={market:i,interval:we.d.d1,limit:2};return y.getCandlestick(t).then((function(t){if(e&&(null===t||void 0===t?void 0:t.candlesticks)&&t.candlesticks.length>0){var n=t.candlesticks[t.candlesticks.length-1],a=n.close,c=t.candlesticks[0].close,o=c?(a-c)/c:0;if(o&&A(o),null===n||void 0===n?void 0:n.quoteVol){var r=Se(u,s,null===n||void 0===n?void 0:n.quoteVol);x(r)}}})).catch((function(e){Object(De.a)(e)})),function(){e=!1}}}),[y,i,u,s]);var k=Object(l.useState)(),E=Object(h.a)(k,2),S=E[0],P=E[1],w=Object(l.useState)(z.a.trend),D=Object(h.a)(w,2),N=D[0],B=(D[1],Object.keys(Ne.ChartUnit).reduce((function(e,t){var n={value:Ne.ChartUnit[t],key:Ne.ChartUnit[t],label:"label"+Ne.ChartUnit[t]};return e.push({value:n.value,tlabel:a(n.label?n.label:n.key),key:n.key,JSX:Object(I.jsx)(I.Fragment,{children:a(n.label?n.label:n.key)})}),e}),[]));return Object(C.a)((function(){var e=!0;if(y&&i){var t={market:i,interval:we.d.min15,limit:96};y.getCandlestick(t).then((function(t){if(e){var n=t.candlesticks.map((function(e){return{timeStamp:e.timeStamp,low:e.low,high:e.high,open:e.open,close:e.close,volume:e.quoteVol}}));P(n)}return function(){e=!1}})).catch((function(e){Object(De.a)(e,"ChartPanel getCandlestick")}))}}),[y,i]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(m.a,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",children:[n.tradeData?Object(I.jsx)(Be.TradeTitle,Object(o.a)({},Object(o.a)(Object(o.a)(Object(o.a)({},c),{},{t:a},n),{},{tradeFloat:{value:g,percent:"+15%",chartUnit:"24h"}}))):void 0,Object(I.jsx)(d.ToggleButtonGroup,Object(o.a)(Object(o.a)({exclusive:!0},Object(o.a)(Object(o.a)({},c),{},{t:a,tgItemJSXs:r,value:f})),{},{handleChange:function(e,t){p(t)}}))]}),Object(I.jsxs)(V.a,{container:!0,children:[Object(I.jsx)(V.a,{item:!0,xs:12,minHeight:256,maxHeight:256,children:Object(I.jsx)(z.c,{type:N,data:null!==S&&void 0!==S?S:[],handleMove:function(){}})}),Object(I.jsx)(V.a,{item:!0,xs:12,height:24,display:"flex",justifyContent:"flex-end",children:Object(I.jsx)(d.ToggleButtonGroup,Object(o.a)(Object(o.a)({exclusive:!0},Object(o.a)(Object(o.a)({},c),{},{t:a,tgItemJSXs:B,value:Ne.ChartUnit.D1,size:"small"})),{},{handleChange:function(){}}))})]})]})};n(337);function Me(e){var t=Object(R.c)(),n=Object(l.useState)(void 0),a=Object(h.a)(n,2),c=a[0],o=a[1],r=Object(A.a)(),s=r.apiKey,i=r.accountId;return Object(C.a)((function(){if(t&&s&&i&&e){var n=[],a=Reflect.ownKeys(e),c={};a.forEach((function(t){var a=e[t];n.push(a.tokenId),c[a.tokenId]=a})),t.getUserBalances({accountId:i,tokens:n.join(",")},s).then((function(t){var n={map:c,tokenId:{},symbol:{}};t.forEach((function(a){var o=Oe.e(a.total),r=Oe.e(a.locked),s=o.minus(r);console.log("item:",a);var i=c[a.tokenId];t[0].total,t[0].locked,s.toString(),Se(e,i.symbol,s);n.tokenId[a.tokenId]=s.toString(),n.symbol[i.symbol]=s.toString()})),o(n)})).catch((function(t){Object(De.a)(t,"getUserBalances tokenId:"+e.tokenId)}))}}),[t,s,i,e]),{balances:c,setBalances:o}}var Fe=n(151),Ke=n(494);function He(e,t,n){var a=[];return a.push(Object(Fe.b)()),a.push(Object(Fe.d)(t)),a.push(Object(Fe.c)(e)),function(e){var t=Object(l.useState)(),n=Object(h.a)(t,2),a=n[0],c=n[1],o=Object(l.useState)(),r=Object(h.a)(o,2),s=r[0],i=r[1],u=Object(l.useState)(),d=Object(h.a)(u,2),b=d[0],O=d[1];return Object(C.a)((function(){if(e&&!e.op&&e.topic&&e.topic.topic)switch(e.topic.topic){case Fe.a.Account:c(e.data);break;case Fe.a.Ammpool:var t={baseAmt:e.data[0][0],quoteAmt:e.data[0][1],timestamp:e.data[1]};i(t);break;case Fe.a.Candlestick:break;case Fe.a.Order:O(e.data);break;case Fe.a.OrderBook:case Fe.a.Ticker:case Fe.a.Trade:break;default:throw Error("Unknown WsTopicType:"+e.topic.topic)}}),[e]),{account:a,ammPool:s,order:b}}(Object(Ke.b)(a,!0,n,!!e&&!!t&&!!n).socketData)}var We,Ve,Ge,Ye=n(110);function qe(e){if(!e||!(e instanceof Object)||"function"==typeof e)return e||void 0;var t=new(0,e.constructor);for(var n in e)e.hasOwnProperty(n)&&(t[n]=qe(e[n]));return t}function Xe(e,t,n,a,c,r,u,d,b){var O=Object(A.a)(),f=O.apiKey,p=O.eddsaKey,j=O.accountId,m=Object(l.useState)(Ye.a.getAmmOrder()),v=Object(h.a)(m,2),g=v[0],T=v[1],_=Object(l.useState)(.01),x=Object(h.a)(_,2),y=x[0],k=(x[1],Object(l.useState)(0)),E=Object(h.a)(k,2),I=E[0],S=E[1],P=Object(l.useState)(),D=Object(h.a)(P,2),N=D[0],B=D[1],L=Object(l.useState)(0),U=Object(h.a)(L,2),M=U[0],F=U[1],K=M?M*(1-y):0,H=Object(R.c)(),W=Object(l.useState)({}),V=Object(h.a)(W,2),G=V[0],Y=V[1],q=Object(l.useState)({}),X=Object(h.a)(q,2),J=X[0],z=X[1],Q=w().exchangeInfo,$=Object(l.useState)(0),Z=Object(h.a)($,2),ee=Z[0],te=Z[1],ne=Object(l.useState)(10),ae=Object(h.a)(ne,2),ce=ae[0],oe=ae[1],re=Object(l.useState)(0),se=Object(h.a)(re,2),ie=se[0],le=se[1],ue=Object(l.useState)(0),de=Object(h.a)(ue,2),be=de[0],fe=de[1],je=Me(c),Ce=je.balances,_e=je.setBalances,Re=Object(l.useState)(0),Ne=Object(h.a)(Re,2),Be=Ne[0],Le=Ne[1],Ue=Object(l.useState)(0),Fe=Object(h.a)(Ue,2),Ke=Fe[0],Xe=Fe[1],Je=Object(l.useState)({}),ze=Object(h.a)(Je,2),Qe=ze[0],$e=ze[1],Ze=Object(l.useState)("0"),et=Object(h.a)(Ze,2),tt=et[0],nt=et[1],at=Object(l.useState)(),ct=Object(h.a)(at,2),ot=ct[0],rt=ct[1],st=Object(l.useState)({}),it=Object(h.a)(st,2),lt=it[0],ut=it[1],dt=He(u,r,f),bt=dt.account,Ot=dt.ammPool;dt.order;Object(C.a)((function(){if(Ce&&e&&c){var t=Ce.symbol[e];Le(t),Xe(Se(c,e,t))}}),[Ce,e,c]),Object(C.a)((function(){if(bt&&c&&e){var t=Ce.tokenId[bt.tokenId],n=Oe.e(bt.totalAmount),a=Oe.e(bt.amountLocked),o=n.minus(a);if(!o.eq(Oe.e(t))){Se(c,e,o.toString());var r=qe(Ce);r.tokenId[bt.tokenId]=o.toString();var s=r.map[bt.tokenId];r.symbol[s.symbol]=o.toString(),_e(r)}}}),[bt,c,e]),Object(C.a)((function(){var e={};Ce&&Ce.symbol&&Reflect.ownKeys(Ce.symbol).forEach((function(t){var n=Ce.symbol[t];e[t]={belong:t,count:Se(c,t,n)}}));$e(e)}),[Ce,c]),Object(C.a)((function(){if(e&&t&&d&&b&&c){var n=xe(d.ammpools,b,e,t,c),a=n.ammInfo,o=n.baseBalance,r=n.quoteBalance;te(a.feeBips),nt(r.volume),rt(Se(c,t,r.volume)),o.volume>0?le(r.volume/o.volume):le(0)}}),[c,e,t,d,b]),Object(C.a)((function(){if(Ot){var e=Oe.e(Ot.quoteAmt);e.eq(Oe.e(tt))||(nt(e.toString()),rt(Se(c,t,e)))}}),[Ot]),Object(C.a)((function(){if(f||j||H||g){return function e(t,n,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise((function(o,r){n&&H.getOrderDetails({accountId:t,orderHash:n},a).then((function(n){if(console.log("order.status:",n.status),n.status===we.e.processed)return Ye.a.clearAmmOrder(),o(We.processed);c<10?setTimeout((function(){e(t,Ye.a.getAmmOrder(),a,c++)}),1e3):r(We.too_many_times)})).catch((function(){return Ye.a.clearAmmOrder(),r(We.no_such_order)}))}))}(j,Ye.a.getAmmOrder(),f).then((function(e){console.log("then:",e)})).catch((function(e){Object(De.a)(e)})),function(){}}}),[f,j,g,H]),Object(C.a)((function(){if(d&&c){var e=function(e,t){if(e){var n=Reflect.ownKeys(e),a={};return n.forEach((function(e){a[e]={icon:ve(e,t),name:e,simpleName:e,description:"",company:""}})),{left:n,coinMapLeft:a}}}(d.pairs,c);if(e){Y(e.coinMapLeft),n(e.left[0]);var t=ge(d.pairs,e.left[0],c);t&&(z(t.coinMapRight),a(t.right[0]))}}}),[d,c]),Object(C.a)((function(){if(H&&j&&f&&e&&t&&d&&b&&c){var n=!0,a=xe(d.ammpools,b,e,t,c).ammInfo;return H.getUserFeeRate({accountId:j,markets:a.market},f).then((function(e){n?oe(e[0].takerRate):console.log("setTakerRate unmounted!")})).catch((function(e){Object(De.a)(e,"after getUserFeeRate")})),function(){n=!1}}}),[c,H,j,f,e,t,d,b]);var ft=Object(l.useCallback)((function(n){if(d&&b){var a=n.tradeValue;if(void 0===a||a!==N){void 0===a&&(a=0);var o=function(e,t,n,a,c,o,r,s){void 0===e&&(e=0);var i=ye(t,n,c,o),l=i.ammBalance,u=i.feeBips,d=Te(l,a,c),b=d.tokenInfo,O=d.reserve,f=Te(l,a,o),p=(f.tokenInfo,f.reserve),j=ke(e,b),m=Oe.e(me-u),h=j.times(m),v=h.times(p),g=O.times(me).plus(h),A=Se(a,o,v.dividedBy(g)),T=Ie(a,o,A,r+u),C=Number(Se(a,o,T)),_=0;return C<0?(C=0,A=null):_=(Number(A)/Number(e)-s)/s,{quoteAmt:A,_amount1ApplyOrderFeeInWei:T,_amount1ApplyOrderFee:C,priceImpact:_}}(a,d.ammpools,b,c,e,t,ce,ie),r=o.quoteAmt,s=o._amount1ApplyOrderFee,i=o.priceImpact;return he(a,Be,r,Se(c,t,tt)).isNormal?(B(a),F(r),fe(s),S(i)):(F(0),fe(0),S(0)),r}console.log("return directly")}}),[c,N,Be,tt,d,b,e,t,ce,ie]),pt=Object(l.useCallback)((function(n){if(d&&b){var a=n.tradeValue;if(void 0===a||a!==M){void 0===a&&(a=0);var o=function(e,t,n,a,c,o,r,s){void 0===e&&(e=0);var i=ye(t,n,c,o),l=i.ammBalance,u=i.feeBips,d=Te(l,a,c),b=(d.tokenInfo,d.reserve),O=Te(l,a,o),f=O.tokenInfo,p=O.reserve,j=ke(e,f);if(j.gt(p))return{baseAmt:0,_amount1ApplyOrderFeeInWei:0,_amount1ApplyOrderFee:0,priceImpact:0,hasError:!1};var m=j.times(b).times(me),h=Oe.e(me-u),v=p.minus(j),g=h.times(v),A=Se(a,o,m.dividedBy(g)),T=Ie(a,o,e,r+u),C=Number(Se(a,o,T)),_=0;return C<0?(C=0,A=null):_=(Number(e)/Number(A)-s)/s,{baseAmt:A,_amount1ApplyOrderFeeInWei:T,_amount1ApplyOrderFee:C,priceImpact:_,hasError:!1}}(a,d.ammpools,b,c,e,t,ce,ie),r=o.baseAmt,s=o._amount1ApplyOrderFee,i=o.priceImpact,l=o.hasError,u=he(r,Be,a,Se(c,t,tt)).isNormal;return!l&&u?(B(r),F(a),fe(s),S(i)):(B(0),fe(0),S(0)),r}}}),[c,M,Be,tt,d,b,e,t,ce,ie]),jt=Object(l.useCallback)((function(){console.log("try to swap ",N,e," -> ",M,t),function(){var n=Object(i.a)(s.a.mark((function n(){var a,o,r,i,l,u,O,m,h,v,g;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===Q||void 0===Q?void 0:Q.exchangeAddress){n.next=2;break}throw Error("no exchangeAddress!");case 2:if(N&&M){n.next=5;break}return console.log("no baseAmt or quoteAmt!"),n.abrupt("return");case 5:return a=ye(d.ammpools,b,e,t),a.ammInfo,a.feeBips,o=!1,r=Ae(c,e),i=Ae(c,t),n.prev=9,n.next=12,H.getNextStorageId({accountId:j,sellTokenId:r.tokenId},f);case 12:u=n.sent,l=u.orderId,n.next=20;break;case 16:throw n.prev=16,n.t0=n.catch(9),Object(De.a)(n.t0,"getNextStorageId"),Error("getNextStorageId failed");case 20:return 17e8,O=Pe(c,e,N),m=Ee(c,t,be,y),h=new pe.a(m.outInWei).toFixed(),n.prev=24,console.log("amount0InBigNumber:",O," amount1InBigNumber:",h),v={exchange:null===Q||void 0===Q?void 0:Q.exchangeAddress,accountId:j,storageId:l,sellToken:{tokenId:r.tokenId,volume:O.toString()},buyToken:{tokenId:i.tokenId,volume:h.toString()},allOrNone:o,validUntil:17e8,maxFeeBips:60,fillAmountBOrS:!1,orderType:we.c.ClassAmm,eddsaSignature:""},n.next=29,H.submitOrder(v,p,f);case 29:g=n.sent,console.log("response:",g),Ye.a.setAmmOrder(g.hash),T(g.hash),n.next=38;break;case 35:n.prev=35,n.t1=n.catch(24),Object(De.a)(n.t1,"submitOrderV3");case 38:case"end":return n.stop()}}),n,null,[[9,16],[24,35]])})));return function(){return n.apply(this,arguments)}}()()}),[j,b,d,be,f,e,N,p,null===Q||void 0===Q?void 0:Q.exchangeAddress,t,M,y,c,H]);return Object(C.a)((function(){var r={coinSell:e,coinBuy:t,StoB:parseFloat(null===ie||void 0===ie?void 0:ie.toFixed(4)),BtoS:0,sellCoinInfoMap:G,buyCoinInfoMap:J,walletMap:Qe,slippage:100*y,slippageTolerance:[.1,.5,1,"slippage:N"],priceImpact:"".concat((100*Math.abs(I)).toFixed(2),"%"),minimumReceived:K.toFixed(7),fee:"".concat((Math.abs(ee+ce)/100).toFixed(2),"%")},l={tradeData:{sell:{belong:e,balance:Ke,tradeValue:N},buy:{belong:t,balance:ot,tradeValue:M}},tradeCalcData:r,onSwapClick:function(e){jt()},onCoinValueChange:function(e){var t,n,a,c,r,s,i,l;if(e.type===Ve.Sell&&(null===(t=e.tradeData)||void 0===t||null===(n=t.sell)||void 0===n?void 0:n.belong)&&(null===(a=e.tradeData)||void 0===a||null===(c=a.sell)||void 0===c?void 0:c.tradeValue)){var u,d=ft(null===(u=e.tradeData)||void 0===u?void 0:u.sell);void 0!==d&&(e.tradeData.buy=Object(o.a)(Object(o.a)({},e.tradeData.buy),{},{tradeValue:d}))}else if(e.type===Ve.Buy&&(null===(r=e.tradeData)||void 0===r||null===(s=r.buy)||void 0===s?void 0:s.belong)&&(null===(i=e.tradeData)||void 0===i||null===(l=i.buy)||void 0===l?void 0:l.tradeValue)){var b,O=pt(null===(b=e.tradeData)||void 0===b?void 0:b.buy);void 0!==O&&(e.tradeData.sell=Object(o.a)(Object(o.a)({},e.tradeData.sell),{},{tradeValue:O}))}return e},doBeforeSwitch:function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){var o=t.type,s=t.tradeData,i=t.to;switch(o){case Ve.Sell:if(i===Ge.Menu);else if(i===Ge.Button){a(void 0),n(s.sell.belong);var l=ge(d.pairs,s.sell.belong,c);l&&(z(l.coinMapRight),a(l.right[0]))}break;case Ve.Buy:i===Ge.Menu||i===Ge.Button&&a(s.buy.belong);break;case Ve.Exchange:console.log("wait 100, with tradeData",s),a(void 0),n(s.sell.belong);var u=ge(d.pairs,s.sell.belong,c);u&&(z(u.coinMapRight),a(u.right[0])),B(0),F(0)}e(r)}),500)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};ut(l)}),[y,I,ee,ce,G,J,Qe,K,Ke,ot,N,M,ie,ft,pt,jt]),{baseAmt:N,quoteAmt:M,slippageTolerance:y,availToShow:Ke,quoteToShow:ot,walletMap:Qe,balances:Ce,currentPrice:ie,minimumReceived:K,priceImpact:I,fee:ee,takerRate:ce,left:G,right:J,swapProps:lt,onBaseAmtInputChange:ft,onQuoteAmtInputChange:pt,onSwap:jt}}!function(e){e.processed="processed",e.no_such_order="no_such_order",e.too_many_times="too_many_times"}(We||(We={})),function(e){e.Buy="buy",e.Sell="sell",e.Exchange="exchange"}(Ve||(Ve={})),function(e){e.Menu="menu",e.Button="button"}(Ge||(Ge={}));var Je=n(1948),ze=n(1883),Qe=[{key:"side",name:"Side"},{key:"amount",name:"Amount"},{key:"price",name:"Price"},{key:"fee",name:"Fee"},{key:"time",name:"Time"}],$e=[{key:"side",name:"Side"},{key:"price",name:"Price"},{key:"feeAmount",name:"FeeAmount"},{key:"time",name:"Time"}],Ze=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},et=Object(X.a)("common",{withRef:!0})(d.Table),tt=function(e){var t=e.children,n=e.value,a=e.index,c=Object(H.a)(e,["children","value","index"]);return Object(I.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},c),{},{children:n===a&&Object(I.jsx)(u.a.Fragment,{children:t})}))},nt=function(e){var t=e.myTrades,n=e.recentTrades,a=Object(l.useState)(0),c=Object(h.a)(a,2),r=c[0],s=c[1],i={rawData:t||[],columnMode:Qe,generateRows:d.generateRows,generateColumns:d.generateColumns},u={rawData:n||[],columnMode:$e,generateRows:d.generateRows,generateColumns:d.generateColumns};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Je.a,{value:r,onChange:function(e,t){s(t)},"aria-label":"tabs switch",children:[Object(I.jsx)(ze.a,Object(o.a)({label:"My Trades"},Ze(0))),Object(I.jsx)(ze.a,Object(o.a)({label:"Recent Trades"},Ze(1)))]}),Object(I.jsx)(tt,{value:r,index:0,children:Object(I.jsx)(et,Object(o.a)({},i))}),Object(I.jsx)(tt,{value:r,index:1,children:Object(I.jsx)(et,Object(o.a)({},u))})]})};var at,ct=function(e){var t=e.market,n=e.poolAddress,a=function(e){var t=Object(A.a)(),n=t.apiKey,a=t.accountId,c=Object(R.c)(),o=Object(l.useState)(),r=Object(h.a)(o,2),s=r[0],i=r[1];return Object(C.a)((function(){c&&a&&n&&e&&c.getUserTrades({accountId:a,market:e,fillTypes:we.a.amm},n).then((function(e){var t=[];e.trades.forEach((function(e){t.push([e[2],e[3],e[4],e[6],e[0]])})),i(t)})).catch((function(e){Object(De.a)(e)}))}),[c,a,n,e]),{myTrades:s}}(t).myTrades,c=function(e){var t=Object(R.a)(),n=Object(l.useState)(),a=Object(h.a)(n,2),c=a[0],o=a[1];return Object(C.a)((function(){t&&e&&t.getAmmPoolTrades({ammPoolAddress:e}).then((function(e){var t=[];e.trades.forEach((function(e){t.push([e.side,e.price,e.feeAmount,e.createdAt])})),o(t)})).catch((function(e){Object(De.a)(e)}))}),[t,e]),{recentTrades:c}}(n).recentTrades;return Object(I.jsx)(nt,{myTrades:a,recentTrades:c})},ot=n(585),rt=Object(ot.default)(ue.a)(at||(at=Object(F.a)(["\n  @media (min-height: 672px) {\n    position: fixed;\n  }\n\n"]))),st=Object(X.a)("common")((function(e){var t=Object.assign({},e),n=Re(),a=n.base,c=n.quote,r=n.setBase,s=n.setQuote,i=n.tokens,l=n.market,u=n.poolAddress,d=Xe(a,c,r,s,i,l,u,n.ammpools,n.ammPoolsBalances).swapProps;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(m.a,{flex:1,height:500,marginRight:4,children:[Object(I.jsx)(Ue,Object(o.a)({},Object(o.a)(Object(o.a)({},t),{},{swapProps:d,props:n}))),Object(I.jsx)(ct,{market:l,poolAddress:u})]}),Object(I.jsx)(m.a,{display:"flex",style:{width:"var(--swap-box-width)"},children:Object(I.jsx)(rt,{children:Object(I.jsx)(de,Object(o.a)({},Object(o.a)(Object(o.a)({},t),{},{swapProps:d})))})})]})})),it=function(){Object(l.useRef)(null);var e=Object(A.a)(),t=e.account,n=(e.isNoAccount,e.apiKey),a=Object(Ke.a)(n).socketData,c=function(){var e=Object(l.useState)(),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(R.b)();return Object(P.a)((function(){if(c)return c.getMarkets()}),a,void 0,"useGetMarkets",[c]),{markets:n}}().markets,o=w().exchangeInfo,r=D().tokens,s=function(){var e=Object(l.useState)(),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(R.b)();return Object(P.a)((function(){if(c)return c.getGasPrice()}),a,void 0,"useGetGas",[c]),{gas:n}}().gas;null===s||void 0===s||s.data;console.log("account:",t),console.log("exchangeInfo:",o),console.log("tokens:",r);t.accAddr&&t.accAddr;return Object(I.jsxs)("div",{children:["Debug",Object(I.jsxs)("div",{children:["account:",JSON.stringify(t)]}),Object(I.jsxs)("div",{children:["eddsaKey:",t.eddsaKey]}),Object(I.jsxs)("div",{children:["wsdata: ",JSON.stringify(a)]}),Object(I.jsx)("div",{children:"----------------------------"}),Object(I.jsxs)("div",{children:["markets:",JSON.stringify(c)]}),Object(I.jsx)("div",{children:"----------------------------"}),Object(I.jsxs)("div",{children:["depositAddress:",null===o||void 0===o?void 0:o.depositAddress]}),Object(I.jsxs)("div",{children:["exchangeAddress:",null===o||void 0===o?void 0:o.exchangeAddress]}),Object(I.jsx)("div",{children:"----------------------------"}),Object(I.jsxs)("div",{children:["tokens:",JSON.stringify(r)]}),Object(I.jsx)("div",{children:"----------------------------"})]})},lt=n(406),ut=n(109);var dt=Object(X.a)("common")((function(e){var t=function(){var e=Object(A.a)(),t=e.accountId,n=e.apiKey,a=Object(R.c)(),c=Object(l.useState)(),o=Object(h.a)(c,2),r=o[0],u=o[1];return Object(C.a)(Object(i.a)(s.a.mark((function e(){var c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.getUserTranferList({accountId:t},n);case 4:c=e.sent,o=[],c.transactions.forEach((function(e,t){o.push({from:{address:e.senderAddress,env:""},to:{address:e.receiverAddress,env:""},amount:e.amount,fee:{unit:e.feeTokenSymbol,value:e.feeAmount},memo:e.symbol,time:e.timestamp,txnHash:e.hash,status:e.status,token:e.token,tradeType:ut.b.allTypes})})),u(o);case 8:case"end":return e.stop()}}),e)}))),[t,n,a]),{txs:r}}().txs,n=void 0!==t?t:[];return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(d.TransactionTable,Object(o.a)({rawData:n},Object(o.a)({},e)))})})),bt=n(80);function Ot(){var e=Object(bt.b)();return{ShowDeposit:Object(l.useCallback)((function(t){return e(Object(d.setShowDeposit)({isShow:t}))}),[e]),ShowTransfer:Object(l.useCallback)((function(t){return e(Object(d.setShowTransfer)({isShow:t}))}),[e]),ShowWithdraw:Object(l.useCallback)((function(t){return e(Object(d.setShowWithdraw)({isShow:t}))}),[e]),ShowResetAccount:Object(l.useCallback)((function(t){return e(Object(d.setShowResetAccount)({isShow:t}))}),[e])}}var ft,pt,jt=n(308),mt=n.n(jt),ht=n(500);function vt(e,t){var n=Object(R.c)(),a=Object(A.a)(),c=a.accountId,o=a.apiKey,r=Object(l.useState)([]),u=Object(h.a)(r,2),d=u[0],b=u[1];return Object(C.a)(Object(i.a)(s.a.mark((function a(){var r,i,l;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("!!!!!!!!!useCustomDCEffect useChargeFeeList:",e,c),c&&e){a.next=3;break}return a.abrupt("return");case 3:return r=[],a.prev=4,i={accountId:c,tokenSymbol:e,requestType:t},a.next=8,n.getOffchainFeeAmt(i,o);case 8:(l=a.sent)&&(l.fees.forEach((function(e,t){r.push({belong:e.token,fee:e.fee})})),b(r)),console.log("response:",l),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),Object(De.a)(a.t0);case 16:b(r);case 17:case"end":return a.stop()}}),a,null,[[4,13]])}))),[c,o,e]),{chargeFeeList:d}}function gt(){var e=Ot(),t=e.ShowDeposit,n=e.ShowTransfer,a=e.ShowWithdraw,c=e.ShowResetAccount,o=Object(A.f)(),r=o.chainId,u=o.isConnected,O=o.connector,f=w().exchangeInfo,p=Object(A.a)(),j=p.account,m=p.apiKey,v=p.accountId,g=p.eddsaKey,T=D().tokens,_=null===T||void 0===T?void 0:T.tokenSymbolMap,y=Object(R.c)(),k=Object(R.b)(),E=function(e,t){var n=Object(l.useState)({}),a=Object(h.a)(n,2),c=a[0],o=a[1];return Object(C.a)(Object(i.a)(s.a.mark((function n(){var a,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t){n.next=2;break}return n.abrupt("return");case 2:a=Reflect.ownKeys(t),c={},a.forEach((function(e){e.startsWith("LP-")||(c[e]={icon:ve(e,t),name:e,simpleName:e,description:"",company:""})})),o(c);case 6:case"end":return n.stop()}}),n)}))),[e,t]),{coinMap:c}}(k,_).coinMap,I=function(e,t,n){var a=Object(l.useState)({}),c=Object(h.a)(a,2),o=c[0],r=c[1];return Object(C.a)(Object(i.a)(s.a.mark((function a(){var c,o,i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t&&t.accAddr&&n){a.next=2;break}return a.abrupt("return");case 2:return c={},a.next=5,e.getTokenBalances({owner:t.accAddr,token:""},n);case 5:o=a.sent,i=o.tokenBalances,Reflect.ownKeys(i).forEach((function(e){var t=i[e];c[e]={belong:e,count:Se(n,e,t)}})),r(c);case 10:case"end":return a.stop()}}),a)}))),[e,t,n]),{walletMap:o}}(k,j,_).walletMap,S=function(e){var t=Me(e).balances,n=Object(l.useState)({}),a=Object(h.a)(n,2),c=a[0],o=a[1];return Object(C.a)((function(){var n={};t&&t.symbol&&Reflect.ownKeys(t.symbol).forEach((function(a){var c=t.symbol[a];n[a]={belong:a,count:Se(e,a,c)}})),console.log("lv2:",n),o(n)}),[t,e]),{walletMap:c}}(_).walletMap,P=Object(l.useCallback)(function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,c,o,i,l,d,b,p,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&u&&O&&(null===f||void 0===f?void 0:f.exchangeAddress)&&(null===f||void 0===f?void 0:f.depositAddress)){e.next=3;break}return console.log("exchangeInfo:".concat(f," deposit exit!!!!!")),e.abrupt("return");case 3:return e.prev=3,a=_[t],e.next=7,O.getProvider();case 7:return c=e.sent,o=new mt.a(c),i=j.connectName===x.b.Injected,i=!0,e.next=13,k.getGasPrice();case 13:return e.t0=e.sent.data,l=e.t0/1e9,d=35e4,e.next=18,ht.c(o,j.accAddr);case 18:return b=e.sent,console.log("gasPrice:",l),console.log("account.connectName:",j.connectName," tokenInfo:",a),e.next=23,ht.a(o,j.accAddr,a.address,null===f||void 0===f?void 0:f.depositAddress,l,d,r,b,i);case 23:return p=e.sent,console.log("response:",p),0,e.next=28,ht.b(o,j.accAddr,null===f||void 0===f?void 0:f.exchangeAddress,a,n,0,l,d,r,b+1,i);case 28:m=e.sent,console.log("response2:",m),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(3),Object(De.a)(e.t1);case 35:case"end":return e.stop()}}),e,null,[[3,32]])})));return function(t,n){return e.apply(this,arguments)}}(),[r,u,O,j,f,_,k]),N=Object(l.useCallback)(function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,c,o,i,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("withdraw apiKey:",m," exchangeInfo:",f," exchangeAddr:",f.exchangeAddress),j&&j.accountId&&j.accAddr&&O&&r&&m&&f&&f.exchangeAddress){e.next=4;break}return console.log("return directly!!!!!",j,O,r,m,f),e.abrupt("return");case 4:return"5500000000000000000","5500000000000000000",console.log("exchangeAddress:",f.exchangeAddress),e.prev=7,a={accountId:j.accountId,sellTokenId:1},e.next=11,y.getNextStorageId(a,m);case 11:return c=e.sent,o={exchange:f.exchangeAddress,owner:j.accAddr,to:j.accAddr,accountId:j.accountId,storageId:c.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},extraData:"",minGas:0,validUntil:we.f},e.next=15,O.getProvider();case 15:return i=e.sent,l=new mt.a(i),e.next=19,y.submitOffchainWithdraw(o,l,r,x.b.Injected,j.eddsaKey,m,!1);case 19:u=e.sent,console.log(u),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),Object(De.a)(e.t0);case 26:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t,n){return e.apply(this,arguments)}}(),[m,j,O,f,r,y]),B=Object(l.useCallback)(function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,c,o,i,l,u,d,b,p,h=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:"0xb6AdaC3e924B4985Ad74646FEa3610f14cDFB79c",O&&m&&r&&v&&(null===j||void 0===j?void 0:j.accAddr)){e.next=3;break}return e.abrupt("return");case 3:return a={accountId:v,sellTokenId:1},e.next=6,y.getNextStorageId(a,m);case 6:return c=e.sent,console.log("amt: ".concat(t," storageId:").concat(JSON.stringify(c))),e.prev=8,e.next=11,O.getProvider();case 11:return o=e.sent,i=new mt.a(o),l=j.connectName,l=x.b.Injected,e.next=17,k.getAccount({owner:n});case 17:return u=e.sent,d=0,u&&(d=u.accountId),b={exchange:f.exchangeAddress,payerAddr:j.accAddr,payerId:v,payeeAddr:n,payeeId:d,storageId:c.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},validUntil:we.f},console.log("request2:".concat(JSON.stringify(b))),e.next=24,y.submitInternalTransfer(b,i,r,l,g,m,!1);case 24:p=e.sent,console.log(p),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),Object(De.a)(e.t0);case 31:case"end":return e.stop()}}),e,null,[[8,28]])})));return function(t){return e.apply(this,arguments)}}(),[m,v,j,O,f,r,g,y,k]),L=Object(l.useState)({belong:void 0,amt:0}),U=Object(h.a)(L,2),M=U[0],F=U[1],K={tradeData:{belong:void 0},coinMap:E,walletMap:I,depositBtnStatus:d.TradeBtnStatus.AVAILABLE,onDepositClick:function(e){console.log("1. onDepositClick",M),M&&M.belong&&P(M.belong.toString(),M.tradeValue),t(!1)},onCoinValueChange:function(e){console.log("2. onCoinValueChange",e),M!==e&&(console.log("2. setTradeValue",e),F(e))},doBeforeSwitch:function(){var e=Object(i.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){var a,c,o;(console.log("wait 100, with props",t,n),console.log("props?.tradeData?.belong:",null===t||void 0===t||null===(a=t.tradeData)||void 0===a?void 0:a.belong),null===t||void 0===t||null===(c=t.tradeData)||void 0===c?void 0:c.belong)&&(console.log("props?.tradeData?.belong:",null===t||void 0===t||null===(o=t.tradeData)||void 0===o?void 0:o.belong),J(t.tradeData.belong));e()}),500)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},H=Object(l.useState)({belong:void 0,amt:0}),W=Object(h.a)(H,2),V=W[0],G=W[1],Y=Object(l.useState)(""),q=Object(h.a)(Y,2),X=q[0],J=q[1],z=vt(X,we.b.OFFCHAIN_WITHDRAWAL).chargeFeeList,Q={tradeData:{belong:void 0},coinMap:E,walletMap:S,withdrawBtnStatus:d.TradeBtnStatus.AVAILABLE,onWithdrawClick:function(e){console.log("Swap button click",V),V&&V.belong&&N(V.belong.toString(),V.tradeValue),a(!1)},onCoinValueChange:function(e){V!==e&&(console.log("2. setWithdrawValue",e),G(e))},doBeforeSwitch:function(){var e=Object(i.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){var a,c;(console.log("wait 100, with props",t,n),null===t||void 0===t||null===(a=t.tradeData)||void 0===a?void 0:a.belong)&&(console.log("props?.tradeData?.belong:",null===t||void 0===t||null===(c=t.tradeData)||void 0===c?void 0:c.belong),J(t.tradeData.belong));e()}),500)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),withdrawType:b.WithdrawType.Fast,withdrawTypes:b.WithdrawTypes,chargeFeeToken:"ETH",chargeFeeTokenList:z,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},$=Object(l.useState)({belong:void 0,amt:0}),Z=Object(h.a)($,2),ee=Z[0],te=Z[1],ne=Object(l.useState)(""),ae=Object(h.a)(ne,2),ce=ae[0],oe=ae[1],re=vt(ce,we.b.TRANSFER).chargeFeeList,se={tradeData:{belong:void 0},coinMap:E,walletMap:S,transferBtnStatus:d.TradeBtnStatus.AVAILABLE,onTransferClick:function(e){console.log("onTransferClick:",ee),ee&&ee.belong&&B(ee.tradeValue),n(!1)},onCoinValueChange:function(e){ee!==e&&te(e)},doBeforeSwitch:function(){var e=Object(i.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){var a;(null===t||void 0===t||null===(a=t.tradeData)||void 0===a?void 0:a.belong)&&(console.log("wait 100, with props",t,n),oe(t.tradeData.belong)),e()}),500)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),chargeFeeToken:"ETH",chargeFeeTokenList:re,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},ie=Object(l.useState)({belong:void 0,amt:0}),le=Object(h.a)(ie,2),ue=le[0],de=le[1];return{depositProps:K,withdrawProps:Q,transferProps:se,resetProps:{tradeData:{belong:void 0},coinMap:E,walletMap:S,resetBtnStatus:d.TradeBtnStatus.AVAILABLE,onResetClick:function(e){console.log("onResetClick",ue),ue&&ue.belong,c(!1)},onCoinValueChange:function(e){console.log(e),ue!==e&&de(e)},doBeforeSwitch:function(){var e=Object(i.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){console.log("wait 100, with props",t,n),e()}),500)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fee:{count:234,price:123}}}}var At=Object(W.a)(m.a)(ft||(ft=Object(F.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Tt=(Object(W.a)(m.a)(pt||(pt=Object(F.a)(["\n    display: flex;\n    align-items: center;\n\n    >div {\n        flex: 1;\n    }\n"]))),Object(X.a)("common")((function(e){var t=gt(),n=t.depositProps,a=t.withdrawProps,c=t.transferProps,r=t.resetProps,s=Ot(),i=s.ShowDeposit,l=s.ShowTransfer,u=s.ShowWithdraw,b=(s.ShowResetAccount,{assetInfo:{totalAsset:123456.789,priceTag:Ne.PriceTag.Dollar},onShowDeposit:function(){i(!0)},onShowTransfer:function(){l(!0)},onShowWithdraw:function(){u(!0)}}),O=D().tokens,f=Me(null===O||void 0===O?void 0:O.tokenSymbolMap).balances;return console.log("balances:",f),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(m.a,{marginBottom:3,children:Object(I.jsx)(d.AssetTitle,Object(o.a)({},Object(o.a)(Object(o.a)({},e),b)))}),Object(I.jsxs)(At,{children:[Object(I.jsx)("div",{className:"title",children:"Assets"}),Object(I.jsx)("div",{className:"tableWrapper",children:Object(I.jsx)(d.AssetsTable,{rawData:[]})})]}),Object(I.jsx)(d.ModalPanel,{transferProps:c,withDrawProps:a,depositProps:n,resetProps:r})]})})));var Ct,_t=Object(X.a)("common")((function(e){var t=function(){var e=Object(A.a)(),t=e.accountId,n=e.apiKey,a=Object(R.c)(),c=Object(l.useState)(),o=Object(h.a)(c,2),r=o[0],u=o[1];return Object(C.a)(Object(i.a)(s.a.mark((function e(){var c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.getUserTranferList({accountId:t},n);case 4:c=e.sent,o=[],c.transactions.forEach((function(e,t){o.push({from:{address:e.senderAddress,env:""},to:{address:e.receiverAddress,env:""},amount:e.amount,fee:{unit:e.feeTokenSymbol,value:e.feeAmount},memo:e.symbol,time:e.timestamp,txnHash:e.hash,status:e.status,token:e.token,tradeType:ut.b.allTypes})})),u(o);case 8:case"end":return e.stop()}}),e)}))),[t,n,a]),{txs:r}}().txs,n=void 0!==t?t:[];return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(d.TransactionTable,Object(o.a)({rawData:n},Object(o.a)({},e)))})})),xt=[["Sell",[{type:"out",key:"ETH",value:25},{type:"in",key:"LRC",value:100}],.12,[{type:"out",key:"ETH",value:25},{type:"in",key:"LRC",value:100}],.0054,3,"Filled"],["Buy",[{type:"out",key:"ETH",value:25},{type:"in",key:"LRC",value:100}],.12,[{type:"out",key:"ETH",value:25},{type:"in",key:"LRC",value:100}],.0054,3,"Filled"],["Buy",[{type:"out",key:"ETH",value:25},{type:"in",key:"LRC",value:100}],.12,[{type:"out",key:"ETH",value:25},{type:"in",key:"LRC",value:100}],.0054,3,"Cancelled"],["Sell",[{type:"out",key:"ETH",value:25},{type:"in",key:"LRC",value:100}],.12,[{type:"out",key:"ETH",value:25},{type:"in",key:"LRC",value:100}],.0054,3,"Filled"],["Sell",[{type:"out",key:"ETH",value:25},{type:"in",key:"LRC",value:100}],.12,[{type:"out",key:"ETH",value:25},{type:"in",key:"LRC",value:100}],.0054,3,"Cancelled"]],yt=Object(X.a)("common")((function(e){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(d.OrderHistoryTable,Object(o.a)({rawData:xt},Object(o.a)({},e)))})})),kt={assetsGroup:[{icon:b.AssetsIcon,router:{path:"/layer2/assets"},label:{id:"assets"}}],transactionsGroup:[{icon:b.TransactionsIcon,router:{path:"/layer2/transactions"},label:{id:"transactions"}},{icon:b.TradeIcon,router:{path:"/layer2/trades"},label:{id:"trades"}}],countInfoGroup:[{icon:b.OrderIcon,router:{path:"/layer2/orders"},label:{id:"orders"}}]},Et=(Object(W.a)(m.a)(Ct||(Ct=Object(F.a)(["\n      width: 100%;\n      height: 100%;\n      flex: 1;\n      background-color: ",";\n      border-radius: ","px;\n    "])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit})),Object(X.a)("layout",{withRef:!0})(d.SubMenuList)),It=function(){var e,t=Object(c.g)("/layer2/:item"),n=null!==(e=null===t||void 0===t?void 0:t.params.item)&&void 0!==e?e:"assets";return console.log("match:",t," selected:",n," item",null===t||void 0===t?void 0:t.params.item),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(m.a,{width:"200px",display:"flex",justifyContent:"stretch",children:Object(I.jsx)(d.SubMenu,{children:Object(I.jsx)(Et,{selected:n,subMenu:kt})})}),Object(I.jsx)(m.a,{minHeight:420,display:"flex",alignItems:"stretch",flexDirection:"row",marginTop:0,flex:1,children:Object(I.jsxs)(m.a,{flex:1,marginLeft:3,display:"flex",flexDirection:"column",children:["assets"===n&&Object(I.jsx)(Tt,{}),"transactions"===n&&Object(I.jsx)(dt,{}),"trades"===n&&Object(I.jsx)(_t,{}),"orders"===n&&Object(I.jsx)(yt,{})]})})]})};t.a=function(){return Object(I.jsxs)(a.a,{children:[Object(I.jsx)(oe,{}),Object(I.jsx)(j.a,{maxWidth:"lg",children:Object(I.jsx)(m.a,{flex:1,display:"flex",alignItems:"stretch",flexDirection:"row",marginTop:3,children:Object(I.jsxs)(c.c,{children:[Object(I.jsx)(c.a,{exact:!0,component:st,path:"/"}),Object(I.jsx)(c.a,{exact:!0,component:le,path:"/markets"}),Object(I.jsx)(c.a,{exact:!0,component:st,path:"/trade-lite"}),Object(I.jsx)(c.a,{exact:!0,component:It,path:"/layer2"}),Object(I.jsx)(c.a,{exact:!0,component:It,path:"/layer2/assets"}),Object(I.jsx)(c.a,{exact:!0,component:It,path:"/layer2/transactions"}),Object(I.jsx)(c.a,{exact:!0,component:It,path:"/layer2/trades"}),Object(I.jsx)(c.a,{exact:!0,component:It,path:"/layer2/orders"}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(c.a,{exact:!0,path:"/debug",children:Object(I.jsx)(it,{})})})]})})})]})}}},[[1858,8,4,2,3,1,5,6]]]);
//# sourceMappingURL=main~a97bfcba.d10cd117.chunk.js.map