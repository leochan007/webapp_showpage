(this["webpackJsonp@loopring-web/webapp"]=this["webpackJsonp@loopring-web/webapp"]||[]).push([[7],{101:function(e,t,n){"use strict";n.d(t,"f",(function(){return E})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return P})),n.d(t,"b",(function(){return R}));var a,c=n(5),r=n.n(c),o=n(24),s=n(6),i=n(1),u=n(54),l=n(62),d=n(149),b=n(156),p=n(40),m=n(23),f=n(18),j=n(167),O=(a={},Object(f.a)(a,m.c.Unknown,void 0),Object(f.a)(a,m.c.Injected,j.b),Object(f.a)(a,m.c.Network,j.d),Object(f.a)(a,m.c.WalletConnect,j.f),Object(f.a)(a,m.c.WalletLink,j.g),Object(f.a)(a,m.c.Ledger,j.c),Object(f.a)(a,m.c.Trezor,j.e),Object(f.a)(a,m.c.Authereum,j.a),a),h=n(116),g=n(965),v=n.n(g),x=n(1976),y=n(327),A=n.n(y),k=n(65),T=n(124),C=n(155);function E(){var e=Object(b.a)(),t=e.connector,n=e.library,a=e.account,c=e.chainId,r=e.active,o=e.error;return{account:a,connector:t,library:n,chainId:c,active:r,isConnected:r&&!v.a.isBlank(a),error:o}}function S(){var e=Object(u.c)((function(e){return e.account}));return{account:e,isNoAccount:function(){return e.status===p.b.NOACCOUNT},isActivated:function(){return e.status===p.b.ACTIVATED},apiKey:e.apiKey,eddsaKey:e.eddsaKey,accountId:e.accountId}}function _(){var e,t=Object(u.b)(),n=(e=Object(p.a)(),function(t,n){var a=e.states[t];if(void 0===a)throw new Error("No transitions defined for ".concat(t));var c=a[n];if(void 0===c)throw new Error("Unknown transition for event ".concat(n," in state ").concat(t));return c});return{sendEvent:Object(i.useCallback)((function(e,a){var c=n(e.status,a);c&&t(Object(h.e)(c))}),[n,t])}}function w(){var e=Object(b.a)().activate,t=_().sendEvent,n=Object(u.b)(),a=Object(i.useState)(),c=Object(s.a)(a,2),r=c[0],o=c[1];return{connect:Object(i.useCallback)((function(a){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=O[a];o(r),e(r),n(Object(h.h)(a)),c&&t(C.a.getState().account,p.c.Reset),t(C.a.getState().account,p.c.Connecting),console.log("try Connecting...")}),[e,n,t]),activatingConnector:r}}function I(){var e=Object(b.a)().deactivate,t=Object(u.b)();return{disconnect:Object(i.useCallback)((function(){e(),t(Object(h.b)(void 0))}),[e,t])}}function P(){var e=Object(u.b)(),t=Object(k.b)(),n=Object(k.c)(),a=Object(d.b)().tradingInfo,c=E().connector,s=_().sendEvent;return{lock:Object(i.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("useCallback lock:",t.status),s(t,p.c.Lock);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),unlock:Object(i.useCallback)(function(){var i=Object(o.a)(r.a.mark((function o(i){var u,l,d,b,f,j,O,g,v;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n&&t&&c&&i.accountId&&(null===(u=a.exchangeInfo)||void 0===u?void 0:u.exchangeAddress)&&i.status===p.b.LOCKED){r.next=5;break}return console.log("accountId:",i.accountId),console.log("exchangeAddress:",a.exchangeInfo),console.log("enter !! account.status:",i.status),r.abrupt("return");case 5:if(console.log("useUnlock useCallback:",i.status),i.status===p.b.LOCKED){r.next=8;break}throw Error("unexpected status:"+i.status);case 8:return d=void 0,b=void 0,f=void 0,r.prev=11,r.next=14,c.getProvider();case 14:if(j=r.sent,O=new A.a(j),console.log("useUnlock eddsaKey:",i.eddsaKey),i.eddsaKey){r.next=24;break}return r.next=20,m.v(O,i.accAddr,null===(g=a.exchangeInfo)||void 0===g?void 0:g.exchangeAddress,i.nonce-1,i.connectName);case 20:v=r.sent,b=Object(m.F)(Object(m.D)(v.keyPair.secretKey)),r.next=25;break;case 24:b=i.eddsaKey;case 25:return r.next=27,n.getUserApiKey({accountId:i.accountId},b);case 27:f=r.sent,console.log("useUnlock apikey:",f),d=p.c.Unlock,r.next=35;break;case 32:r.prev=32,r.t0=r.catch(11),d=p.c.Reset;case 35:b&&e(Object(h.i)(b)),(null===(l=f)||void 0===l?void 0:l.apiKey)&&e(Object(h.f)(f.apiKey)),console.log("next event:",d),d&&s(i,d);case 39:case"end":return r.stop()}}),o,null,[[11,32]])})));return function(e){return i.apply(this,arguments)}}(),[e,s,t,n,c,a.exchangeInfo])}}function R(){var e,t=Object(u.b)(),n=S().account,a=_().sendEvent,c=Object(k.b)(),s=Object(k.c)(),i=E(),b=i.account,f=i.active,j=i.isConnected,O=i.chainId,g=i.connector,v=b,y=Object(x.a)(O),A=Object(x.a)(b),C=Object(d.b)().tradingInfo;Object(l.a)(Object(o.a)(r.a.mark((function e(){var i,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){return(u=Object(o.a)(r.a.mark((function e(){var o,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&v&&c&&s&&g&&(null===(o=C.exchangeInfo)||void 0===o?void 0:o.exchangeAddress)){e.next=3;break}return console.log("checkStatus return!!!!!!"),e.abrupt("return");case 3:if(!(y&&O&&y!==O||A&&b&&A!==b)||n.status===p.b.UNCONNNECTED){e.next=8;break}return console.log("checkStatus try to resetFunc"),t(Object(h.b)(void 0)),a(n,p.c.Reset),e.abrupt("return");case 8:i(),e.t0=n.status,e.next=e.t0===p.b.UNCONNNECTED?12:e.t0===p.b.CONNECTED?15:e.t0===p.b.NOACCOUNT?31:e.t0===p.b.DEPOSITING?32:e.t0===p.b.DEPOSIT_TO_CONFIREM?35:e.t0===p.b.UNACTIVATED?36:e.t0===p.b.ARPROVING?39:e.t0===p.b.APPROV_TO_CONFIRM?42:e.t0===p.b.LOCKED?45:e.t0===p.b.ACTIVATED?46:50;break;case 12:return console.log("---\x3e render UNCONNNECTED active:",f," isConnected:",j),j&&(t(Object(h.h)(m.c.Injected)),a(n,p.c.Connecting)),e.abrupt("break",51);case 15:return console.log("---\x3e render CONNECTED account:",n),e.prev=16,e.next=19,c.getAccount({owner:v});case 19:u=e.sent.accInfo,n.accAddr&&n.eddsaKey&&u.owner===n.accAddr?console.log("cur Eddsakey:",n.eddsaKey):(console.log("got a new address:",u),t(Object(h.d)(u))),(null===n||void 0===n?void 0:n.connectName)!==(null===n||void 0===n?void 0:n.connectNameTemp)&&t(Object(h.g)(n.connectNameTemp)),a(n,p.c.HasPubkey),e.next=30;break;case 25:e.prev=25,e.t1=e.catch(16),Object(m.u)(e.t1),v&&t(Object(h.c)(v)),e.t1.response&&e.t1.response.data&&e.t1.response.data.resultInfo&&101002===e.t1.response.data.resultInfo.code&&a(n,p.c.ErrorResponse);case 30:case 31:return e.abrupt("break",51);case 32:return!0,console.log("depositFinished currStatus:",n.status),a(n,p.c.FinishDeposit),e.abrupt("break",51);case 35:return e.abrupt("break",51);case 36:return!1,console.log("approve hash no smartwallet, account.status:",n.status),e.abrupt("break",51);case 39:return!1,e.abrupt("break",51);case 42:return!1,e.abrupt("break",51);case 45:return e.abrupt("break",51);case 46:return T.a.checkTimeout(!0),l=setInterval((function(){var e=T.a.checkTimeout();n.status===p.b.ACTIVATED&&e&&(clearInterval(l),a(n,p.c.Lock))}),1e3),T.a.setHandler(l),e.abrupt("break",51);case 50:return e.abrupt("break",51);case 51:case"end":return e.stop()}}),e,null,[[16,25]])})))).apply(this,arguments)},i=function(){var e=T.a.getHandler();n.status!==p.b.ACTIVATED&&e&&clearInterval(e)},function(){return u.apply(this,arguments)}(),e.abrupt("return",(function(){i()}));case 5:case"end":return e.stop()}}),e)}))),[c,s,n,y,O,v,t,g,null===(e=C.exchangeInfo)||void 0===e?void 0:e.exchangeAddress])}},116:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return j})),n.d(t,"i",(function(){return O}));var a=n(93),c=n(23),r=n(40),o=n(124),s=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_ACCOUND_ID?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_ACCOUND_ID:o.a.getAccountId(),t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_API_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_API_KEY:o.a.getApikey(),n=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_OWNER?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_OWNER:o.a.getAccount(),a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_EDDSA_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RPC_URL_1:"https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_MAGIC_API_KEY:"pk_test_398B82F5F0E88874",REACT_APP_API_URL:"api3.loopring.io",REACT_APP_RPC_URL_5:"https://goerli.infura.io/v3/84842078b09946638c03157f83405213",REACT_APP_TEST_INTERVAL:"4hr",REACT_APP_TEST_SYMBOL:"LRC-ETH",REACT_APP_API_URL_UAT:"uat3.loopring.io",REACT_APP_PORTIS_DAPP_ID:"e9be171c-2b7f-4ff0-8db9-327707511ee2",REACT_APP_FORTMATIC_API_KEY:"pk_test_A6260FCBAA2EBDFB"}).REACT_APP_TEST_EDDSA_KEY:o.a.getEddsakey();return console.log("defaultApiKey:",JSON.stringify(t)),{accAddr:n,status:r.b.UNCONNNECTED,accountId:e,publicKey:{},nonce:0,isContractAddress:!1,apiKey:t,eddsaKey:a,connectName:c.c.Unknown,connectNameTemp:c.c.Unknown}},i=Object(a.c)({name:"account",initialState:s(),reducers:{reset:function(e){var t=s();console.log("!!! reset account!",t),Object.assign(e,t)},setAccAddr:function(e,t){e.accAddr=t.payload},setAccountInfo:function(e,t){e.accAddr=t.payload.owner,e.accountId=t.payload.accountId,e.nonce=t.payload.nonce,e.publicKey=t.payload.publicKey},setApikey:function(e,t){e.apiKey=t.payload},setAccountStatus:function(e,t){e.status=t.payload},setEddsaKey:function(e,t){e.eddsaKey=t.payload},setConnectName:function(e,t){e.connectName=t.payload},setConnectNameTemp:function(e,t){e.connectNameTemp=t.payload},setIsContractAddress:function(e,t){e.isContractAddress=t.payload}}}),u=i.actions,l=u.reset,d=u.setAccAddr,b=u.setApikey,p=u.setConnectName,m=u.setConnectNameTemp,f=u.setAccountInfo,j=u.setAccountStatus,O=u.setEddsaKey;u.setIsContractAddress;t.a=i},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,c=n(9),r=n(10);!function(e){e.Handler="handler",e.AccountId="account_id",e.Account="account",e.Apikey="apikey",e.Eddsakey="eddsakey",e.ActiveTime="active_time",e.AmmOrder="amm_order",e.HardwareAddresses="hardware_addresses"}(a||(a={}));var o=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,null,[{key:"getHandler",value:function(){var e=sessionStorage.getItem(a.Handler);try{if(void 0!==e&&null!==e)return parseInt(e)}catch(t){}}},{key:"setHandler",value:function(e){sessionStorage.setItem(a.Handler,e)}},{key:"clearHandler",value:function(){sessionStorage.removeItem(a.Handler)}},{key:"checkTimeout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=localStorage.getItem(a.ActiveTime),n=(new Date).getTime();if(null===t||e)e&&console.log("force reset!!"),localStorage.setItem(a.ActiveTime,n.toString());else{var c=new Date(parseInt(t));if(n-c.getTime()>6e5)return console.log("TIMEOUT! now:".concat(n," dateTimeStr:").concat(t," delta:").concat(n-c.getTime())),sessionStorage.clear(),localStorage.setItem(a.ActiveTime,n.toString()),!0}return!1}},{key:"getAccountId",value:function(){var e=sessionStorage.getItem(a.AccountId);try{if(e)return parseInt(e)}catch(t){}}},{key:"setAccountId",value:function(e){sessionStorage.setItem(a.AccountId,e.toString())}},{key:"getAccount",value:function(){return sessionStorage.getItem(a.Account)}},{key:"setAccount",value:function(e){sessionStorage.setItem(a.Account,e)}},{key:"getApikey",value:function(){return sessionStorage.getItem(a.Apikey)}},{key:"setApikey",value:function(e){sessionStorage.setItem(a.Apikey,e)}},{key:"getEddsakey",value:function(){return sessionStorage.getItem(a.Eddsakey)}},{key:"setEddsakey",value:function(e){sessionStorage.setItem(a.Eddsakey,e)}},{key:"getAmmOrder",value:function(){var e=localStorage.getItem(a.AmmOrder);return e||""}},{key:"setAmmOrder",value:function(e){localStorage.setItem(a.AmmOrder,e)}},{key:"clearAmmOrder",value:function(){localStorage.removeItem(a.AmmOrder)}},{key:"isHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);return!(!t||!t.includes(e.toLowerCase()))}},{key:"saveHardwareAddress",value:function(e){var t=localStorage.getItem(a.HardwareAddresses);if(t){if(!0!==t.includes(e.toLowerCase())){var n=t+","+e.toLowerCase();localStorage.setItem(a.HardwareAddresses,n)}}else localStorage.setItem(a.HardwareAddresses,e.toLowerCase())}}]),e}()},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return j})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return x})),n.d(t,"i",(function(){return y}));var a=n(5),c=n.n(a),r=n(24),o=n(65),s=n(54),i=n(62),u=n(155),l=n(187),d=n(23),b=n(156),p=n(1);function m(){var e=u.a.getState().trading;return{tradingInfo:e,chainId:e.chainId}}function f(){var e=Object(s.c)((function(e){return e.trading}));return{tradingInfo:e,chainId:e.chainId}}function j(){var e=Object(b.a)().chainId,t=Object(s.b)();Object(p.useEffect)((function(){t(Object(l.e)(null!==e&&void 0!==e?e:d.b.GORLI))}),[e,t])}function O(){var e=Object(s.b)(),t=Object(o.b)();Object(i.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getMixMarkets();case 5:a=n.sent,e(Object(l.h)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.u)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function h(){var e=Object(s.b)(),t=Object(o.b)();Object(i.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getExchangeInfo();case 5:a=n.sent,e(Object(l.f)(a.exchangeInfo)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.u)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function g(){var e=Object(s.b)(),t=Object(o.a)();Object(i.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getAmmPoolConf();case 5:a=n.sent,e(Object(l.c)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.u)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function v(){var e=Object(s.b)(),t=Object(o.a)();Object(i.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getAmmPoolStats();case 5:a=n.sent,e(Object(l.d)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.u)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function x(){var e=Object(s.b)(),t=Object(o.a)();Object(i.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getAmmPoolActivityRules();case 5:a=n.sent,e(Object(l.b)(a.activityRules)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.u)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}function y(){var e=Object(s.b)(),t=Object(o.b)();Object(i.a)(Object(r.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,t.getTokens();case 5:a=n.sent,e(Object(l.j)(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),Object(d.u)(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t])}},155:function(e,t,n){"use strict";var a=n(43),c=n(195),r=n(93),o=(n(54),n(652)),s=n(956),i=n(957),u=Object(r.b)("global/updateVersion"),l=n(116),d=n(187),b=function(){return(new Date).getTime()},p={},m=Object(r.c)({name:"transactions",initialState:p,reducers:{reset:function(e){Object.assign(e,p)},addTransaction:function(e,t){var n,a,c=t.payload,r=c.chainId,o=c.from,s=c.hash,i=c.approval,u=c.summary,l=c.claim;if(null===(n=e[r])||void 0===n?void 0:n[s])throw Error("the existing TX can't be added again");(null!==(a=e[r])&&void 0!==a?a:{})[s]={hash:s,approval:i,summary:u,claim:l,from:o,addedTime:b()}},clearAllTransactions:function(e,t){var n=t.payload;e[n]&&(e[n]={})},checkedTransaction:function(e,t){var n,a=t.payload,c=a.chainId,r=a.hash,o=a.blockNumber,s=null===(n=e[c])||void 0===n?void 0:n[r];s&&(s.lastCheckedBlockNumber?s.lastCheckedBlockNumber=Math.max(o,s.lastCheckedBlockNumber):s.lastCheckedBlockNumber=o)},finalizeTransaction:function(e,t){var n,a=t.payload,c=a.chainId,r=a.hash,o=a.receipt,s=null===(n=e[c])||void 0===n?void 0:n[r];s&&(s.receipt=o,s.confirmedTime=b())}}}),f=m.actions,j=(f.reset,f.addTransaction,f.clearAllTransactions,f.checkedTransaction,f.finalizeTransaction,m),O=n(26),h=n(2),g=n(63),v=Object(r.c)({name:"ammRecord",initialState:{ammRecords:[],status:"UNSET",errorMessage:null},reducers:{getAmmRecord:function(e,t){e.status=g.a.PENDING},getAmmRecordStatus:function(e,t){t.error&&(e.status=g.a.ERROR,e.errorMessage=t.error),e.ammRecords=Object(h.a)({},t.payload.ammRecords),e.status=g.a.DONE},statusUnset:function(e){e.status=g.a.UNSET}}}),x=v.actions,y=x.getAmmRecord,A=x.getAmmRecordStatus;x.statusUnset;var k=Object(r.c)({name:"ammTrades",initialState:{ammTrades:[],status:"UNSET",errorMessage:null},reducers:{getAmmTrades:function(e,t){e.status=g.a.PENDING},getAmmTradesStatus:function(e,t){t.error&&(e.status=g.a.ERROR,e.errorMessage=t.error),e.ammTrades=Object(h.a)({},t.payload.ammTrades),e.status=g.a.DONE},statusUnset:function(e){e.status=g.a.UNSET}}}),T=k.actions,C=T.getAmmTrades,E=T.getAmmTradesStatus;T.statusUnset;var S=n(235),_=n(524),w=n(5),I=n.n(w),P=n(24),R=n(45),D=n(255),N=n(293),M=I.a.mark(U),L=I.a.mark(F),B=function(){var e=Object(P.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={"AMM-LRC-ETH":{totalRewards:241232132,myRewards:1232.123,rewardToken:N.a.ETH,duration:{from:new Date("2021-1-1"),to:new Date}},"AMM-ETH-USDC":{totalRewards:241232132,myRewards:1232.123,rewardToken:N.a.ETH,duration:{from:new Date("2021-1-1"),to:new Date}},"AMM-ETH-USDT":{totalRewards:241232132,myRewards:1232.123,rewardToken:N.a.ETH,duration:{from:new Date("2021-1-1"),to:new Date}},"AMM-LRC-USDT":{totalRewards:241232132,myRewards:1232.123,rewardToken:N.a.ETH,duration:{from:new Date("2021-1-1"),to:new Date}}},e.abrupt("return",Promise.resolve({data:t}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function U(){var e,t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(R.b)(B);case 3:return e=n.sent,t=e.data,n.next=7,Object(R.d)(Object(D.c)({ammActivityMap:t}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(R.d)(Object(D.c)(n.t0));case 13:case"end":return n.stop()}}),M,null,[[0,9]])}function F(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.e)(D.b,U)]);case 2:case"end":return e.stop()}}),L)}var H=n(182),K=n(23),V=n(149),W=function(){return new K.e(Object(V.a)().chainId)},Y=function(){return new K.a(Object(V.a)().chainId)},G=I.a.mark($),q=I.a.mark(Z),z=I.a.mark(ee),J=I.a.mark(te),X=function(e){var t=e.ammPoolState,n=st.getState().system.system.forex;return{amountDollar:parseFloat(t.liquidityUSD),amountYuan:parseFloat(t.liquidityUSD)/n,totalLPToken:parseFloat(t.lpLiquidity),totalA:parseInt(t.liquidity[0]),totalB:parseInt(t.liquidity[1]),rewardValue:t.rewards[1],rewardToken:t.rewards[0],feeA:parseInt(t.fees[0]),feeB:parseInt(t.fees[1]),tradeFloat:{percent:"",timeUnit:"24h",APY:1*parseInt(t.apyBips)/100},apy:1*parseInt(t.apyBips)/100}},Q=function(){var e=Object(P.a)(I.a.mark((function e(){var t,n,a,c,r,o,s,i,u,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,Y().getAmmPoolConf();case 3:return n=e.sent,a=n.ammpools,n.pairs,e.next=8,Y().getAmmPoolStats();case 8:return c=e.sent,r=c.ammPoolStats,(o=st.getState().amm.ammMap.__timer__)&&-1!==o&&clearInterval(o),o=setInterval(Object(P.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y().getAmmPoolStats();case 2:t=e.sent.ammPoolStats,st.dispatch(Object(H.d)({ammPoolStats:t}));case 4:case"end":return e.stop()}}),e)}))),9e5),s=st.getState(),i=s.tokenMap,u=i.coinMap,l=i.idIndex,Reflect.ownKeys(a).forEach(function(){var e=Object(P.a)(I.a.mark((function e(n){var c,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=a[n]).market===n&&(o=Object(h.a)({coinAInfo:u[l[c.tokens.pooled[0]]],coinBInfo:u[l[c.tokens.pooled[1]]],feeDollar:100,feeYuan:100,isNew:!(Date.now()-Number(c.createdAt)>12096e5),isActivity:7===c.status},X({ammPoolState:r[n]})),t[n]=o);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",{ammMap:t,__timer__:o});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function $(){var e,t,n;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(R.b)(Q);case 3:return e=a.sent,t=e.ammMap,n=e.__timer__,console.log("--- getPostsSaga:",t),a.next=9,Object(R.d)(Object(H.c)({ammMap:t,__timer__:n}));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(R.d)(Object(H.c)(a.t0));case 15:case"end":return a.stop()}}),G,null,[[0,11]])}function Z(e){var t,n,a;return I.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,n=t.ammPoolStats,a=st.getState().amm.ammMap.ammMap,n&&Reflect.ownKeys(n).map((function(e){a[e]=Object(h.a)(Object(h.a)({},a[e]),X({ammPoolState:n[e]}))})),c.next=7,Object(R.d)(Object(H.c)({ammMap:a}));case 7:c.next=13;break;case 9:return c.prev=9,c.t0=c.catch(1),c.next=13,Object(R.d)(Object(H.c)(c.t0));case 13:case"end":return c.stop()}}),q,null,[[1,9]])}function ee(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.e)(H.b,$)]);case 2:case"end":return e.stop()}}),z)}function te(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.e)(H.d,Z)]);case 2:case"end":return e.stop()}}),J)}var ne=[Object(R.c)(ee),Object(R.c)(te)],ae=I.a.mark(oe),ce=I.a.mark(se),re=function(){return new Promise((function(e){e({data:[{side:"Buy",amount:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}},time:Date.now(),fee:.02,amountLP:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}}},{side:"Buy",amount:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}},time:Date.now(),fee:.02,amountLP:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}}}]})}))};function oe(){var e,t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(R.b)(re);case 3:return e=n.sent,t=e.data,n.next=7,Object(R.d)(A({ammRecords:t}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(R.d)(A(n.t0));case 13:case"end":return n.stop()}}),ae,null,[[0,9]])}function se(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.e)(y,oe)]);case 2:case"end":return e.stop()}}),ce)}var ie=I.a.mark(de),ue=I.a.mark(be),le=function(){return new Promise((function(e){e([{side:"Buy",amount:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}},time:Date.now(),fee:.02,priceValue:.123,priceToken:"LRC"},{side:"Buy",amount:{sell:{belong:"ETH",tradeValue:.1},buy:{belong:"LRC",tradeValue:123}},time:Date.now(),fee:.02,priceValue:.123,priceToken:"LRC"}])}))};function de(){var e,t,n;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(R.b)(le);case 3:return e=a.sent,t=e.data,n=t,a.next=8,Object(R.d)(E(n));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(R.d)(E(a.t0));case 14:case"end":return a.stop()}}),ie,null,[[0,10]])}function be(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.e)(C,de)]);case 2:case"end":return e.stop()}}),ue)}var pe=Object(c.b)({ammRecord:v.reducer,ammTrades:k.reducer,ammMap:S.a.reducer,ammActivityMap:_.a.reducer}),me=[Object(R.c)(F)].concat(Object(a.a)(ne),[Object(R.c)(se),Object(R.c)(be)]),fe=n(523),je=Object(r.c)({name:"walletS",initialState:{wallet:{},status:"UNSET",errorMessage:null},reducers:{getWallet:function(e,t){e.status=g.a.PENDING},getWalletStatus:function(e,t){t.error&&(e.status=g.a.ERROR,e.errorMessage=t.error),e.wallet=Object(h.a)({},t.payload.wallet),e.status=g.a.DONE},statusUnset:function(e){e.status=g.a.UNSET}}}),Oe=je.actions,he=Oe.getWallet,ge=Oe.getWalletStatus;Oe.statusUnset;var ve=n(18),xe=n(256),ye=n(94),Ae=I.a.mark(Ce),ke=I.a.mark(Ee),Te=function(){var e=Object(P.a)(I.a.mark((function e(){var t,n,a,c,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W().getTokens();case 2:return t=e.sent,n=t.tokenSymbolMap,a={},c=n,r={},o={},Reflect.ownKeys(n).forEach((function(e){e.startsWith("LP-")||(a[e]={icon:Object(ye.h)(e,n),name:e,simpleName:e,description:"",company:""}),r=Object(h.a)(Object(h.a)({},r),{},Object(ve.a)({},n[e].address,e)),o=Object(h.a)(Object(h.a)({},o),{},Object(ve.a)({},n[e].tokenId,e))})),e.abrupt("return",{data:{coinMap:a,addressIndex:r,idIndex:o,tokenMap:c}});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ce(){var e,t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(R.b)(Te);case 3:return e=n.sent,t=e.data,n.next=7,Object(R.d)(Object(xe.b)(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(R.d)(Object(xe.b)(n.t0));case 13:case"end":return n.stop()}}),Ae,null,[[0,9]])}function Ee(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.e)(xe.a,Ce)]);case 2:case"end":return e.stop()}}),ke)}var Se=[Object(R.c)(Ee)],_e=I.a.mark(Pe),we=I.a.mark(Re),Ie=function(){var e=Object(P.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){e({data:{ETH:{belong:"ETH",count:11},LRC:{belong:"LRC",count:0xa1b01d4b1c7},"AMM-ETH-LRC":{belong:"AMM-ETH-LRC",count:11}}})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Pe(){var e,t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(R.b)(Ie);case 3:return e=n.sent,t=e.data,n.next=7,Object(R.d)(ge({wallet:t}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(R.d)(ge(n.t0));case 13:case"end":return n.stop()}}),_e,null,[[0,9]])}function Re(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.e)(he,Pe)]);case 2:case"end":return e.stop()}}),we)}var De=n(216),Ne=n(32),Me=I.a.mark(Fe),Le=I.a.mark(He),Be=I.a.mark(Ke),Ue=function(){var e=Object(P.a)(I.a.mark((function e(t){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,W().getTicker({market:t.join(",")});case 3:return a=e.sent,console.log(">>>tickMap:",a.tickMap),a.tickMap.forEach((function(e,t){console.log(">>>base_token_volume:",e.base_token_volume),n[t]={timeUnit:"24h",priceDollar:0,priceYuan:0,volume:e.base_token_volume,floatTag:e.close>e.open?"increase":"decrease",APY:0,reward:0,rewardToken:""}})),e.abrupt("return",{data:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Fe(e){var t,n,a,c,r;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload,o.prev=1,n=t.tickerKey,a=t.tickerKeys,console.log("getPostsSaga tickerKey",n,a),!(n||a&&a.length)){o.next=13;break}return o.next=7,Object(R.b)(Ue,n?[n]:a);case 7:return c=o.sent,r=c.data,o.next=11,Object(R.d)(Object(De.b)({tickerMap:r}));case 11:o.next=14;break;case 13:throw new Ne.c(Ne.e.NO_TOKEN_KEY_LIST);case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(1),o.next=20,Object(R.d)(Object(De.b)(o.t0));case 20:case"end":return o.stop()}}),Me,null,[[1,16]])}function He(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.e)(De.a,Fe)]);case 2:case"end":return e.stop()}}),Le)}function Ke(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.e)(De.c,Fe)]);case 2:case"end":return e.stop()}}),Be)}var Ve=[Object(R.c)(He),Object(R.c)(Ke)],We=n(241),Ye=n(290),Ge=I.a.mark(Je),qe=I.a.mark(Xe),ze=function(){var e=Object(P.a)(I.a.mark((function e(t){var n,a,c,r,o,s,i,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.chainId,a="localhost"===window.location.hostname?Ye.a.DEV:K.b.GORLI===n?Ye.a.UAT:Ye.a.PROD,c=K.b.GORLI===n?K.b.GORLI:K.b.MAINNET===n?K.b.MAINNET:Ye.b.NONETWORK,e.next=5,W().getFiatPrice({legal:"CNY"});case 5:return r=e.sent.fiatPrices,e.next=8,W().getGasPrice();case 8:return e.t0=e.sent.gasPrice,o=e.t0/1e9,s=a===Ye.a.PROD?"https://api3.loopring.io":"https://uat2.loopring.io",i=r.USDC,(u=st.getState().system.__timer__)&&-1!==u&&clearInterval(u),u=u=setInterval(Object(P.a)(I.a.mark((function e(){var t,n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W().getFiatPrice({legal:"CNY"});case 2:return t=e.sent.fiatPrices,e.next=5,W().getGasPrice();case 5:e.t0=e.sent.gasPrice,n=e.t0/1e9,a=t.USDC,st.dispatch(Object(We.c)({faitPrice:t,gasPrice:n,forex:a})),st.dispatch(S.b);case 10:case"end":return e.stop()}}),e)}))),9e5),st.dispatch(Object(l.b)(void 0)),e.abrupt("return",{data:{network:c,env:a,baseURL:s,faitPrice:r,gasPrice:o,forex:i},__timer__:u});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Je(e){var t,n,a,c,r;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.prev=1,n=t.system,o.next=5,Object(R.b)(ze,n);case 5:return a=o.sent,c=a.data,r=a.__timer__,o.next=10,Object(R.d)(Object(We.a)({system:c,__timer__:r}));case 10:o.next=16;break;case 12:return o.prev=12,o.t0=o.catch(1),o.next=16,Object(R.d)(Object(We.a)(o.t0));case 16:case"end":return o.stop()}}),Ge,null,[[1,12]])}function Xe(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.e)(We.d,Je)]);case 2:case"end":return e.stop()}}),qe)}var Qe=[Object(R.c)(Xe)],$e=I.a.mark(Ze);function Ze(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([].concat(Object(a.a)(Se),[Object(R.c)(Re)],Object(a.a)(Qe),Object(a.a)(me),Object(a.a)(Ve)));case 2:case"end":return e.stop()}}),$e)}var et=Ze,tt=n(369),nt=n(525),at=Object(s.a)(),ct=Object(c.b)({account:l.a.reducer,settings:O.Y.reducer,system:nt.a.reducer,trading:d.a.reducer,transactions:j.reducer,modals:O.S.reducer,amm:pe,tokenMap:fe.a.reducer,walletMap:je.reducer,tickerMap:tt.a.reducer}),rt=["settings"],ot=Object(r.a)({reducer:ct,middleware:[].concat(Object(a.a)(Object(r.d)({thunk:!1,serializableCheck:!1})),[Object(o.save)({states:rt}),at]),devTools:!1,enhancers:[i.reduxBatch],preloadedState:Object(o.load)({states:rt})});ot.dispatch(u()),ot.dispatch(Object(O.T)(ot.getState().settings.language)),at.run(et,ot.dispatch);var st=t.a=ot},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return b}));var a=n(6),c=n(1),r=n(54),o=n(183),s=n(167),i=n(23);function u(){var e=Object(o.d)(),t=Object(o.d)(i.h);return e.active?e:t}function l(){var e=u().chainId,t=Object(c.useState)(""),n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(c.useEffect)((function(){switch(e){case i.b.MAINNET:o("https://etherscan.io/address/");break;default:o("https://goerli.etherscan.io/address/")}}),[e]),{etherscanUrl:r}}function d(){var e=Object(o.d)(),t=e.activate,n=e.active,r=Object(c.useState)(!1),i=Object(a.a)(r,2),u=i[0],l=i[1];return Object(c.useEffect)((function(){s.b.isAuthorized().then((function(e){e?(console.log("useEagerConnect isAuthorized"),t(s.b,void 0,!0).catch((function(){l(!0)}))):(console.log("useEagerConnect NOT isAuthorized"),l(!0))}))}),[]),Object(c.useEffect)((function(){!u&&n&&l(!0)}),[u,n]),u}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=Object(o.d)(),n=t.active,a=t.error,i=t.activate,u=t.chainId,l=Object(r.b)();Object(c.useEffect)((function(){var t=window.ethereum,c=function(){console.log("--------------------------\x3e reConnectInjected"),i(s.b),e&&e()};if(t&&t.on&&!n&&!a){var r=function(e){console.log("Handling 'chainChanged' event with payload",e),c()},o=function(e){console.log("---------------------------------------------"),console.log("Handling 'accountsChanged' event with payload",e),console.log("before reset accounts.length=",e.length),e.length>0&&(console.log("before reset!!!!!!!!!!!!!!!!1"),c())};return t.on("chainChanged",r),t.on("accountsChanged",o),function(){t.removeListener&&(t.removeListener("chainChanged",r),t.removeListener("accountsChanged",o))}}}),[n,a,u,i,l])}},167:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n(431),c=n(959),r=n(521),o=n(960),s=n(961),i=n(963),u=n(964),l=12e3,d="https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",b="https://goerli.infura.io/v3/84842078b09946638c03157f83405213";console.log("RPC_URLS 1:",d),console.log("RPC_URLS 5:",b);var p=new a.a({supportedChainIds:[1,5]}),m=new c.a({urls:{1:d,5:b},defaultChainId:1}),f=new r.b({rpc:{1:d},bridge:"https://bridge.walletconnect.org",qrcode:!0,pollingInterval:l}),j=new o.a({url:d,appName:"Loopring DEX"}),O=new s.a({chainId:1,url:d,pollingInterval:l}),h=new i.a({chainId:1,url:d,pollingInterval:l,manifestEmail:"dummy@abc.xyz",manifestAppUrl:"http://localhost:1234"}),g=new u.a({chainId:42})},182:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n(2),c=n(93),r=n(63),o=Object(c.c)({name:"ammMap",initialState:{ammMap:{},__timer__:-1,status:"UNSET",errorMessage:null},reducers:{getAmmMap:function(e,t){e.status=r.a.PENDING},getAmmMapStatus:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error),e.ammMap&&(e.ammMap=Object(a.a)({},t.payload.ammMap)),e.__timer__=t.payload.__timer__?t.payload.__timer__:e.__timer__,e.status=r.a.DONE},updateRealTimeAmmMap:function(e,t){e.status=r.a.PENDING},statusUnset:function(e){e.status=r.a.UNSET}}}),s=o.actions,i=s.getAmmMap,u=s.getAmmMapStatus,l=(s.statusUnset,s.updateRealTimeAmmMap)},1860:function(e,t,n){"use strict";n.r(t);var a=n(54),c=n(142),r=n.n(c),o=n(898),s=n(183),i=n(155),u=n(432),l=n(23),d=n(14),b=n(2018),p=n(212),m=n(1977),f=n(129),j=n(1978),O=n(0),h=Object(s.c)(l.h),g=[Object(d.W)(p.b,{dateAdapter:m.a}),Object(d.W)(j.a,{i18n:d.V}),Object(d.W)(b.a,{theme:Object(d.R)("dark")}),Object(d.W)(f.c,{theme:Object(d.R)("dark")}),Object(d.W)(a.a,{store:i.a})];r.a.render(Object(O.jsx)(d.D,{providers:g,children:Object(O.jsx)(s.b,{getLibrary:u.a,children:Object(O.jsx)(h,{getLibrary:u.a,children:Object(O.jsx)(o.a,{})})})}),document.getElementById("root"))},187:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"f",(function(){return v}));var a=n(93),c=n(23),r="LRC-ETH",o=Object(c.y)(r),s=o.base,i=o.quote,u={chainId:c.b.GORLI,symbol:r,symbol_base:s,symbol_quote:i,interval:"4hr",ammPoolConf:{},ammActivityRules:{},ammPoolStats:{},markets:[],marketTrades:{},tokens:{},tickerMap:{},refreshRate:1e3,refreshRateSlow:3e3},l=Object(a.c)({name:"trading",initialState:u,reducers:{setChainId:function(e,t){e.chainId=t.payload},changeSymbol:function(e,t){e.symbol=t.payload;var n=Object(c.y)(e.symbol),a=n.base,r=n.quote;e.symbol_base=a,e.symbol_quote=r},changeTradingInterval:function(e,t){e.interval=t.payload},setTickerMap:function(e,t){e.tickerMap=t.payload},setAmmPoolStats:function(e,t){e.ammPoolStats=t.payload},setAmmActivityRules:function(e,t){e.ammActivityRules=t.payload},setAmmPoolConf:function(e,t){e.ammPoolConf=t.payload},setMarketTrades:function(e,t){e.marketTrades=t.payload},setMarkets:function(e,t){e.markets=t.payload},setTokens:function(e,t){e.tokens=t.payload},setExchangeInfo:function(e,t){e.exchangeInfo=t.payload}}}),d=l.actions,b=d.setChainId,p=d.setAmmPoolStats,m=d.setAmmActivityRules,f=d.setMarketTrades,j=d.setTickerMap,O=d.setAmmPoolConf,h=(d.changeSymbol,d.changeTradingInterval,d.setMarkets),g=d.setTokens,v=d.setExchangeInfo;t.a=l},216:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var a=n(2),c=n(93),r=n(63),o=Object(c.c)({name:"tickerMap",initialState:{tickerMap:{},status:"UNSET",errorMessage:null},reducers:{getTicker:function(e,t){e.status=r.a.PENDING},getTickers:function(e,t){e.status=r.a.PENDING},getTickerStatus:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error),e.tickerMap=Object(a.a)(Object(a.a)({},e.tickerMap),t.payload.tickerMap),e.status=r.a.DONE},statusUnset:function(e){e.status=r.a.UNSET}}}),s=o.actions,i=s.getTicker,u=s.getTickers,l=s.getTickerStatus;s.statusUnset},235:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.d}));var a=n(2),c=n(54),r=n(182),o=function(){var e=Object(c.c)((function(e){return e.amm.ammMap})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(r.a.actions.statusUnset(void 0))},updateAmmMap:function(){t(r.a.actions.getAmmMap(void 0))}})}},241:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var a=n(2),c=n(93),r=n(63),o=Object(c.c)({name:"system",initialState:{system:{},__timer__:-1,status:"UNSET",errorMessage:null},reducers:{updateSystem:function(e,t){e.status=r.a.PENDING},updateRealTimeObj:function(e,t){e.system=Object(a.a)(Object(a.a)({},e.system),{},{forex:t.payload.forex?t.payload.forex:e.system.forex,faitPrice:t.payload.faitPrice?t.payload.faitPrice:e.system.faitPrice,gasPrice:t.payload.gasPrice?t.payload.gasPrice:e.system.gasPrice})},getSystemStatus:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error),e.system=Object(a.a)(Object(a.a)({},e.system),t.payload.system),e.__timer__=t.payload.__timer__,e.status=r.a.DONE},statusUnset:function(e){e.status=r.a.UNSET}}}),s=o.actions,i=s.updateSystem,u=s.getSystemStatus,l=(s.statusUnset,s.updateRealTimeObj)},255:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u}));var a=n(2),c=n(93),r=n(63),o=Object(c.c)({name:"ammActivityMap",initialState:{ammActivityMap:{},status:"UNSET",errorMessage:null},reducers:{getAmmActivityMap:function(e,t){e.status=r.a.PENDING},getAmmActivityMapStatus:function(e,t){t.error&&(e.status=r.a.ERROR,e.errorMessage=t.error),e.ammActivityMap=Object(a.a)({},t.payload.ammActivityMap),e.status=r.a.DONE},statusUnset:function(e){e.status=r.a.UNSET}}}),s=o.actions,i=s.getAmmActivityMap,u=s.getAmmActivityMapStatus;s.statusUnset},256:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));var a=n(93),c=n(63),r={coinMap:{},addressIndex:void 0,tokenMap:void 0,idIndex:void 0,status:"UNSET",errorMessage:null},o=Object(a.c)({name:"tokenMap",initialState:r,reducers:{getTokenMap:function(e,t){e.status=c.a.PENDING},getTokenMapStatus:function(e,t){t.error&&(e.status=c.a.ERROR,e.errorMessage=t.error);var n=t.payload,a=n.tokenMap,r=n.addressIndex,o=n.idIndex,s=n.coinMap;a&&(e.tokenMap=a),r&&(e.addressIndex=r),o&&(e.idIndex=o),s&&(e.coinMap=s),e.status=c.a.DONE},getTokenPairMap:function(e,t){var n=t.payload.tokenPairs,a=Reflect.ownKeys(n).reduce((function(e,t){return e[t]=n[t].tokenList}),{});a&&(e.tokenPairsMap=a)},statusUnset:function(e){e.status=c.a.UNSET}}}),s=o.actions,i=s.getTokenMap,u=s.getTokenMapStatus;s.getTokenPairMap,s.statusUnset},290:function(e,t,n){"use strict";var a,c;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),function(e){e.DEV="DEV",e.UAT="UAT",e.PROD="PROD"}(a||(a={})),function(e){e.NONETWORK="unknown"}(c||(c={}))},369:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r.d}));var a=n(2),c=n(54),r=n(216);function o(){var e=Object(c.c)((function(e){return e.tickerMap})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(r.d.actions.statusUnset(void 0))},updateTickers:function(e){t(r.d.actions.getTickers({tickerKeys:e}))},updateTicker:function(e){t(r.d.actions.getTicker({tickerKey:e}))}})}},40:function(e,t,n){"use strict";var a,c;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return r})),function(e){e.UNKNOWN="UNKNOWN",e.UNCONNNECTED="UNCONNNECTED",e.CONNECTED="CONNECTED",e.NOACCOUNT="NOACCOUNT",e.DEPOSITING="DEPOSITING",e.DEPOSIT_TO_CONFIREM="DEPOSIT_TO_CONFIREM",e.UNACTIVATED="UNACTIVATED",e.ARPROVING="ARPROVING",e.APPROV_TO_CONFIRM="APPROV_TO_CONFIRM",e.LOCKED="LOCKED",e.ACTIVATED="ACTIVATED"}(a||(a={})),function(e){e.Reset="Reset",e.Connecting="Connecting",e.HasPubkey="HasPubkey",e.HasNoPubkey="HasNoPubkey",e.ErrorResponse="ErrorResponse",e.FinishDeposit="FinishDeposit",e.DepositConfirmed="DepositConfirmed",e.IsSmartWallet="IsSmartWallet",e.ApproveSubmit="ApproveSubmit",e.ApproveConfirmed="ApproveConfirmed",e.Unlock="Unlock",e.Lock="Lock"}(c||(c={}));var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.UNCONNNECTED;return{initialState:e,states:{UNCONNNECTED:{Connecting:a.CONNECTED,Reset:a.UNCONNNECTED},CONNECTED:{HasPubkey:a.LOCKED,HasNoPubkey:a.UNACTIVATED,ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},NOACCOUNT:{ErrorResponse:a.NOACCOUNT,Reset:a.UNCONNNECTED},DEPOSITING:{FinishDeposit:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},DEPOSIT_TO_CONFIREM:{HasPubkey:a.ACTIVATED,HasNoPubkey:a.DEPOSIT_TO_CONFIREM,ErrorResponse:a.DEPOSIT_TO_CONFIREM,Reset:a.UNCONNNECTED},UNACTIVATED:{IsSmartWallet:a.ARPROVING,Reset:a.UNCONNNECTED},ARPROVING:{ApproveSubmit:a.APPROV_TO_CONFIRM,Reset:a.UNCONNNECTED},APPROV_TO_CONFIRM:{ApproveConfirmed:a.ACTIVATED,Reset:a.UNCONNNECTED},LOCKED:{Unlock:a.ACTIVATED,Reset:a.UNCONNNECTED},ACTIVATED:{Lock:a.LOCKED,Reset:a.UNCONNNECTED}}}}},432:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));n(5),n(24),n(972),n(83),n(1874),n(220);var a=n(1875);n(183),n(431),n(521);function c(e){var t=new a.a(e);return t.pollingInterval=1e4,t}function r(e){if(e&&void 0!==e&&null!==e&&""!==e.trim())return e.substr(0,6)+"..."+e.substr(e.length-4);console.log("getShortAddr got empty!")}},433:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return E}));var a,c=n(68),r=n(1),o=n.n(r),s=n(124),i=n(101),u=n(149),l=n(0);!function(e){e.Click="click",e.Scroll="scroll",e.Mouseover="mouseover"}(a||(a={}));var d=[a.Click,a.Scroll],b=Object(c.debounce)((function(){s.a.checkTimeout(!0)}),100),p=function(e){var t=e.children;return Object(u.g)(),Object(u.h)(),Object(u.i)(),Object(u.d)(),Object(u.c)(),Object(u.e)(),Object(u.f)(),Object(i.b)(),Object(r.useEffect)((function(){return d.forEach((function(e){document.addEventListener(e,b)})),function(){d.forEach((function(e){document.removeEventListener(e,b)}))}}),[]),Object(l.jsx)(o.a.Fragment,{children:t})},m=n(6),f=n(286),j=n(912),O=n(183),h=n(167),g=n(156),v=n(116),x=n(23),y=n(54),A=n(40);var k=Object(f.a)("div",{target:"e1vtmr5h1"})({name:"17nbj0f",styles:"display:flex;align-items:center;justify-content:center;height:20rem"}),T=Object(f.a)("h2",{target:"e1vtmr5h0"})("color:",(function(e){return e.theme.colorBase.error}),";");function C(e){var t=e.children,n=Object(j.a)().t,a=Object(O.d)().active,c=Object(O.d)(x.h),o=c.active,s=c.error,i=c.activate,u=Object(g.b)();Object(r.useEffect)((function(){!u||o||s||a||i(h.d)}),[u,o,s,i,a]);var d=Object(y.b)();Object(g.d)((function(){console.log("onReConnectInjected"),d(Object(v.b)(void 0)),d(Object(v.e)(A.b.UNCONNNECTED))}),!u);var b=Object(r.useState)(!1),p=Object(m.a)(b,2),f=p[0],C=p[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){C(!0)}),600);return function(){clearTimeout(e)}}),[]),u?!a&&s?Object(l.jsx)(k,{children:Object(l.jsx)(T,{children:n("unknownError")})}):a||o?t:f?Object(l.jsx)(k,{}):null:null}var E=function(e){e.children;return Object(l.jsx)(o.a.Fragment,{children:null})}},523:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r.c}));var a=n(2),c=n(54),r=n(256);function o(){var e=Object(c.c)((function(e){return e.tokenMap})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(r.c.actions.statusUnset(void 0))},updateTokenMap:function(){t(r.c.actions.getTokenMap(void 0))}})}},524:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r.a}));var a=n(2),c=n(54),r=n(255);function o(){var e=Object(c.c)((function(e){return e.amm.ammActivityMap})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(r.a.actions.statusUnset(void 0))},updateAmmActivityMap:function(){t(r.a.actions.getAmmActivityMap(void 0))}})}},525:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r.b}));var a=n(2),c=n(54),r=n(241);function o(){var e=Object(c.c)((function(e){return e.system})),t=Object(c.b)();return Object(a.a)(Object(a.a)({},e),{},{statusUnset:function(){t(r.b.actions.statusUnset(void 0))},updateSystem:function(e){t(r.b.actions.updateSystem({system:e}))}})}n(290)},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1886);function c(e,t){Object(a.a)(e,[t||{}])}},63:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.UNSET="UNSET",e.PENDING="PENDING",e.ERROR="ERROR",e.DONE="DONE"}(a||(a={}))},65:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var a=n(23),c=n(54),r=n(1);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.d,n=Object(c.c)((function(e){return e.trading})),o=n.chainId,s=function(){if(o)return new e(o,t)},i=Object(r.useMemo)(s,[e,o,t]);return i}function s(){return o(a.q)}function i(){return o(a.e)}function u(){return o(a.a)}function l(){return o(a.o)}},94:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return A})),n.d(t,"l",(function(){return k})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return C}));var a,c=n(23),r=n(118),o=n.n(r),s=n(492),i=1e4;!function(e){e.Normal="Normal",e.EmptyInput="EmptyInput",e.ExceedUserBalance="ExceedUserBalance",e.ExceedPoolBalance="ExceedPoolBalance",e.Loading="Loading"}(a||(a={}));var u=function(e,t,n,c){var r=a.Normal;e=new o.a(e),t=new o.a(t),n=new o.a(n),c=new o.a(c);var s=new o.a(0);return e.gt(t)?r=a.ExceedUserBalance:n.gt(c)?r=a.ExceedPoolBalance:(e.eq(s)||n.eq(s))&&(r=a.EmptyInput),{isNormal:r===a.Normal}};function l(e,t){return d(t[e])}function d(e){if(e){var t=s.utils.getAddress(e.address);return"https://exchange.loopring.io/assets/images/ethereum/assets/".concat(t,"/logo.png")}return""}var b=function(e,t){if(e){var n=Reflect.ownKeys(e),a={};return n.forEach((function(e){a[e]={icon:l(e,t),name:e,simpleName:e,description:"",company:""}})),{left:n,coinMapLeft:a}}},p=function(e,t,n){if(e){var a=e[t].tokenList,c={};if(a)return a.forEach((function(e){c[e]={icon:l(e,n),name:e,simpleName:e,description:"",company:""}})),{right:a,coinMapRight:c}}},m=function(e,t){if(!e)throw Error("no tokens list!");return e[t]},f=function(e,t,n){var a=m(t,n),r=e.pooledMap[a.tokenId].volume;return{tokenInfo:a,tokenVol:r,reserve:c.D(r)}},j=function(e,t){if(!e||!t)return{key:void 0,key_bak:void 0,isOK:!1};return{key:"AMM-"+e+"-"+t,key_bak:"AMM-"+t+"-"+e,isOK:!0}},O=function(e,t){var n=t.key,a=t.key_bak;return e[n]?e[n]:e[a]},h=function(e,t,n,a,c){var r=g(e,t,n,a),o=r.ammInfo,s=r.ammBalance,i=m(c,n),u=m(c,a);return{ammInfo:o,ammBalance:s,baseBalance:s.pooledMap[i.tokenId],quoteBalance:s.pooledMap[u.tokenId]}},g=function(e,t,n,a){var c=j(n,a),r=O(e,c),o=O(t,c);if(!r||!o)throw Error("no ammInfo! no ammBalance!");return{ammInfo:r,ammBalance:o,feeBips:parseInt(r.feeBips)}},v=function(e,t){return void 0===e&&(e=0),c.D(e).times("1e"+t.decimals)},x=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,r=m(e,t),o=1e7,s=c.D(o*(1-a)),i=c.D(n).times("1e"+r.decimals),u=i.times(s).dividedBy(o),l=A(e,t,u);return{outInWei:u,out:l}},y=function(e,t,n,a){var r=m(e,t),o=c.D(i-a);return c.D(n).times("1e"+r.decimals).times(o).dividedBy(i)};function A(e,t,n,a,r){try{var o=m(e,t),s=a||o.precision,i=c.D(n).div("1e"+o.decimals);return c.E(i,s,r)}catch(u){return 0}}function k(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,r=m(e,t);return"undefined"===typeof r?0:c.D(n).times("1e"+r.decimals).toFixed(0,a)}var T=function(e,t,n,a,r,o,s,u){void 0===e&&(e=0);var l=g(t,n,r,o),d=l.ammBalance,b=l.feeBips,p=f(d,a,r),m=p.tokenInfo,j=p.reserve,O=f(d,a,o),h=(O.tokenInfo,O.reserve),x=v(e,m),k=c.D(i-b),T=x.times(k),C=T.times(h),E=j.times(i).plus(T),S=A(a,o,C.dividedBy(E)),_=y(a,o,S,s+b),w=Number(A(a,o,_)),I=0;w<0?(w=0,S=null):I=(Number(S)/Number(e)-u)/u;return{quoteAmt:S,_amount1ApplyOrderFeeInWei:_,_amount1ApplyOrderFee:w,priceImpact:I}},C=function(e,t,n,a,r,o,s,u){void 0===e&&(e=0);var l=g(t,n,r,o),d=l.ammBalance,b=l.feeBips,p=f(d,a,r),m=(p.tokenInfo,p.reserve),j=f(d,a,o),O=j.tokenInfo,h=j.reserve,x=v(e,O);if(x.gt(h))return{baseAmt:0,_amount1ApplyOrderFeeInWei:0,_amount1ApplyOrderFee:0,priceImpact:0,hasError:!1};var k=x.times(m).times(i),T=c.D(i-b),C=h.minus(x),E=T.times(C),S=A(a,o,k.dividedBy(E)),_=y(a,o,e,s+b),w=Number(A(a,o,_)),I=0;w<0?(w=0,S=null):I=(Number(e)/Number(S)-u)/u;return{baseAmt:S,_amount1ApplyOrderFeeInWei:_,_amount1ApplyOrderFee:w,priceImpact:I,hasError:!1}}},969:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(5),c=n.n(a),r=n(24),o=n(523),s=n(235),i=n(1),u=n.n(i),l=n(970),d=n.n(l),b=n(62),p=n(525),m=n(23);function f(){var e=Object(p.b)(),t=Object(o.b)(),n=Object(s.c)();return Object(b.a)(Object(r.a)(c.a.mark((function t(){var n,a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(t){e.updateSystem({chainId:t})},t.next=3,d()();case 3:if(!(a=t.sent)){t.next=12;break}return t.next=7,a.request({method:"eth_chainId"});case 7:r=t.sent,a.on("chainChanged",n),n(r),t.next=14;break;case 12:e.updateSystem({chainId:m.b.MAINNET}),console.log("web3 is not found");case 14:case"end":return t.stop()}}),t)}))),[]),u.a.useEffect((function(){switch(e.status){case"ERROR":e.statusUnset();break;case"DONE":e.statusUnset(),t.updateTokenMap()}}),[e.status,e.statusUnset,t.updateTokenMap]),u.a.useEffect((function(){switch(t.status){case"ERROR":t.statusUnset();break;case"DONE":t.statusUnset(),n.updateAmmMap()}}),[t.status,t.statusUnset,n.updateAmmMap]),u.a.useEffect((function(){switch(n.status){case"ERROR":case"DONE":n.statusUnset()}}),[n.status,n.statusUnset]),{systemState:e}}},971:function(e,t,n){"use strict";var a,c,r,o,s=n(134),i=n(96),u=n(2),l=n(6),d=n(1),b=n.n(d),p=n(26),m=n(32),f=n(1989),j=n(1984),O=n(1882),h=n(5),g=n.n(h),v=n(24),x=n(912),y=n(101),A=n(432),k=n(40),T=n(62);!function(e){e.dark="dark",e.light="light"}(a||(a={})),function(e){e.en="en_US",e.cn="zh_CN"}(c||(c={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ERROR=1]="ERROR",e[e.UNKNOWN=2]="UNKNOWN"}(r||(r={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.WALLET=2]="WALLET"}(o||(o={}));var C=n(155),E=n(23),S=n(100),_=n(156),w=n(54);function I(){var e=Object(w.b)(),t=Object(x.a)("common").t;return{ShowDeposit:Object(d.useCallback)((function(n){var a=C.a.getState().account.status===k.b.NOACCOUNT;console.log("isNoAccount: ",a,t("depositTitleAndActive"));var c={isShow:n,props:{title:t(a?"depositTitleAndActive":"depositTitle"),description:"depositAndActiveDescription"}};e(Object(p.U)(c))}),[e,t]),ShowTransfer:Object(d.useCallback)((function(t){return e(Object(p.W)({isShow:t}))}),[e]),ShowWithdraw:Object(d.useCallback)((function(t){return e(Object(p.X)({isShow:t}))}),[e]),ShowResetAccount:Object(d.useCallback)((function(t){return e(Object(p.V)({isShow:t}))}),[e])}}var P=n(327),R=n.n(P),D=n(65),N=n(94),M=n(43);function L(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"PromiseJob",c=!0,r=function(){e()&&e().then((function(e){c?t(n?e[n]:e):console.log(a+" unmounted!")})).catch((function(e){console.error(e)}))},o=function(){c=!1};return{handler:r,cleanUp:o}}function B(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=L(e,t,n,a),o=r.handler,s=r.cleanUp;Object(d.useEffect)((function(){return o(),function(){return s()}}),Object(M.a)(c))}function U(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(D.b)();return B((function(){if(c)return c.getMarkets()}),a,void 0,"useGetMarkets",[c]),{markets:n}}function F(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(D.b)();return B((function(){if(c)return c.getExchangeInfo()}),a,"exchangeInfo","useGetExchangeInfo",[c]),{exchangeInfo:n}}function H(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(D.b)();return B((function(){if(c)return c.getTokens()}),a,void 0,"useGetTokens",[c]),{tokens:n}}function K(e){var t=Object(D.c)(),n=Object(d.useState)(void 0),a=Object(l.a)(n,2),c=a[0],r=a[1],o=Object(y.a)(),s=o.apiKey,i=o.accountId;return Object(T.a)((function(){if(t&&s&&i&&e){var n=[],a=Reflect.ownKeys(e),c={};a.forEach((function(t){var a=e[t];n.push(a.tokenId),c[a.tokenId]=a})),t.getUserBalances({accountId:i,tokens:n.join(",")},s).then((function(e){var t={map:c,tokenId:{},symbol:{}};e.raw_data.forEach((function(e){var n=E.D(e.total),a=E.D(e.locked),r=n.minus(a);console.log("item:",e);var o=c[e.tokenId];t.tokenId[e.tokenId]=r.toString(),t.symbol[o.symbol]=r.toString()})),r(t)})).catch((function(t){Object(E.u)(t,"getUserBalances tokenId:"+e.tokenId)}))}}),[t,s,i,e]),{balances:c,setBalances:r}}var V=n(0);function W(e,t){var n=Object(D.c)(),a=Object(y.a)(),c=a.accountId,r=a.apiKey,o=Object(d.useState)([]),s=Object(l.a)(o,2),i=s[0],u=s[1];return Object(T.a)(Object(v.a)(g.a.mark((function a(){var o,s,i;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("!!!!!!!!!useCustomDCEffect useChargeFeeList:",e,c),c&&e){a.next=3;break}return a.abrupt("return");case 3:return o=[],a.prev=4,s={accountId:c,tokenSymbol:e,requestType:t},a.next=8,n.getOffchainFeeAmt(s,r);case 8:(i=a.sent)&&(i.raw_data.fees.forEach((function(e,t){o.push({belong:e.token,fee:e.fee})})),u(o)),console.log("response:",i),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),Object(E.u)(a.t0);case 16:u(o);case 17:case"end":return a.stop()}}),a,null,[[4,13]])}))),[c,r,e]),{chargeFeeList:i}}function Y(){var e=I(),t=e.ShowDeposit,n=e.ShowTransfer,a=e.ShowWithdraw,c=e.ShowResetAccount,r=Object(y.f)(),o=r.chainId,s=r.isConnected,i=r.connector,u=F().exchangeInfo,b=Object(y.a)(),f=b.account,j=b.apiKey,O=b.accountId,h=b.eddsaKey,x=H().tokens,A=null===x||void 0===x?void 0:x.tokenSymbolMap,k=Object(D.c)(),C=Object(D.b)(),S=function(e,t){var n=Object(d.useState)({}),a=Object(l.a)(n,2),c=a[0],r=a[1];return Object(T.a)(Object(v.a)(g.a.mark((function n(){var a,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t){n.next=2;break}return n.abrupt("return");case 2:a=Reflect.ownKeys(t),c={},a.forEach((function(e){e.startsWith("LP-")||(c[e]={icon:Object(N.h)(e,t),name:e,simpleName:e,description:"",company:""})})),r(c);case 6:case"end":return n.stop()}}),n)}))),[e,t]),{coinMap:c}}(C,A).coinMap,_=function(e,t,n){var a=Object(d.useState)({}),c=Object(l.a)(a,2),r=c[0],o=c[1];return Object(T.a)(Object(v.a)(g.a.mark((function a(){var c,r,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t&&t.accAddr&&n){a.next=2;break}return a.abrupt("return");case 2:return c={},a.next=5,e.getTokenBalances({owner:t.accAddr,token:""},n);case 5:r=a.sent,s=r.tokenBalances,Reflect.ownKeys(s).forEach((function(e){var t=s[e];c[e]={belong:e,count:Object(N.c)(n,e,t)}})),o(c);case 10:case"end":return a.stop()}}),a)}))),[e,t,n]),{walletMap:r}}(C,f,A).walletMap,w=function(e){var t=K(e).balances,n=Object(d.useState)({}),a=Object(l.a)(n,2),c=a[0],r=a[1];return Object(T.a)((function(){var n={};t&&t.symbol&&Reflect.ownKeys(t.symbol).forEach((function(a){var c=t.symbol[a];n[a]={belong:a,count:Object(N.c)(e,a,c)}})),console.log("lv2:",n),r(n)}),[t,e]),{walletMap:c}}(A).walletMap,P=Object(d.useCallback)(function(){var e=Object(v.a)(g.a.mark((function e(t,n){var a,c,r,l,d,b,p,m,j;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A&&s&&i&&(null===u||void 0===u?void 0:u.exchangeAddress)&&(null===u||void 0===u?void 0:u.depositAddress)){e.next=3;break}return console.log("exchangeInfo:".concat(u," deposit exit!!!!!")),e.abrupt("return");case 3:return e.prev=3,a=A[t],e.next=7,i.getProvider();case 7:return c=e.sent,r=new R.a(c),l=f.connectName===E.c.Injected,l=!0,e.next=13,C.getGasPrice();case 13:return e.t0=e.sent.gasPrice,d=e.t0/1e9,b=35e4,e.next=18,E.A(r,f.accAddr);case 18:return p=e.sent,console.log("gasPrice:",d),console.log("account.connectName:",f.connectName," tokenInfo:",a),e.next=23,E.s(r,f.accAddr,a.address,null===u||void 0===u?void 0:u.depositAddress,d,b,o,p,l);case 23:return m=e.sent,console.log("response:",m),0,e.next=28,E.t(r,f.accAddr,null===u||void 0===u?void 0:u.exchangeAddress,a,n,0,d,b,o,p+1,l);case 28:j=e.sent,console.log("response2:",j),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(3),Object(E.u)(e.t1);case 35:case"end":return e.stop()}}),e,null,[[3,32]])})));return function(t,n){return e.apply(this,arguments)}}(),[o,s,i,f,u,A,C]),M=Object(d.useCallback)(function(){var e=Object(v.a)(g.a.mark((function e(t,n){var a,c,r,s,l,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("withdraw apiKey:",j," exchangeInfo:",u," exchangeAddr:",u.exchangeAddress),f&&f.accountId&&f.accAddr&&i&&o&&j&&u&&u.exchangeAddress){e.next=4;break}return console.log("return directly!!!!!",f,i,o,j,u),e.abrupt("return");case 4:return"5500000000000000000","5500000000000000000",console.log("exchangeAddress:",u.exchangeAddress),e.prev=7,a={accountId:f.accountId,sellTokenId:1},e.next=11,k.getNextStorageId(a,j);case 11:return c=e.sent,r={exchange:u.exchangeAddress,owner:f.accAddr,to:f.accAddr,accountId:f.accountId,storageId:c.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},extraData:"",minGas:0,validUntil:E.p},e.next=15,i.getProvider();case 15:return s=e.sent,l=new R.a(s),e.next=19,k.submitOffchainWithdraw(r,l,o,E.c.Injected,f.eddsaKey,j,!1);case 19:d=e.sent,console.log(d),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),Object(E.u)(e.t0);case 26:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t,n){return e.apply(this,arguments)}}(),[j,f,i,u,o,k]),L=Object(d.useCallback)(function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a,c,r,s,l,d,b,p,m,v=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.length>1&&void 0!==v[1]?v[1]:"0xb6AdaC3e924B4985Ad74646FEa3610f14cDFB79c",i&&j&&o&&O&&(null===f||void 0===f?void 0:f.accAddr)){e.next=3;break}return e.abrupt("return");case 3:return a={accountId:O,sellTokenId:1},e.next=6,k.getNextStorageId(a,j);case 6:return c=e.sent,console.log("amt: ".concat(t," storageId:").concat(JSON.stringify(c))),e.prev=8,e.next=11,i.getProvider();case 11:return r=e.sent,s=new R.a(r),l=f.connectName,l=E.c.Injected,e.next=17,C.getAccount({owner:n});case 17:return d=e.sent,b=0,d&&(b=d.accInfo.accountId),p={exchange:u.exchangeAddress,payerAddr:f.accAddr,payerId:O,payeeAddr:n,payeeId:b,storageId:c.offchainId,token:{tokenId:"1",volume:"100000000000000000000"},maxFee:{tokenId:"1",volume:"9400000000000000000"},validUntil:E.p},console.log("request2:".concat(JSON.stringify(p))),e.next=24,k.submitInternalTransfer(p,s,o,l,h,j,!1);case 24:m=e.sent,console.log(m),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),Object(E.u)(e.t0);case 31:case"end":return e.stop()}}),e,null,[[8,28]])})));return function(t){return e.apply(this,arguments)}}(),[j,O,f,i,u,o,h,k,C]),B=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),U=Object(l.a)(B,2),V=U[0],Y=U[1],G={tradeData:{belong:void 0},coinMap:S,walletMap:_,depositBtnStatus:p.J.AVAILABLE,onDepositClick:function(e){console.log("1. onDepositClick",V),V&&V.belong&&P(V.belong.toString(),V.tradeValue),t(!1)},handlePanelEvent:function(){var e=Object(v.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(V!==t.tradeData&&Y(t.tradeData),ee(t.tradeData.belong)):Y({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},q=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),z=Object(l.a)(q,2),J=z[0],X=z[1],Q=Object(d.useState)(""),$=Object(l.a)(Q,2),Z=$[0],ee=$[1],te=W(Z,E.i.OFFCHAIN_WITHDRAWAL).chargeFeeList,ne={tradeData:{belong:void 0},coinMap:S,walletMap:w,withdrawBtnStatus:p.J.AVAILABLE,onWithdrawClick:function(e){console.log("Swap button click",J),J&&J.belong&&M(J.belong.toString(),J.tradeValue),a(!1)},handlePanelEvent:function(){var e=Object(v.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(J!==t.tradeData&&X(t.tradeData),ee(t.tradeData.belong)):X({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),withdrawType:m.n.Fast,withdrawTypes:m.o,chargeFeeToken:"ETH",chargeFeeTokenList:te,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},ae=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),ce=Object(l.a)(ae,2),re=ce[0],oe=ce[1],se=Object(d.useState)(""),ie=Object(l.a)(se,2),ue=ie[0],le=ie[1],de=W(ue,E.i.TRANSFER).chargeFeeList,be={tradeData:{belong:void 0},coinMap:S,walletMap:w,transferBtnStatus:p.J.AVAILABLE,onTransferClick:function(e){console.log("onTransferClick:",re),re&&re.belong&&L(re.tradeValue),n(!1)},handlePanelEvent:function(){var e=Object(v.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?(re!==t.tradeData&&oe(t.tradeData),le(t.tradeData.belong)):oe({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),chargeFeeToken:"ETH",chargeFeeTokenList:de,handleOnAddressChange:function(e){console.log("handleOnAddressChange",e)},handleAddressError:function(e){return{error:!0,message:"any error"}}},pe=Object(d.useState)({belong:void 0,tradeValue:0,balance:0}),me=Object(l.a)(pe,2),fe=me[0],je=me[1];return{depositProps:G,withdrawProps:ne,transferProps:be,resetProps:{tradeData:{belong:void 0},coinMap:S,walletMap:w,resetBtnStatus:p.J.AVAILABLE,onResetClick:function(e){console.log("onResetClick",fe),fe&&fe.belong,c(!1)},handlePanelEvent:function(){var e=Object(v.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n;(null===t||void 0===t||null===(n=t.tradeData)||void 0===n?void 0:n.belong)?fe!==t.tradeData&&je(t.tradeData):je({belong:void 0,tradeValue:0,balance:0}),e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fee:{count:234,price:123}},ammProps:{ammDepositData:{coinA:{belong:"ETH",balance:.3,tradeValue:0},coinB:{belong:"LRC",balance:1e3,tradeValue:0},slippage:""},ammWithdrawData:{coinA:{belong:"ETH",balance:.3,tradeValue:0},coinB:{belong:"LRC",balance:1e3,tradeValue:0},slippage:""},ammCalcData:{myCoinA:{belong:"ETH",balance:1e3,tradeValue:0},myCoinB:{belong:"LRC",balance:1e3,tradeValue:0},AtoB:50,coinInfoMap:S,slippage:.5,slippageTolerance:[.1,.5,1,"slippage:N"],fee:"1%"},handleDepositEvent:function(e,t){console.log("handleDepositEvent",e,t)},handleWithDrawEvent:function(e,t){console.log("handleWithDrawEvent",e,t)},onAmmWithdrawClick:function(e){console.log("onAmmWithdrawClick",e)},onAmmDepositClick:function(e){console.log("onAmmDepositClick",e)}},swapProps:{swapTradeData:{sell:{belong:void 0},buy:{belong:void 0},slippage:""},tradeCalcData:{coinSell:"ETH",coinBuy:"LRC",BtoS:0,StoB:0,sellCoinInfoMap:S,buyCoinInfoMap:S,walletMap:{},slippage:.5,slippageTolerance:[.1,.5,1,"slippage:N"],priceImpact:"12",minimumReceived:"1%",fee:"1%"},onSwapClick:function(e){console.log("Swap button click",e)},handleSwapPanelEvent:function(){var e=Object(v.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}}function G(e){if(!e||!(e instanceof Object)||"function"==typeof e)return e||void 0;var t=new(0,e.constructor);for(var n in e)e.hasOwnProperty(n)&&(t[n]=G(e[n]));return t}var q=n(34),z=n(1866),J=n(1877),X=n(445),Q=["onClose","open","t"],$=Object(z.a)("common")((function(e){var t=e.onClose,n=e.open,a=e.t,c=Object(q.a)(e,Q);return Object(V.jsx)(J.a,{open:n,onClose:t,"aria-labelledby":"Account information","aria-describedby":"show layer2 address, unlock/locked loopring wallet, copy address",children:Object(V.jsx)(p.s,{style:{boxShadow:"24"},children:Object(V.jsxs)(X.a,{paddingTop:3,paddingBottom:3,display:"flex",flexDirection:"column",minWidth:"var(--modal-width)",children:[Object(V.jsx)(p.r,Object(u.a)({onClose:t},Object(u.a)(Object(u.a)({},c),{},{t:a}))),Object(V.jsx)(p.a,Object(u.a)({},c))]})})})})),Z=function(e){var t=Object.assign({},e),n=Y(),c=n.depositProps,r=n.withdrawProps,o=n.transferProps,s=n.resetProps,h=n.ammProps,w=n.swapProps,P=Object(i.g)(),R=function(){var e=Object(x.a)(["common","layout"]),t=e.i18n,n=e.t,c=Object(p.bb)(),r=c.setTheme,o=c.themeMode,s=c.language,i=c.setLanguage,d=I().ShowDeposit,f=b.a.useState(!1),j=Object(l.a)(f,2),O=j[0],h=j[1],w=b.a.useState(!1),P=Object(l.a)(w,2),R=P[0],D=P[1],N=b.a.useReducer((function(e){return!e}),!1)[1],M=Object(y.a)().account,L=Object(y.e)(),B=L.lock,U=L.unlock,F=Object(y.c)().connect,H=Object(_.c)().etherscanUrl,K=[Object(u.a)(Object(u.a)({},m.p[0]),{},{handleSelect:function(){console.log("try to connect to ",E.c.Injected),F(E.c.Injected,!0),h(!1)}})],W=b.a.useState(!!(null===M||void 0===M?void 0:M.accAddr)),Y=Object(l.a)(W,2),G=Y[0],q=Y[1],z=b.a.useState(void 0),J=Object(l.a)(z,2),X=J[0],Q=J[1],$=b.a.useCallback(Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onNotification click");case 1:case"end":return e.stop()}}),e)}))),[]),Z=b.a.useCallback(Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=C.a.getState().account,console.log("onWalletBtnConnect click: ".concat(t.status)),e.t0=t.status,e.next=e.t0===k.b.NOACCOUNT?5:e.t0===k.b.UNCONNNECTED?7:9;break;case 5:return d(!0),e.abrupt("break",12);case 7:return h(!0),e.abrupt("break",12);case 9:return console.log("setOpenConnect(true)"),D(!0),e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)}))),[h,B,U,d]),ee=b.a.useCallback(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===a.dark?r(a.light):r(a.dark);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r]),te=function(e){i(e)};Object(T.a)((function(){m.t[m.a.WalletConnect]=Object(u.a)(Object(u.a)({},m.t[m.a.WalletConnect]),{},{handleClick:Z}),m.t[m.a.Theme]=Object(u.a)(Object(u.a)({},m.t[m.a.Theme]),{},{themeMode:o,handleClick:ee}),m.t[m.a.Language]=Object(u.a)(Object(u.a)({},m.t[m.a.Language]),{},{handleChange:te})}),[o,s,t,Z,ee,te,$,n]);var ne=function(e){var t=e.onClick;return Object(V.jsx)(p.i,{className:"unlock",startIcon:Object(V.jsx)(m.i,{fontSize:"large"}),onClick:function(e){return t(e)},variant:"outlined",children:Object(V.jsxs)(S.a,{variant:"body2",marginTop:.5,children:["   ",n("labelUnLock")," "]})})},ae=function(e){var t=e.onClick;return Object(V.jsx)(p.i,{className:"lock",startIcon:Object(V.jsx)(m.k,{fontSize:"large"}),onClick:function(e){return t(e)},variant:"outlined",children:Object(V.jsxs)(S.a,{variant:"body2",marginTop:.5,children:["  ",n("labelLock")," "]})})};return Object(T.a)((function(){if(!M)return console.log("account"+M+"* exit"),void Q(void 0);var e=M.status,t=Object(A.b)(null===M||void 0===M?void 0:M.accAddr),n=function(e){var n,a=e.status;m.r[m.g.Layer2]=Object(u.a)(Object(u.a)({},m.r[m.g.Layer2]),{},{status:m.h.default}),a===k.b.ACTIVATED?(n={addressShort:t||"",address:null===M||void 0===M?void 0:M.accAddr,level:"VIP 1",etherscanLink:H+(null===M||void 0===M?void 0:M.accAddr),mainBtn:Object(V.jsx)(ae,{onClick:function(e){console.log(e)}}),connectBy:""},q(!0)):a===k.b.LOCKED?(n={addressShort:t||"",address:null===M||void 0===M?void 0:M.accAddr,level:"VIP 1",etherscanLink:H+(null===M||void 0===M?void 0:M.accAddr),mainBtn:Object(V.jsx)(ne,{onClick:function(e){console.log(e)}}),connectBy:""},q(!0)):a===k.b.UNACTIVATED||a===k.b.NOACCOUNT||a===k.b.DEPOSITING||a===k.b.DEPOSIT_TO_CONFIREM||a===k.b.ARPROVING||a===k.b.APPROV_TO_CONFIRM?(n={addressShort:t||"",address:null===M||void 0===M?void 0:M.accAddr,level:"VIP 1",etherscanLink:H+(null===M||void 0===M?void 0:M.accAddr),connectBy:""},q(!0)):q(!1),Q(n)};switch(e){case k.b.UNCONNNECTED:m.t[m.a.WalletConnect]=Object(u.a)(Object(u.a)({},m.t[m.a.WalletConnect]),{},{label:"Connect Wallet",status:m.m.default}),m.r[m.g.Layer2]=Object(u.a)(Object(u.a)({},m.r[m.g.Layer2]),{},{status:m.h.hidden}),q(!1);break;case k.b.LOCKED:m.t[m.a.WalletConnect]=Object(u.a)(Object(u.a)({},m.t[m.a.WalletConnect]),{},{label:t,status:m.m.connect}),n({status:e});break;case k.b.ACTIVATED:m.t[m.a.WalletConnect]=Object(u.a)(Object(u.a)({},m.t[m.a.WalletConnect]),{},{label:t,status:m.m.unlock}),n({status:e});break;case k.b.UNACTIVATED:case k.b.NOACCOUNT:m.t[m.a.WalletConnect]=Object(u.a)(Object(u.a)({},m.t[m.a.WalletConnect]),{},{label:t,status:m.m.noAccount}),n({status:e});break;case k.b.DEPOSITING:case k.b.DEPOSIT_TO_CONFIREM:case k.b.ARPROVING:case k.b.APPROV_TO_CONFIRM:m.t[m.a.WalletConnect]=Object(u.a)(Object(u.a)({},m.t[m.a.WalletConnect]),{},{label:t,status:m.m.accountPending}),n({status:e})}N()}),[M,G,H,Q]),{headerToolBarData:m.t,headerMenuData:m.r,gatewayList:K,open:O,setOpen:h,openConnect:R,setOpenConnect:D,setShowAccountInfo:q,account:M,showAccountInfo:G,accountInfoProps:X}}(),D=R.headerToolBarData,N=R.headerMenuData,M=R.gatewayList,L=R.open,B=R.setOpen,U=R.openConnect,H=R.setOpenConnect,K=R.setShowAccountInfo,W=R.account,G=R.accountInfoProps,q=(R.showAccountInfo,F().exchangeInfo,Object(y.d)().disconnect),z=Object(d.useCallback)((function(){B(!0)}),[B]),J=Object(d.useState)(!1),X=Object(l.a)(J,2),Q=X[0],Z=X[1],ee=Object(d.useState)(!1),te=Object(l.a)(ee,2),ne=te[0],ae=te[1],ce=Object(x.a)("commom").t,re=function(){ae(!1)};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(f.a,{open:ne,autoHideDuration:2500,onClose:re,children:Object(V.jsx)(j.a,{onClose:re,severity:"success",children:ce("Address Copied to Clipboard!")})}),Object(V.jsx)(p.u,{open:Q,onClose:function(){return Z(!1)},title:"ETH Address",description:W.accAddr,url:W.accAddr}),Object(V.jsx)(p.t,{transferProps:o,withDrawProps:r,depositProps:c,resetProps:s,ammProps:h,swapProps:w}),Object(V.jsxs)(p.o,{children:[!1,!1,Object(V.jsx)(p.n,Object(u.a)(Object(u.a)({},t),{},{headerMenuData:N,headerToolBarData:D,selected:"/"===P.pathname?m.s:P.pathname}))]}),Object(V.jsx)(O.a,{}),Object(V.jsx)(p.v,Object(u.a)({},Object(u.a)(Object(u.a)({},t),{},{gatewayList:M,open:L,onClose:function(){return B(!1)}}))),Object(V.jsx)($,Object(u.a)({open:U,onClose:function(){H(!1)},onCopy:function(){!function(e){if(document.execCommand){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("Copy"),document.body.removeChild(t)}!!window.clipboardData&&window.clipboardData.setData("Text",e)}(W.accAddr),ae(!0)},onViewQRCode:function(){Z(!0)},onDisconnect:function(){q(),K(!1)},onSwitch:z},Object(u.a)(Object(u.a)({},G),t)))]})},ee=n(286),te=n(293),ne=n(985);var ae=Object(ee.a)(ne.a,{target:"e19jzbou1"})("& .MuiGrid-root:not(:last-of-type)>div{margin-right:",(function(e){return 3*e.theme.unit}),"px;}"),ce=Object(ee.a)(ne.a,{target:"e19jzbou0"})("&{background-color:",(function(e){return e.theme.colorBase.background().default}),";",(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})}),";.rdg{height:100%;}}",(function(e){var t=e.theme;return Object(p.G)({pLeft:3*t.unit,pRight:3*t.unit})}),";"),re=Object(z.a)("common")((function(e){var t=function(){var e=Object(d.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(d.useState)([]),r=Object(l.a)(c,2),o=r[0],s=r[1],i=Object(D.b)();return Object(T.a)(Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return t=!0,n=function(){var e=Object(v.a)(g.a.mark((function e(){var n,c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getAllTickers();case 2:n=e.sent,c=n.tickList,r=[],c.forEach((function(e){e.base,e.quote,e.quote_token_volume,e.base_token_volume,e.close,e.open,e.open,e.high,e.low,e.base_token_volume;var t=[[e.base,e.quote],[e.close,e.close],e.change,e.high,e.low,e.base_token_volume,e.base_token_amt,e.base,e.quote];r.push(t)})),r=r.sort((function(e,t){var n=0;return isNaN(t[5])||isNaN(e[5])||(n=t[5]-e[5]),n})),t&&(s(r.slice(0,4)),a(r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,n();case 6:return e.abrupt("return",(function(){t=!1}));case 7:case"end":return e.stop()}}),e)}))),[i]),{tickList:n,big4:o}}(),n=t.tickList,a=(t.big4,n.map((function(e){return{pair:e[0].length?{first:e[0][0],last:e[0][1]}:{first:"--",last:"--"},lastPrice:Number.isFinite(e[2])?e[2]:"--",change:Number.isFinite(e[3])?e[3]:"--",high:Number.isFinite(e[4])?e[4]:"--",low:Number.isFinite(e[5])?e[5]:"--",volumn:Number.isFinite(e[6])?e[6]:"--"}}))),c=Object(u.a)(Object(u.a)({},e),{},{buyData:te.a.ETH,sellData:te.a.LRC,tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"+15%",timeUnit:"24h",volume:112312312,floatTag:m.f.increase}});return Object(V.jsxs)(X.a,{display:"flex",flexDirection:"column",flex:1,children:[Object(V.jsxs)(ae,{container:!0,children:[Object(V.jsx)(ne.a,{item:!0,xs:3,children:Object(V.jsx)(p.p,Object(u.a)({},Object(u.a)(Object(u.a)({},c),{},{tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"0%",timeUnit:"24h",floatTag:m.f.none}})))}),Object(V.jsx)(ne.a,{item:!0,xs:3,children:Object(V.jsx)(p.p,Object(u.a)({},Object(u.a)(Object(u.a)({},c),{},{tradeFloat:{priceDollar:123,priceYuan:2343232,percent:"-15%",timeUnit:"24h",floatTag:m.f.decrease}})))}),Object(V.jsx)(ne.a,{item:!0,xs:3,children:Object(V.jsx)(p.p,Object(u.a)({},Object(u.a)({},c)))}),Object(V.jsx)(ne.a,{item:!0,xs:3,children:Object(V.jsx)(p.p,Object(u.a)({},Object(u.a)({},c)))})]}),Object(V.jsx)(ce,{container:!0,marginY:3,paddingY:2,flex:1,children:Object(V.jsx)(ne.a,{item:!0,xs:12,display:"flex",children:Object(V.jsx)(p.A,Object(u.a)({onVisibleRowsChange:function(e){console.log(e)},rawData:a},Object(u.a)({},e)))})})]})})),oe=n(11),se=["swapProps"],ie=function(e){var t=e.swapProps,n=Object(q.a)(e,se);return Object(V.jsx)(p.F,Object(u.a)(Object(u.a)({},Object(u.a)(Object(u.a)({},t),n)),{},{children:" "}))},ue=n(118),le=n.n(ue);function de(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(D.a)();return B((function(){if(c)return c.getAmmPoolConf()}),a,void 0,"useGetAmmPools",[c]),{ammpools:n}}var be=[{key:0,value:"Connecting"},{key:1,value:"Connected"},{key:2,value:"Closing"},{key:3,value:"Closed"}],pe=function(e){var t=e.topics,n=e.verify,a=e.needApiKey,c=e.apiKey,r=Object(d.useRef)(null),o=Object(d.useState)(void 0),s=Object(l.a)(o,2),i=s[0],u=s[1],b=Object(d.useState)({key:0,value:"Connecting"}),p=Object(l.a)(b,2),m=p[0],f=p[1],j=C.a.getState().trading.chainId,O=Object(D.d)(),h=function(){O&&j&&O.getWsKey().then((function(e){var n="wss://ws.";switch(j){case E.b.MAINNET:n+="api3.loopring.io";break;default:n+="uat3.loopring.io",n="wss://ws.uat2.loopring.io"}n+="/v3/ws?wsApiKey="+e;try{r.current=new WebSocket(n);r.current.onopen=function(e){var n,o;f(be[null!==(n=null===(o=r.current)||void 0===o?void 0:o.readyState)&&void 0!==n?n:0]),function(e){var t={op:"sub",unsubscribeAll:"true",topics:e};a&&c&&(t.apiKey=c);var n=JSON.stringify(t);x(n)}(t)},r.current.onclose=function(e){var t,n;f(be[null!==(t=null===(n=r.current)||void 0===n?void 0:n.readyState)&&void 0!==t?t:0])},r.current.onerror=function(e){var t,n;f(be[null!==(t=null===(n=r.current)||void 0===n?void 0:n.readyState)&&void 0!==t?t:0])},r.current.onmessage=function(e){u(e.data)}}catch(o){console.log(o)}}))},g=function(){r.current&&3!==r.current.readyState||h()},v=function(){var e;null===(e=r.current)||void 0===e||e.close()},x=function(e){var t;null===(t=r.current)||void 0===t||t.send(e)};return Object(d.useEffect)((function(){return n&&g(),function(){var e;null===(e=r.current)||void 0===e||e.close()}}),[r,n,g]),{wsData:i,readyState:m,sendMessage:x,closeWebSocket:v,reconnect:function(){try{v(),r.current=null,h()}catch(e){console.log(e)}}}};function me(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=Object(d.useState)({}),r=Object(l.a)(c,2),o=r[0],s=r[1],i=Object(d.useState)(!0),u=Object(l.a)(i,2),b=u[0],p=u[1];Object(d.useEffect)((function(){var e=!0;return console.log("enter checkIsLocalPage"),document.addEventListener("visibilitychange",(function(){var t=!0;"hidden"===document.visibilityState&&(t=!1),e?p(t):console.log("unmounted! dont setIsLocalPage!")})),function(){e=!1}}),[]);var m=pe({topics:e,apiKey:n,needApiKey:t,verify:a}),f=m.wsData,j=m.readyState,O=m.closeWebSocket,h=m.reconnect,g=m.sendMessage;return Object(d.useEffect)((function(){if((!t||n)&&a){if("ping"===f)try{g("pong")}catch(e){console.log(e)}else f&&s(JSON.parse(f));3===j.key&&b&&h(),b||O()}}),[f,j,b,a,n]),{socketData:o}}function fe(e){var t=Object(d.useState)(),n=Object(l.a)(t,2),a=n[0],c=n[1],r=Object(d.useState)(),o=Object(l.a)(r,2),s=o[0],i=o[1],u=Object(d.useState)(),b=Object(l.a)(u,2),p=b[0],m=b[1],f=Object(d.useState)(),j=Object(l.a)(f,2),O=j[0],h=j[1];return Object(T.a)((function(){if(e&&!e.op&&e.topic&&e.topic.topic)switch(e.topic.topic){case E.r.Account:c(e.data);break;case E.r.Ammpool:var t={baseAmt:e.data[0][0],quoteAmt:e.data[0][1],timestamp:e.data[1]};i(t);break;case E.r.Candlestick:break;case E.r.Order:m(e.data);break;case E.r.OrderBook:break;case E.r.Ticker:h(e.data);break;case E.r.Trade:break;default:throw Error("Unknown WsTopicType:"+e.topic.topic)}}),[e]),{account:a,ammPool:s,order:p,ticker:O}}var je,Oe=n(124);!function(e){e.processed="processed",e.no_such_order="no_such_order",e.too_many_times="too_many_times"}(je||(je={}));var he=n(112);function ge(){var e,t=Object(i.h)(":symbol"),n=null!==(e=null===t||void 0===t?void 0:t.params.symbol)&&void 0!==e?e:void 0,a=Object(y.a)(),c=a.apiKey,r=a.eddsaKey,o=a.accountId,s=a.account,b=function(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(D.b)();return B((function(){if(c)return c.getMixMarkets()}),a,void 0,"useGetMarkets",[c]),{markets:n}}().markets,p=H().tokens,m=F().exchangeInfo,f=de().ammpools,j=function(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(D.a)();return B((function(){if(c)return c.getAmmPoolBalances()}),a,void 0,"useGetAmmPoolsBalances",[c]),{ammPoolsBalances:n}}().ammPoolsBalances,O=Object(d.useState)(""),h=Object(l.a)(O,2),x=h[0],A=h[1],C=Object(d.useState)(""),S=Object(l.a)(C,2),_=S[0],w=S[1],I=function(e){var t=de().ammpools,n=H().tokens,a=Object(d.useState)({}),c=Object(l.a)(a,2),r=c[0],o=c[1],s=Object(d.useState)({}),i=Object(l.a)(s,2),u=i[0],b=i[1];return Object(T.a)((function(){if(t&&n){var a=Object(N.i)(t.pairs,n);if(a){o(a.coinMapLeft);var c=Object(N.j)(t.pairs,e,n);c&&b(c.coinMapRight)}}}),[t,n,e]),{left:r,right:u,setLeft:o,setRight:b}}(x),P=I.left,R=I.right,M=I.setRight,L=Object(d.useState)(),U=Object(l.a)(L,2),V=U[0],W=U[1],Y=Object(d.useState)(""),q=Object(l.a)(Y,2),z=q[0],J=q[1],X=K(null===p||void 0===p?void 0:p.tokenSymbolMap),Q=X.balances,$=X.setBalances,Z=Object(d.useState)(0),ee=Object(l.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(d.useState)(0),ce=Object(l.a)(ae,2),re=ce[0],oe=ce[1],se=Object(d.useState)(0),ie=Object(l.a)(se,2),ue=ie[0],be=ie[1],pe=Object(d.useState)(10),ge=Object(l.a)(pe,2),ve=ge[0],xe=ge[1],ye=Object(d.useState)(0),Ae=Object(l.a)(ye,2),ke=Ae[0],Te=Ae[1],Ce=Object(d.useState)(Oe.a.getAmmOrder()),Ee=Object(l.a)(Ce,2),Se=Ee[0],_e=Ee[1],we=Object(d.useState)(.01),Ie=Object(l.a)(we,2),Pe=Ie[0],Re=(Ie[1],Object(d.useState)(0)),De=Object(l.a)(Re,2),Ne=De[0],Me=De[1],Le=Object(d.useState)(),Be=Object(l.a)(Le,2),Ue=Be[0],Fe=Be[1],He=Object(d.useState)(0),Ke=Object(l.a)(He,2),Ve=Ke[0],We=Ke[1],Ye=Object(d.useState)(0),Ge=Object(l.a)(Ye,2),qe=Ge[0],ze=Ge[1],Je=Ve?Ve*(1-Pe):0,Xe=Object(d.useState)(0),Qe=Object(l.a)(Xe,2),$e=Qe[0],Ze=(Qe[1],Object(d.useState)(0)),et=Object(l.a)(Ze,2),tt=et[0],nt=(et[1],Object(d.useState)({})),at=Object(l.a)(nt,2),ct=at[0],rt=at[1],ot=Object(D.c)(),st=Object(d.useState)({}),it=Object(l.a)(st,2),ut=it[0],lt=it[1],dt=function(e,t,n){var a=[];return a.push(Object(E.w)()),a.push(Object(E.B)(t)),a.push(Object(E.x)(e)),fe(me(a,!0,n,!!e&&!!t&&!!n).socketData)}(z,V,c),bt=dt.account;dt.ammPool,dt.order;Object(T.a)((function(){if(console.log("----------------!!!!!!!!!!!",n),n){var e=Object(E.y)(n),t=e.base,a=e.quote;t&&a&&(console.log("getBaseQuote base:",t," quote:",a),A(t),w(a))}else console.log("----------------getBaseQuote LRC_ETH"),A("LRC"),w("ETH")}),[n,b,A,w,W]),Object(T.a)((function(){if(b){var e=b.marketArr;W(Object(E.z)(e,x,_))}}),[b,W,x,_]),Object(T.a)((function(){if(x&&_&&f&&j){var e=Object(N.d)(f.ammpools,j.ammpoolsbalances,x,_).ammInfo;console.log("ammInfo.market:",e.market),J(e.address)}}),[x,_,f,j]),Object(T.a)((function(){if(Q&&x&&p)if(s.status===k.b.ACTIVATED){var e=Q.symbol[x];ne(e),oe(Object(N.c)(p.tokenSymbolMap,x,e))}else ne(0),oe(0)}),[Q,x,p,s.status]),Object(T.a)((function(){if(bt&&p&&x)if(s.status===k.b.ACTIVATED){var e=Q.tokenId[bt.tokenId],t=E.D(bt.totalAmount),n=E.D(bt.amountLocked),a=t.minus(n);if(!a.eq(E.D(e))){Object(N.c)(p.tokenSymbolMap,x,a.toString());var c=G(Q);c.tokenId[bt.tokenId]=a.toString();var r=c.map[bt.tokenId];c.symbol[r.symbol]=a.toString(),$(c)}}else $(void 0)}),[bt,p,x,s.status]),Object(T.a)((function(){if(p){var e={};if(s.status===k.b.ACTIVATED)if(Q&&Q.symbol)Reflect.ownKeys(Q.symbol).forEach((function(t){var n=Q.symbol[t];e[t]={belong:t,count:Object(N.c)(p.tokenSymbolMap,t,n)}}));lt(e)}}),[Q,p,s.status]),Object(T.a)((function(){if(x&&_&&f&&j&&p){var e=Object(N.g)(f.ammpools,j.ammpoolsbalances,x,_,p.tokenSymbolMap),t=e.ammInfo,n=e.baseBalance,a=e.quoteBalance;be(t.feeBips),n.volume>0?Te(a.volume/n.volume):Te(0)}else console.log("return!!! ---\x3esetQuoteBalance")}),[p,x,_,f,j]),Object(T.a)(Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c||o||ot||Se){e.next=2;break}return e.abrupt("return");case 2:return function e(t,n,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise((function(r,o){n&&ot.getOrderDetails({accountId:t,orderHash:n},a).then((function(n){if(console.log("order.status:",n.orderDetail.status),n.orderDetail.status===E.j.processed)return Oe.a.clearAmmOrder(),r(je.processed);c<10?setTimeout((function(){e(t,Oe.a.getAmmOrder(),a,c++)}),1e3):o(je.too_many_times)})).catch((function(){return Oe.a.clearAmmOrder(),o(je.no_such_order)}))}))}(o,Oe.a.getAmmOrder(),c).then((function(e){console.log("then:",e)})).catch((function(e){Object(E.u)(e)})),e.abrupt("return",(function(){}));case 5:case"end":return e.stop()}}),e)}))),[c,o,Se,ot]),Object(T.a)((function(){if(ot&&o&&c&&x&&_&&f&&j&&p){var e=!0,t=Object(N.g)(f.ammpools,j.ammpoolsbalances,x,_,p.tokenSymbolMap).ammInfo;return ot.getUserFeeRate({accountId:o,markets:t.market},c).then((function(n){e?xe(n.userFreeRateMap[t.market].takerRate):console.log("setTakerRate unmounted!")})).catch((function(e){Object(E.u)(e,"after getUserFeeRate")})),function(){e=!1}}}),[p,ot,o,c,x,_,f,j,s.status]);var pt=Object(d.useCallback)((function(e){if(f&&j&&p){var t=e.tradeValue;if(void 0===t||t!==Ue){void 0===t&&(t=0);var n=Object(N.e)(t,f.ammpools,j.ammpoolsbalances,p.tokenSymbolMap,x,_,ve,ke),a=n.quoteAmt,c=n._amount1ApplyOrderFee,r=n.priceImpact;return Object(N.b)(t,te,a,Object(N.c)(p.tokenSymbolMap,_,$e)).isNormal?(Fe(t),We(a),ze(c),Me(r)):(We(0),ze(0),Me(0)),a}console.log("return directly")}}),[p,Ue,te,$e,f,j,x,_,ve,ke]),mt=Object(d.useCallback)((function(e){if(f&&j&&p){var t=e.tradeValue;if(void 0===t||t!==Ve){void 0===t&&(t=0);var n=Object(N.f)(t,f.ammpools,j.ammpoolsbalances,p.tokenSymbolMap,x,_,ve,ke),a=n.baseAmt,c=n._amount1ApplyOrderFee,r=n.priceImpact,o=n.hasError,s=Object(N.b)(a,te,t,Object(N.c)(p.tokenSymbolMap,_,$e)).isNormal;return!o&&s?(Fe(a),We(t),ze(c),Me(r)):(Fe(0),ze(0),Me(0)),a}}}),[p,Ve,te,$e,f,j,x,_,ve,ke]),ft=Object(d.useCallback)((function(){console.log("try to swap ",Ue,x," -> ",Ve,_),function(){var e=Object(v.a)(g.a.mark((function e(){var t,n,a,s,i,u,l,d,b,O,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===m||void 0===m?void 0:m.exchangeAddress){e.next=2;break}throw Error("no exchangeAddress!");case 2:if(Ue&&Ve&&f&&p){e.next=5;break}return console.log("no baseAmt or quoteAmt!"),e.abrupt("return");case 5:return t=Object(N.d)(f.ammpools,j.ammpoolsbalances,x,_),t.ammInfo,t.feeBips,n=!1,a=Object(N.k)(p.tokenSymbolMap,x),s=Object(N.k)(p.tokenSymbolMap,_),e.prev=9,e.next=12,ot.getNextStorageId({accountId:o,sellTokenId:a.tokenId},c);case 12:u=e.sent,i=u.orderId,e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(9),Object(E.u)(e.t0,"getNextStorageId"),Error("getNextStorageId failed");case 20:return 17e8,l=Object(N.l)(p.tokenSymbolMap,x,Ue),d=Object(N.a)(p.tokenSymbolMap,_,qe,Pe),b=new le.a(d.outInWei).toFixed(),e.prev=24,console.log("amount0InBigNumber:",l," amount1InBigNumber:",b),O={exchange:null===m||void 0===m?void 0:m.exchangeAddress,accountId:o,storageId:i,sellToken:{tokenId:a.tokenId,volume:l.toString()},buyToken:{tokenId:s.tokenId,volume:b.toString()},allOrNone:n,validUntil:17e8,maxFeeBips:60,fillAmountBOrS:!1,orderType:E.k.ClassAmm,eddsaSignature:""},e.next=29,ot.submitOrder(O,r,c);case 29:h=e.sent,console.log("response:",h),Oe.a.setAmmOrder(h.raw_data.hash),_e(h.raw_data.hash),e.next=38;break;case 35:e.prev=35,e.t1=e.catch(24),Object(E.u)(e.t1,"submitOrderV3");case 38:case"end":return e.stop()}}),e,null,[[9,16],[24,35]])})));return function(){return e.apply(this,arguments)}}()()}),[o,j,f,qe,c,x,Ue,r,null===m||void 0===m?void 0:m.exchangeAddress,_,Ve,Pe,p,ot]);return Object(T.a)((function(){var e={coinSell:x,coinBuy:_,StoB:parseFloat(null===ke||void 0===ke?void 0:ke.toFixed(4)),BtoS:0,sellCoinInfoMap:P,buyCoinInfoMap:R,walletMap:ut,slippage:100*Pe,slippageTolerance:[.1,.5,1,"slippage:N"],priceImpact:"".concat((100*Math.abs(Ne)).toFixed(2),"%"),minimumReceived:Je.toFixed(7),fee:"".concat((Math.abs(ue+ve)/100).toFixed(2),"%")},t={swapTradeData:{sell:{belong:x,balance:re,tradeValue:Ue},buy:{belong:_,balance:tt,tradeValue:Ve},slippage:Pe,__cache__:{}},tradeCalcData:e,onSwapClick:function(e){ft()},handleSwapPanelEvent:function(){var e=Object(v.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a;console.log("swapData:",t);t.type;var c=t.tradeData,r=(t.to,void 0);switch(n){case he.a.SEll_CLICK:case he.a.BUY_CLICK:break;case he.a.SELL_SELECTED:var o=pt(null===c||void 0===c?void 0:c.sell);void 0!==o&&(c.buy=Object(u.a)(Object(u.a)({},c.buy),{},{tradeValue:o})),A(c.sell.belong),r=Object(N.j)(null===f||void 0===f?void 0:f.pairs,c.sell.belong,null===p||void 0===p?void 0:p.tokenSymbolMap),console.log("right:",r),r?(M(r.coinMapRight),w(r.right[0])):w(void 0);break;case he.a.BUY_SELECTED:console.log(),mt(null===c||void 0===c?void 0:c.buy),w(c.buy.belong);break;case he.a.EXCHANGE_CLICK:var s;if(Fe(0),We(0),c.buy=Object(u.a)(Object(u.a)({},c.buy),{},{balance:re,tradeValue:0}),c.sell=Object(u.a)(Object(u.a)({},c.sell),{},{balance:tt,tradeValue:0}),console.log("sell:",c.sell),console.log("buy:",c.buy),console.log("availToShow:",re),console.log("quoteToShow:",tt),A(null===(a=c.sell)||void 0===a?void 0:a.belong),r=Object(N.j)(null===f||void 0===f?void 0:f.pairs,c.sell.belong,null===p||void 0===p?void 0:p.tokenSymbolMap))console.log("right:",r.right[0]),M(r.coinMapRight),w(r.right[0]);else w(null===(s=c.buy)||void 0===s?void 0:s.belong)}e()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};rt(t)}),[Pe,Ne,ue,ve,P,R,ut,Je,re,tt,Ue,Ve,ke,pt,mt,ft]),{base:x,quote:_,tokens:p,markets:b,market:V,poolAddress:z,swapProps:ct}}var ve=n(14),xe=n(493),ye=[{value:p.j.Trend,key:p.j.Trend,label:"label"+p.j.Trend},{value:p.j.Depth,key:p.j.Depth,label:"label"+p.j.Depth}];function Ae(e,t){var n=ye.map((function(e){var n=e.value,a=e.label,c=e.key;return{value:n,tlabel:t(a),key:c,JSX:Object(V.jsx)(V.Fragment,{children:t(a)})}})),a=e.base,c=e.quote,r=e.market,o=e.tokens,s=Object(d.useState)(p.j.Trend),i=Object(l.a)(s,2),u=i[0],b=i[1],m=Object(d.useState)(0),f=Object(l.a)(m,2),j=f[0],O=f[1],h=Object(d.useState)(""),x=Object(l.a)(h,2),y=x[0],A=x[1],k=Object(d.useState)(ve.e.D1),C=Object(l.a)(k,2),S=C[0],_=(C[1],Object(d.useState)(void 0)),w=Object(l.a)(_,2),I=w[0],P=w[1],R=Object(d.useCallback)((function(e,t){console.log("handleChange:",t),P(void 0),b(t)}),[P,b]),M=Object(D.b)();Object(T.a)(Object(v.a)(g.a.mark((function e(){var t,n,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M&&r&&o&&c){e.next=2;break}return e.abrupt("return");case 2:return t=!0,e.prev=3,n={market:r.market},e.next=7,M.getTicker(n);case 7:s=e.sent,t&&(s.tickList[0].change&&O(s.tickList[0].change),s.tickList[0].base_token_volume&&(i=Object(N.c)(o.tokenSymbolMap,a,s.tickList[0].base_token_volume),A(i))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),Object(E.u)(e.t0,"ChartPanel getCandlestick");case 14:return e.abrupt("return",(function(){t=!1}));case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),[M,r,o,a]);var L=Object.keys(ve.e).reduce((function(e,n){var a={value:ve.e[n],key:ve.e[n],label:"label"+ve.e[n]};return e.push({value:a.value,tlabel:t(a.label?a.label:a.key),key:a.key,JSX:Object(V.jsx)(V.Fragment,{children:t(a.label?a.label:a.key)})}),e}),[]);return Object(T.a)(Object(v.a)(g.a.mark((function e(){var t,n,a,c,o,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,M&&r){e.next=3;break}return e.abrupt("return");case 3:if(u!==p.j.Trend){e.next=17;break}return n={market:r.market,interval:E.n.min15,limit:96},e.prev=5,e.next=8,M.getCandlestick(n);case 8:a=e.sent,t&&(c=a.candlesticks.map((function(e){return{timeStamp:e.timeStamp,low:e.low,high:e.high,open:e.open,close:e.close,volume:e.quoteVol}})),P(c)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),Object(E.u)(e.t0,"ChartPanel getCandlestick");case 15:e.next=29;break;case 17:return o={market:[r.market]},e.prev=18,e.next=21,M.getDepth(o);case 21:s=e.sent,console.log("depth:",s),t&&(i={bidsPrices:s.depth.bids_prices,bidsAmtTotals:s.depth.bids_amtTotals,asksPrices:s.depth.asks_prices,asksAmtTotals:s.depth.asks_amtTotals},P(i)),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(18),Object(E.u)(e.t1);case 29:return e.abrupt("return",(function(){t=!1}));case 30:case"end":return e.stop()}}),e,null,[[5,12],[18,26]])}))),[M,r,u]),{change:j,volume:y,chartUnit:S,chartType:u,tgItemJSXs:n,tgItemJSXsPriceChart:L,handleChange:R,originData:I}}var ke,Te,Ce,Ee=["props","swapProps","t"],Se=function(e){var t=e.props,n=e.swapProps,a=e.t,c=Object(q.a)(e,Ee),r=Ae(t,a),o=r.change,s=r.chartType,i=r.tgItemJSXs,l=r.tgItemJSXsPriceChart,d=r.handleChange,b=r.originData,f=Object(p.bb)().upColor;return Object(V.jsxs)(V.Fragment,{children:[n.swapTradeData?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(ne.a,{item:!0,xs:8,children:Object(V.jsx)(xe.d,Object(u.a)({},Object(u.a)(Object(u.a)({},c),{},{t:a,tradeCalcData:n.tradeCalcData,tradeFloat:{priceDollar:Object(m.q)(o,8),percent:"+15%",timeUnit:"24h",volume:""}})))}),Object(V.jsx)(ne.a,{item:!0,xs:4,display:"flex",justifyContent:"flex-end",alignItems:"flex-end",children:Object(V.jsx)(p.I,Object(u.a)(Object(u.a)({exclusive:!0},Object(u.a)(Object(u.a)({},c),{},{t:a,tgItemJSXs:i,value:s})),{},{handleChange:d}))})]}):void 0,Object(V.jsx)(ne.a,{item:!0,xs:12,children:Object(V.jsx)(X.a,{minHeight:256,maxHeight:256,display:"block",style:{height:"100%",width:"100%"},children:Object(V.jsx)(p.C,{type:s,data:null!==b&&void 0!==b?b:[],riseColor:f,handleMove:function(){}})})}),Object(V.jsx)(ne.a,{item:!0,xs:12,height:24,display:"flex",justifyContent:"flex-end",children:Object(V.jsx)(p.I,Object(u.a)(Object(u.a)({exclusive:!0},Object(u.a)(Object(u.a)({},c),{},{t:a,tgItemJSXs:l,value:ve.e.D1,size:"small"})),{},{handleChange:function(){}}))})]})},_e=n(1982),we=n(2009),Ie=n(1988),Pe=n(17),Re=Object(Pe.a)(X.a)(ke||(ke=Object(oe.a)(["\n    width: 100%;\n    height: 100%;\n    flex: 1;\n    background-color: ",";\n    border-radius: ","px;\n    padding: 20px;\n    .tableWrapper {\n        margin-top: ","px;\n        border: 1px solid ",";\n        border-radius: ","px;\n        padding: 26px;\n    }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 1.5*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),De=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},Ne=Object(z.a)("common")(Object(i.i)((function(e){var t=e.trades,n=e.isAllTrade,a=e.setIsAllTrade,c=e.t,r=(e.location,Object(d.useState)(0)),o=Object(l.a)(r,2),s=o[0],i=o[1],b=Pe.a.div(Te||(Te=Object(oe.a)(["\n    position: relative;\n    width: 100%;\n    margin-top: ","px;\n  "])),(function(e){return 4*e.theme.unit})),m=Object(Pe.a)(p.m)(Ce||(Ce=Object(oe.a)(["\n    position: absolute;\n    top: 0;\n    right: ","px;\n    margin: ","px 0 0 0;\n  "])),(function(e){return e.theme.unit}),(function(e){return e.theme.unit}));return Object(V.jsxs)(b,{children:[Object(V.jsx)(m,{control:Object(V.jsx)(Ie.a,{checked:n,size:"small",checkedIcon:Object(V.jsx)(ve.h,{}),icon:Object(V.jsx)(ve.f,{}),color:"default",onChange:function(){a((function(e){return!e}))}}),label:c("labelTradePanelHideOtherPairs")}),Object(V.jsxs)(_e.a,{value:s,onChange:function(e,t){i(t)},"aria-label":"tabs switch",children:[Object(V.jsx)(we.a,Object(u.a)({label:c("labelMyTrade")},De(0))),Object(V.jsx)(we.a,Object(u.a)({label:c("labelRecent")},De(1)))]}),Object(V.jsx)(Re,{marginTop:2,children:Object(V.jsx)(p.K,{rawData:t})})]})})));var Me,Le=function(e){var t=e.market,n=e.poolAddress;e.base,e.quote;console.log("TradePanel market:",t);var a=function(e){var t=Object(y.a)(),n=t.apiKey,a=t.accountId,c=t.account,r=Object(D.c)(),o=Object(d.useState)([]),s=Object(l.a)(o,2),i=s[0],u=s[1];return Object(T.a)(Object(v.a)(g.a.mark((function t(){var o,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&a&&n&&e){t.next=2;break}return t.abrupt("return");case 2:if(o=[],c.status!==k.b.ACTIVATED){t.next=15;break}return t.prev=4,t.next=7,r.getUserTrades({accountId:a,market:e.amm,fillTypes:E.g.amm},n);case 7:(s=t.sent).trades.forEach((function(t){var n={side:t[2],amount:{from:{key:null===e||void 0===e?void 0:e.baseShow,value:t[2]},to:{key:null===e||void 0===e?void 0:e.quoteShow,value:t[3]}},price:{key:null===e||void 0===e?void 0:e.baseShow,value:t[4]},fee:{key:null===e||void 0===e?void 0:e.baseShow,value:t[6]},time:t[0]};o.push(n)})),console.log("market:",e," trades:",s.trades," tradesNew:",o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),Object(E.u)(t.t0);case 15:u(o);case 16:case"end":return t.stop()}}),t,null,[[4,12]])}))),[r,a,n,e,c.status]),{myTrades:i}}(t).myTrades,c=function(e){var t=Object(D.a)(),n=Object(d.useState)([]),a=Object(l.a)(n,2),c=a[0],r=a[1];return Object(T.a)((function(){t&&e&&t.getAmmPoolTrades({ammPoolAddress:e}).then((function(e){var t=[];e.raw_data.trades.forEach((function(e){})),console.log("useGetRecentTrades trades:",e.raw_data.trades," tradesNew:",t),r(t)})).catch((function(e){Object(E.u)(e)}))}),[t,e]),{recentTrades:c}}(n).recentTrades,r=Object(d.useState)(!1),o=Object(l.a)(r,2),s=o[0],i=o[1];return Object(V.jsx)(Ne,{trades:s?c:a,isAllTrade:s,setIsAllTrade:i})},Be=n(613),Ue=Object(Be.default)(X.a)(Me||(Me=Object(oe.a)(["\n  @media only screen and (min-height: 680px ) and (min-width:1024px){\n    position: fixed;\n  }\n"]))),Fe=Object(z.a)("common")((function(e){var t=Object.assign({},e),n=ge(),a=n.base,c=n.quote,r=n.tokens,o=n.market,s=n.poolAddress,i=n.swapProps,l={base:a,quote:c,tokens:r,market:o};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(ne.a,{container:!0,marginRight:3,alignContent:"flex-start",children:[Object(V.jsx)(Se,Object(u.a)({},Object(u.a)(Object(u.a)({},t),{},{swapProps:i,props:l}))),Object(V.jsx)(Le,{market:o,poolAddress:s})]}),Object(V.jsx)(X.a,{display:"flex",style:{minWidth:"var(--swap-box-width)"},children:Object(V.jsx)(Ue,{children:Object(V.jsx)(ie,Object(u.a)({},Object(u.a)(Object(u.a)({},t),{},{swapProps:i})))})})]})}));function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.d,n=Object(_.a)(),a=n.chainId,c=n.active,r=function(){if(c&&a)return new e(a,t)},o=Object(d.useMemo)(r,[e,a,c]);return o}var Ke=[{key:0,value:"Connecting"},{key:1,value:"Connected"},{key:2,value:"Closing"},{key:3,value:"Closed"}],Ve=function(e){var t=e.topics,n=e.verify,a=e.needApiKey,c=e.apiKey,r=Object(d.useRef)(null),o=Object(d.useState)(void 0),s=Object(l.a)(o,2),i=s[0],u=s[1],b=Object(d.useState)({key:0,value:"Connecting"}),p=Object(l.a)(b,2),m=p[0],f=p[1],j=Object(_.a)().chainId,O=He(E.q),h=function(){O&&j&&O.getWsKey().then((function(e){var n="wss://ws.";switch(j){case E.b.MAINNET:n+="api3.loopring.io";break;default:n+="uat3.loopring.io",n="wss://ws.uat2.loopring.io"}n+="/v3/ws?wsApiKey="+e;try{r.current=new WebSocket(n);r.current.onopen=function(e){var n,o;f(Ke[null!==(n=null===(o=r.current)||void 0===o?void 0:o.readyState)&&void 0!==n?n:0]),function(e){var t={op:"sub",unsubscribeAll:"true",topics:e};a&&c&&(t.apiKey=c);var n=JSON.stringify(t);v(n)}(t)},r.current.onclose=function(e){var t,n;f(Ke[null!==(t=null===(n=r.current)||void 0===n?void 0:n.readyState)&&void 0!==t?t:0])},r.current.onerror=function(e){var t,n;f(Ke[null!==(t=null===(n=r.current)||void 0===n?void 0:n.readyState)&&void 0!==t?t:0])},r.current.onmessage=function(e){u(e.data)}}catch(o){console.log(o)}}))},g=function(){var e;null===(e=r.current)||void 0===e||e.close()},v=function(e){var t;null===(t=r.current)||void 0===t||t.send(e)};return Object(d.useEffect)((function(){return n&&(r.current&&3!==r.current.readyState||h()),function(){var e;null===(e=r.current)||void 0===e||e.close()}}),[r,n]),{wsData:i,readyState:m,sendMessage:v,closeWebSocket:g,reconnect:function(){try{g(),r.current=null,h()}catch(e){console.log(e)}}}};function We(e){var t=[];t.push(Object(E.C)("LRC-ETH")),t.push(Object(E.x)("0x18920d6E6Fb7EbE057a4DD9260D6D95845c95036"));return{socketData:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=Object(d.useState)({}),r=Object(l.a)(c,2),o=r[0],s=r[1],i=Object(d.useState)(!0),u=Object(l.a)(i,2),b=u[0],p=u[1];Object(d.useEffect)((function(){var e=!0;return console.log("enter checkIsLocalPage"),document.addEventListener("visibilitychange",(function(){var t=!0;"hidden"===document.visibilityState&&(t=!1),e?p(t):console.log("unmounted! dont setIsLocalPage!")})),function(){e=!1}}),[]);var m=Ve({topics:e,apiKey:n,needApiKey:t,verify:a}),f=m.wsData,j=m.readyState,O=m.closeWebSocket,h=m.reconnect,g=m.sendMessage;return Object(d.useEffect)((function(){if((!t||n)&&a){if("ping"===f)try{g("pong")}catch(e){console.log(e)}else f&&s(JSON.parse(f));3===j.key&&b&&h(),b||O()}}),[f,j,b,a,n]),{socketData:o}}(t,!1,e).socketData}}var Ye,Ge=function(){Object(d.useRef)(null);var e=Object(y.a)(),t=e.account,n=(e.isNoAccount,We(e.apiKey).socketData),a=U().markets,c=F().exchangeInfo,r=H().tokens,o=function(){var e=Object(d.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(D.b)();return B((function(){if(c)return c.getGasPrice()}),a,void 0,"useGetGas",[c]),{gas:n}}().gas;null===o||void 0===o||o.data;console.log("account:",t),console.log("exchangeInfo:",c),console.log("tokens:",r);t.accAddr&&t.accAddr;return Object(V.jsxs)("div",{children:["Debug",Object(V.jsxs)("div",{children:["account:",JSON.stringify(t)]}),Object(V.jsxs)("div",{children:["eddsaKey:",t.eddsaKey]}),Object(V.jsxs)("div",{children:["wsdata: ",JSON.stringify(n)]}),Object(V.jsx)("div",{children:"----------------------------"}),Object(V.jsxs)("div",{children:["markets:",JSON.stringify(a)]}),Object(V.jsx)("div",{children:"----------------------------"}),Object(V.jsxs)("div",{children:["depositAddress:",null===c||void 0===c?void 0:c.depositAddress]}),Object(V.jsxs)("div",{children:["exchangeAddress:",null===c||void 0===c?void 0:c.exchangeAddress]}),Object(V.jsx)("div",{children:"----------------------------"}),Object(V.jsxs)("div",{children:["tokens:",JSON.stringify(r)]}),Object(V.jsx)("div",{children:"----------------------------"})]})},qe=n(2010),ze=n(433),Je=n(130);var Xe,Qe,$e,Ze,et=Object(Pe.a)(X.a)(Ye||(Ye=Object(oe.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    display: flex;\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n    flex: 1;\n    \n    .rdg {\n      flex: 1;\n    }\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),tt=Object(z.a)("common")((function(e){var t=b.a.useRef(null),n=b.a.useState(10),a=Object(l.a)(n,2),c=a[0],r=a[1];b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&r(Math.floor((n-120)/44)-2)}),[t,c]);var o=function(){var e=Object(y.a)(),t=e.accountId,n=e.apiKey,a=Object(D.c)(),c=Object(d.useState)(),r=Object(l.a)(c,2),o=r[0],s=r[1];return Object(T.a)(Object(v.a)(g.a.mark((function e(){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.getUserTranferList({accountId:t},n);case 4:c=e.sent,r=[],c.transactions.forEach((function(e,t){r.push({from:{address:e.senderAddress,env:""},to:{address:e.receiverAddress,env:""},amount:e.amount,fee:{unit:e.feeTokenSymbol,value:e.feeAmount},memo:e.symbol,time:e.timestamp,txnHash:e.hash,status:e.status,token:e.token,tradeType:Je.b.allTypes})})),s(r);case 8:case"end":return e.stop()}}),e)}))),[t,n,a]),{txs:o}}().txs,s=void 0!==o?o:[];return Object(V.jsxs)(et,{ref:t,children:[Object(V.jsx)("div",{className:"title",children:"Transactions"}),Object(V.jsx)("div",{className:"tableWrapper",children:Object(V.jsx)(p.M,Object(u.a)({},Object(u.a)({rawData:s,pagination:{pageSize:c}},e)))})]})})),nt=n(1881),at=["t"],ct=Object(Pe.a)(X.a)(Xe||(Xe=Object(oe.a)(["\n    width: 100%;\n    height: 100%;\n    flex: 1;\n    background-color: ",";\n    border-radius: ","px;\n    padding: 20px;\n\n    .title {\n        font-family: Gilroy-Medium;\n        font-size: ","px;\n        line-height: 19px;\n    }\n\n    .tableWrapper {\n        margin-top: ","px;\n        border: 1px solid ",";\n        border-radius: ","px;\n        padding: 26px;\n    }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return 1.5*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),rt=Object(Pe.a)(X.a)(Qe||(Qe=Object(oe.a)(["\n    height: 225px;\n    > div {\n        position: relative;\n        width: calc(50% - 6px);\n        height: 100%;\n        background-color: ",";\n        border: 1px solid ",";\n        border-radius: ","px;\n        padding: ","px ","px;\n    }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit}),(function(e){return 2.5*e.theme.unit}),(function(e){return 3*e.theme.unit})),ot=Object(Pe.a)(X.a)($e||($e=Object(oe.a)(["\n    position: absolute;\n    z-index: 10000;\n    right: ","px;\n    bottom: ","px;\n"])),(function(e){return 3*e.theme.unit}),(function(e){return 2.5*e.theme.unit})),st=[{value:"24 H",key:"24 H"},{value:"1 W",key:"1 W"},{value:"ALL",key:"ALL"}],it=[{name:"LP Token",value:12898},{name:"LRC",value:12898.5},{name:"ETH",value:36547},{name:"DOT",value:23898.09},{name:"BTC",value:3489},{name:"CRV",value:180.09},{name:"ALICE",value:150.7},{name:"LINA",value:230.5}],ut=[{timeStamp:150,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:160,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:170,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:180,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:190,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:200,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:210,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:220,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:230,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)},{timeStamp:240,low:Math.random()+1,high:Math.random()+6,open:Math.random()+3,close:Math.random()+4,volume:1500*(Math.random()+4)}],lt=Object(z.a)("common")((function(e){var t=e.t,n=Object(q.a)(e,at),a=Object(d.useRef)(null),c=Object(d.useState)(10),r=Object(l.a)(c,2),o=r[0],s=r[1],i=Object(d.useState)("24 H"),b=Object(l.a)(i,2),m=b[0],f=b[1];Object(d.useEffect)((function(){var e,t=null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.offsetHeight;t&&s(Math.floor((t-120)/44)-1)}),[a,o]);var j=I(),O=j.ShowDeposit,h=j.ShowTransfer,g=j.ShowWithdraw,v=(j.ShowResetAccount,{assetInfo:{totalAsset:123456.789,priceTag:ve.B.Dollar},onShowDeposit:function(){O(!0)},onShowTransfer:function(){h(!0)},onShowWithdraw:function(){g(!0)}}),x=H().tokens;K(null===x||void 0===x?void 0:x.tokenSymbolMap).balances;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(X.a,{children:Object(V.jsx)(p.f,Object(u.a)({},Object(u.a)(Object(u.a)({t:t},n),v)))}),Object(V.jsxs)(rt,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:2,children:[Object(V.jsxs)(nt.a,{component:"div",children:[Object(V.jsx)(S.a,{component:"span",color:"textSecondary",variant:"body1",children:"Asset Distribution"}),Object(V.jsx)(p.l,{data:it})]}),Object(V.jsxs)(nt.a,{component:"div",children:[Object(V.jsx)(S.a,{component:"span",color:"textSecondary",variant:"body1",children:"Total Assets"}),Object(V.jsx)(p.C,{type:p.j.Trend,data:ut}),Object(V.jsx)(ot,{children:Object(V.jsx)(p.I,Object(u.a)({exclusive:!0,size:"small"},Object(u.a)(Object(u.a)({},n),{},{t:t,data:st,value:m,setValue:f})))})]})]}),Object(V.jsx)(ct,{marginTop:2,children:Object(V.jsx)("div",{className:"tableWrapper",ref:a,children:Object(V.jsx)(p.g,{rawData:[],pagination:{pageSize:o}})})})]})}));var dt,bt,pt,mt,ft,jt=Object(Pe.a)(X.a)(Ze||(Ze=Object(oe.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n  padding: 20px;\n\n  .title {\n    font-family: Gilroy-Medium;\n    font-size: ","px;\n    line-height: 19px;\n  }\n\n  .tableWrapper {\n    display: flex;\n    flex: 1;\n    margin-top: 20px;\n    border: 1px solid ",";\n    border-radius: ","px;\n    padding: 26px;\n\n    .rdg {\n      flex: 1;\n    }\n  }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),Ot=Object(z.a)("common")((function(e){var t=b.a.useRef(null),n=b.a.useState(10),a=Object(l.a)(n,2),c=a[0],r=a[1];b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&r(Math.floor((n-120)/44)-2)}),[t,c]);(function(){var e=Object(y.a)(),t=e.accountId,n=e.apiKey,a=Object(D.c)(),c=Object(d.useState)(),r=Object(l.a)(c,2),o=r[0],s=r[1];return Object(T.a)(Object(v.a)(g.a.mark((function e(){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.getUserTranferList({accountId:t},n);case 4:c=e.sent,r=[],c.transactions.forEach((function(e,t){r.push({from:{address:e.senderAddress,env:""},to:{address:e.receiverAddress,env:""},amount:e.amount,fee:{unit:e.feeTokenSymbol,value:e.feeAmount},memo:e.symbol,time:e.timestamp,txnHash:e.hash,status:e.status,token:e.token,tradeType:Je.b.allTypes})})),s(r);case 8:case"end":return e.stop()}}),e)}))),[t,n,a]),{txs:o}})().txs;return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(jt,{ref:t,children:[Object(V.jsx)("div",{className:"title",children:"Trades"}),Object(V.jsx)("div",{className:"tableWrapper",children:Object(V.jsx)(p.K,Object(u.a)({},Object(u.a)({rawData:[],pagination:{pageSize:c}},e)))})]})})})),ht=Object(Pe.a)(X.a)(dt||(dt=Object(oe.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    flex: 1;\n    background-color: ",";\n    border-radius: ","px;\n    padding: 20px;\n\n    .title {\n        font-family: Gilroy-Medium;\n        font-size: ","px;\n        line-height: 19px;\n    }\n\n    .tableWrapper {\n        display: flex;\n        flex: 1;\n        margin-top: 20px;\n        border: 1px solid ",";\n        border-radius: ","px;\n        padding: 26px;\n\n        .rdg {\n            flex: 1;\n        }\n    }\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.borderColor}),(function(e){return e.theme.unit})),gt=Object(z.a)("common")((function(e){var t=b.a.useRef(null),n=b.a.useState(10),a=Object(l.a)(n,2),c=a[0],r=a[1];return b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&r(Math.floor((n-120)/44)-2)}),[t,c]),Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(ht,{ref:t,children:[Object(V.jsx)("div",{className:"title",children:"Order History"}),Object(V.jsx)("div",{className:"tableWrapper",children:Object(V.jsx)(p.w,Object(u.a)({},Object(u.a)({pagination:{pageSize:c},rawData:[]},e)))})]})})})),vt=n(2017),xt=n(2015),yt=n(1878),At=n(1946),kt=n(129),Tt=["t","i18n"],Ct=Object(Pe.a)(ne.a)(bt||(bt=Object(oe.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  ",";\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})})),Et=Object(Pe.a)(vt.a)((function(e){var t=e.theme;return{"& .Mui-checked":{color:t.colorBase.textPrimary,"& + .MuiSwitch-track.MuiSwitch-track":{border:"solid ".concat(t.colorBase.success)},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.success}},"& .MuiSwitch-track":{border:"solid ".concat(t.colorBase.error),opacity:1},"& .MuiSwitch-thumb":{backgroundColor:t.colorBase.error}}})),St=function(e){var t=e.t,n=e.currency,a=e.label,c=e.handleChange,r=b.a.useState(n||m.b.dollar),o=Object(l.a)(r,2),s=o[0],i=o[1],u=b.a.useCallback((function(e){i(e.target.value),c&&c(e.target.value)}),[c]);return Object(V.jsxs)(p.x,{"aria-label":t(a),IconComponent:m.d,labelId:"language-selected",id:"language-selected",value:s,autoWidth:!0,onChange:u,children:[Object(V.jsxs)(p.y,{value:m.b.dollar,children:["$ ",t("labelUSDollar")]}),Object(V.jsxs)(p.y,{value:m.b.yen,children:["\xa5 ",t("labelCNYYuan")]})]})},_t=Object(Pe.a)(xt.a)(pt||(pt=Object(oe.a)(["\n  margin: ","px 0 ","px 0px;\n"])),(function(e){return e.theme.unit}),(function(e){return e.theme.unit})),wt=(Object(Pe.a)(xt.a)(mt||(mt=Object(oe.a)(["\n  margin: 0;\n  flex: 1;\n  width: 1px;\n  height: ","px;\n  background: ",";\n"])),(function(e){return 3*e.theme.unit}),(function(e){return e.theme.colorBase.focus})),Object(z.a)(["common","layout"])((function(e){var t=e.t,n=e.i18n,a=Object(q.a)(e,Tt),c=Object(kt.f)(),r=Object(p.bb)(),o=r.setUpColor,s=r.setLanguage,i=r.setCurrency,l=r.currency,d=r.upColor,b=n.language;return Object(V.jsxs)(ne.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",flexWrap:"nowrap",children:[Object(V.jsx)(S.a,{variant:"h4",component:"h3",marginY:1,paddingLeft:2,children:t("labelTitleSecurity")}),Object(V.jsxs)(Ct,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:[Object(V.jsxs)(X.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(V.jsx)(S.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleResetL2Keypair")}),Object(V.jsx)(_t,{}),Object(V.jsxs)(ne.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(V.jsx)(ne.a,{item:!0,xs:8,display:"flex",flexDirection:"column",children:Object(V.jsx)(S.a,{variant:"body1",component:"p",children:Object(V.jsxs)(At.a,{i18nKey:"resetDescription",children:["Create a new signing key for layer-2 authentication (no backup needed). This will",Object(V.jsx)(p.O,{component:"span",children:"cancel all your pending orders"}),"."]})})}),Object(V.jsx)(ne.a,{item:!0,xs:4,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(V.jsx)(yt.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnReset")})}),Object(V.jsx)(ne.a,{item:!0,xs:12,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:Object(V.jsx)(S.a,{variant:"body2",component:"p",paddingTop:1,children:t("labelHadChangPassword",{passDay:"14 hours"})})})]})]}),Object(V.jsxs)(X.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(V.jsx)(S.a,{variant:"h5",component:"h4",paddingX:2,children:t("labelTitleExportAccount")}),Object(V.jsx)(_t,{}),Object(V.jsxs)(ne.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(V.jsx)(ne.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(V.jsx)(S.a,{variant:"body1",component:"p",children:t("descriptionExportAccount")})}),Object(V.jsx)(ne.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(V.jsxs)(ne.a,{item:!0,children:[" ",Object(V.jsx)(yt.a,{variant:"outlined",size:"medium",color:"primary",children:t("labelBtnExportAccount")})]})})]})]})]}),Object(V.jsx)(S.a,{variant:"h4",component:"h3",marginY:1,paddingLeft:2,children:t("labelTitlePreferences")}),Object(V.jsx)(Ct,{item:!0,xs:12,display:"flex",flexDirection:"column",marginBottom:2,paddingY:2,children:Object(V.jsxs)(X.a,{component:"section",display:"flex",flexDirection:"column",children:[Object(V.jsxs)(ne.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(V.jsx)(ne.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(V.jsx)(S.a,{variant:"body1",component:"p",children:t("labelLanguage")})}),Object(V.jsx)(ne.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(V.jsx)(ne.a,{item:!0,children:Object(V.jsx)(p.h,Object(u.a)({},Object(u.a)(Object(u.a)({t:t},a),{},{language:b,label:"languageSetting",handleChange:function(e){s(e),n.changeLanguage(e)}})))})})]}),Object(V.jsxs)(ne.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,marginBottom:2,children:[Object(V.jsx)(ne.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(V.jsx)(S.a,{variant:"body1",component:"p",children:t("labelCurrency")})}),Object(V.jsx)(ne.a,{item:!0,xs:5,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-end",alignSelf:"stretch",children:Object(V.jsx)(ne.a,{item:!0,children:Object(V.jsx)(St,Object(u.a)({},Object(u.a)(Object(u.a)({t:t},a),{},{currency:l,label:"currencySetting",handleChange:function(e){i(e)}})))})})]}),Object(V.jsxs)(ne.a,{container:!0,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-start",paddingX:2,children:[Object(V.jsx)(ne.a,{item:!0,xs:7,display:"flex",flexDirection:"column",children:Object(V.jsx)(S.a,{variant:"body1",component:"p",children:t("labelColors")})}),Object(V.jsxs)(ne.a,{item:!0,xs:5,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",alignSelf:"stretch",children:[Object(V.jsx)(S.a,{variant:"body1",component:"span",paddingX:2,children:Object(V.jsxs)(At.a,{i18nKey:"whichColorIsUp",children:[Object(V.jsxs)("span",{style:{textTransform:"capitalize",color:d===m.l.green?c.colorBase.success:c.colorBase.error},children:[{up:d===m.l.green?t("labelgreen"):t("labelred")}," up"]}),"and ",Object(V.jsxs)("span",{style:{textTransform:"capitalize",color:d===m.l.green?c.colorBase.error:c.colorBase.success},children:[{down:d===m.l.green?t("labelred"):t("labelgreen")}," down"]})]})}),Object(V.jsx)(Et,{checked:d===m.l.green,color:"default",onChange:function(e){e.target.checked?o(m.l.green):o(m.l.red)}})]})]})]})})]})}))),It=["t"],Pt=m.u,Rt=Object(Pe.a)(X.a)(ft||(ft=Object(oe.a)(["\n  ","\n   \n"])),(function(e){var t=e.theme;return"\n    background-color: ".concat(t.colorBase.background().default,";\n    width: 100%;\n    min-width:auto;\n    ").concat(t.border.defaultFrame({c_key:"blur"}),";\n    & > div{\n      background-color:initial;\n      border:0;\n      width:auto;\n      min-width: var(--swap-box-width);\n      max-width: 520px;\n    }\n    ")})),Dt=Object(z.a)(["layout","common"],{withRef:!0})(p.E),Nt=function(){var e,t=Object(i.h)("/layer2/:item"),n=C.a.getState().account.status,a=Object(x.a)(),c=a.t,r=Object(q.a)(a,It),o=null!==(e=null===t||void 0===t?void 0:t.params.item)&&void 0!==e?e:"assets",s=Y().depositProps;return Object(V.jsxs)(V.Fragment,{children:["  ",n===k.b.NOACCOUNT||n===k.b.DEPOSITING||n===k.b.DEPOSIT_TO_CONFIREM?Object(V.jsx)(Rt,{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",alignContent:"flex-start",children:Object(V.jsx)(p.k,Object(u.a)(Object(u.a)({},Object(u.a)(Object(u.a)(Object(u.a)({},r),s),{},{title:c("depositTitleAndActive"),description:"depositAndActiveDescription"})),{},{children:" "}))}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(X.a,{width:"200px",display:"flex",justifyContent:"stretch",marginRight:3,children:Object(V.jsx)(p.D,{children:Object(V.jsx)(Dt,{selected:o,subMenu:Pt})})}),Object(V.jsxs)(X.a,{minHeight:420,display:"flex",alignItems:"stretch",flexDirection:"column",marginTop:0,flex:1,children:["assets"===o&&Object(V.jsx)(lt,{}),"transactions"===o&&Object(V.jsx)(tt,{}),"trades"===o&&Object(V.jsx)(Ot,{}),"orders"===o&&Object(V.jsx)(gt,{}),"setting"===o&&Object(V.jsx)(wt,{})]})]})]})},Mt=n(235),Lt=n(369),Bt=n(63);function Ut(e){var t=e.pageSize,n=b.a.useState([]),a=Object(l.a)(n,2),c=a[0],r=a[1],o=b.a.useState(1),s=Object(l.a)(o,2),i=s[0],d=s[1],p=Object(Mt.c)(),f=p.ammMap,j=p.status,O=(p.errorMessage,p.statusUnset),h=p.updateAmmMap,g=Object(Lt.b)(),v=g.tickerMap,x=g.status,y=(g.errorMessage,g.statusUnset),A=g.updateTickers,k=b.a.useCallback((function(e){if(d(e),f&&Object.keys(f).length>0){for(var n=[],a=(i-1)*t;a<Object.keys(f).length&&a<(i-1)*t+t;a++)n.push(Object.keys(f)[a]);A(n)}}),[f,i,t,A]);return b.a.useEffect((function(){switch(x){case"ERROR":console.log("ERROR","get ticker error,ui"),y();break;case"PENDING":break;case"DONE":y(),function(){try{var e=G(f);for(var t in v)e[t].tradeFloat=v[t];var n=f&&f!=={}?Object.keys(f).map((function(t){return e[t]})):[];r(n)}catch(a){throw new m.c(Object(u.a)(Object(u.a)({},m.e.NO_TOKEN_MAP),{},{options:a}))}}()}}),[x,y]),b.a.useEffect((function(){f&&0!==Object.keys(f).length?k(i):h()}),[]),b.a.useEffect((function(){switch(j){case"ERROR":console.log("ERROR","get ammMap error,ui"),O();break;case Bt.a.PENDING:console.log("PENDING","get ammMap error,ui");break;case Bt.a.DONE:O(),k(1)}}),[j,O,k]),{page:i,rawData:c,updateTickersUI:k}}var Ft,Ht,Kt,Vt,Wt=["t"],Yt=Object(Pe.a)(X.a)(Ft||(Ft=Object(oe.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n\n  .rdg {\n    flex: 1;\n  }\n\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit})),Gt=Object(z.a)("common")((function(e){e.t,Object(q.a)(e,Wt);var t=b.a.useRef(null),n=b.a.useState(10),a=Object(l.a)(n,2),c=a[0],r=a[1],o=Ut({pageSize:c}),s=o.updateTickersUI,i=o.rawData,u=o.page;b.a.useEffect((function(){var e,n=null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.offsetHeight;n&&r(Math.floor((n-120)/44)-1)}),[t,c]);var d=b.a.useCallback((function(e){s(e)}),[s]);return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(Yt,{display:"flex",flexDirection:"column",ref:t,children:Object(V.jsx)(p.z,{rawData:i,handlePageChange:d,page:u,pagination:{pageSize:c}})})})})),qt=n(1991),zt=n(2011),Jt=n(1990),Xt=["ammProps"],Qt=function(e){var t=e.ammProps,n=Object(q.a)(e,Xt);return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(p.b,Object(u.a)(Object(u.a)({},Object(u.a)(Object(u.a)(Object(u.a)({},n),t),{},{tabSelected:p.c.Deposit})),{},{children:" 123"}))})},$t=n(84),Zt=n.n($t),en=["t"],tn=(Pe.a.div(Ht||(Ht=Object(oe.a)(["\n  color: #fff;\n"]))),{coinA:{belong:"ETH",balance:.3,tradeValue:0},coinB:{belong:"LRC",balance:1e3,tradeValue:0}}),nn={ETH:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},LRC:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},USTD:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USTD",simpleName:"USTD",description:"",company:"USTD"}},an={myCoinA:{belong:"ETH",balance:1e3,tradeValue:0},myCoinB:{belong:"LRC",balance:1e3,tradeValue:0},AtoB:50,coinInfoMap:nn,slippage:.5,slippageTolerance:[.1,.5,1,"slippage:N"],fee:"1%"},cn={ammDepositData:tn,ammWithdrawData:tn,ammCalcData:an,handleDepositEvent:function(e,t){console.log("handleDepositEvent",e,t)},handleWithDrawEvent:function(e,t){console.log("handleWithDrawEvent",e,t)},onAmmWithdrawClick:function(e){console.log("onAmmWithdrawClick",e)},onAmmDepositClick:function(e){console.log("onAmmDepositClick",e)}},rn=(p.J.AVAILABLE,{ammCalcData:an,activity:{totalRewards:1232141,myRewards:122,rewardToken:nn.USTD,duration:{from:new Date("2021-1-1"),to:new Date}},coinAInfo:nn.ETH,coinBInfo:nn.LRC,tradeFloat:{percent:1e3,timeUnit:"24h",priceYuan:100,priceDollar:1.23123,floatTag:ve.p.increase},amountDollar:197764.89,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,rewardToken:"LRC",rewardValue:13,feeA:121,feeB:1232,isNew:!0,isActivity:!1}),on=123,sn=12131,un=.0012,ln=[{type:p.e.add,coinA:nn.ETH,coinB:nn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:Zt()().add(-1,"days").toDate().getTime()},{type:p.e.remove,coinA:nn.ETH,coinB:nn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:Zt()().add(-100,"days").toDate().getTime()},{type:p.e.swap,coinA:nn.ETH,coinB:nn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:Zt()().add(-15,"days").toDate().getTime()},{type:p.e.swap,coinA:nn.ETH,coinB:nn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:Zt()().add(-3,"hours").toDate().getTime()},{type:p.e.swap,coinA:nn.ETH,coinB:nn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:Zt()().add(-75,"second").toDate().getTime()}],dn=Object(Pe.a)(X.a)(Kt||(Kt=Object(oe.a)(["\n  ",";\n  background-color: ",";\n"])),(function(e){return e.theme.border.defaultFrame({c_key:"blur"})}),(function(e){return e.theme.colorBase.background().default})),bn=Object(Pe.a)(X.a)(Vt||(Vt=Object(oe.a)(["\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  background-color: ",";\n  border-radius: ","px;\n\n  .rdg {\n    flex: 1;\n  }\n\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit})),pn=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"tabpanel-".concat(e)}},mn=Object(z.a)("common")((function(e){var t,n,a,c,r,o,s=e.t,i=Object(q.a)(e,en),d=Object(p.bb)().currency,m=ge(),f=m.base,j=m.quote,O=m.tokens,h=m.market,g=m.swapProps;console.log("CoinPairPanel base:",f," quote:",j);var v=Ae({base:f,quote:j,tokens:O,market:h},s).change,x=b.a.useState(0),y=Object(l.a)(x,2),A=y[0],k=y[1],T=b.a.useState((null===i||void 0===i?void 0:i.page)?i.page:1),C=Object(l.a)(T,2),E=C[0],_=C[1],w=b.a.useCallback((function(e){_(e)}),[]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(ne.a,{container:!0,children:[Object(V.jsx)(ne.a,{item:!0,xs:8,children:Object(V.jsxs)(qt.a,{"aria-label":"breadcrumb",children:[Object(V.jsx)(zt.a,{color:"textSecondary",href:"/#/liquidity/pools",children:s("labelAmmList")}),Object(V.jsxs)(S.a,{color:"textSecondary",display:"flex",alignItems:"center",justifyContent:"center",children:[tn.coinA.belong,"-",tn.coinB.belong]})]})}),Object(V.jsx)(ne.a,{item:!0,xs:4,alignItems:"center",justifyContent:"flex-end",display:"flex",children:Object(V.jsx)(zt.a,{href:"/#/liquidity/pools",variant:"h5",children:s("labelBack")})})]}),Object(V.jsx)(ne.a,{container:!0,marginTop:3,children:Object(V.jsx)(ne.a,{item:!0,xs:7,children:Object(V.jsx)(p.L,Object(u.a)({},Object(u.a)(Object(u.a)({},i),{},{t:s,tradeCalcData:g.tradeCalcData,tradeFloat:{priceDollar:Object(ve.S)(v,8),percent:"+15%",timeUnit:"24h",volume:""},isNew:!1})))})}),Object(V.jsxs)(X.a,{flex:1,display:"flex",alignItems:"stretch",flexDirection:"row",marginTop:3,children:[Object(V.jsx)(X.a,{flex:1,display:"flex",children:Object(V.jsxs)(ne.a,{container:!0,spacing:2,wrap:"nowrap",children:[Object(V.jsxs)(ne.a,{item:!0,md:5,xs:12,paddingRight:2,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"space-between",children:[Object(V.jsxs)(dn,{paddingY:3,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(V.jsxs)(S.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",children:[Object(V.jsx)(S.a,{component:"span",style:{textTransform:"capitalize"},children:s("labelLiquidity")}),Object(V.jsx)(S.a,{component:"span",style:{textTransform:"uppercase"},children:s("labelAPY")})]}),Object(V.jsx)(S.a,{component:"p",color:"textPrimary",display:"flex",justifyContent:"space-between",marginTop:1,children:Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(S.a,{component:"span",children:[" ","undefined"===typeof rn.amountDollar?"N/A":d===ve.k.dollar?ve.B.Dollar+Object(ve.S)(rn.amountDollar):ve.B.Yuan+Object(ve.S)(rn.amountYuan?rn.amountYuan:0)]}),Object(V.jsxs)(S.a,{component:"span",children:[" ",rn.tradeFloat?rn.tradeFloat.APY:"N/A","%"]})]})}),Object(V.jsxs)(S.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:2,children:[Object(V.jsxs)(S.a,{component:"span",color:"textSecondary",children:[Object(V.jsx)(Jt.a,{mdDown:!0,children:s("labelLPTotal")}),s("labelLPTokens")]}),Object(V.jsx)(S.a,{component:"span",color:"textSecondary",children:rn.totalLPToken})]}),Object(V.jsxs)(S.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(V.jsxs)(S.a,{component:"span",color:"textSecondary",children:[Object(V.jsx)(Jt.a,{mdDown:!0,children:s("labelLPTotal")}),null===(t=rn.ammCalcData)||void 0===t?void 0:t.myCoinA.belong]}),Object(V.jsx)(S.a,{component:"span",color:"textSecondary",children:rn.totalA})]}),Object(V.jsxs)(S.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(V.jsxs)(S.a,{component:"span",color:"textSecondary",children:[Object(V.jsx)(Jt.a,{mdDown:!0,children:s("labelLPTotal")}),null===(n=rn.ammCalcData)||void 0===n?void 0:n.myCoinB.belong]}),Object(V.jsx)(S.a,{component:"span",color:"textSecondary",children:rn.totalB})]})]}),Object(V.jsxs)(dn,{paddingY:3,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(V.jsxs)(S.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(V.jsxs)(S.a,{component:"span",color:"textSecondary",variant:"body2",children:[rn.tradeFloat.timeUnit," ",s("labelVolume")]}),Object(V.jsxs)(S.a,{component:"span",color:"textSecondary",children:[s("labelFee")," "]})]}),Object(V.jsxs)(S.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,alignItems:"center",children:[Object(V.jsx)(S.a,{component:"span",variant:"h4",color:"textPrimary",children:d===ve.k.dollar?ve.B.Dollar+Object(ve.S)(rn.tradeFloat.priceDollar):ve.B.Yuan+Object(ve.S)(rn.tradeFloat.priceYuan)}),Object(V.jsxs)(S.a,{noWrap:!0,textAlign:"center",component:"span",color:"textSecondary",variant:"body2",textOverflow:"ellipsis",display:"flex",alignItems:"center",children:[Object(V.jsxs)(S.a,{component:"span",color:"inherit",variant:"inherit",display:"flex",flexDirection:"column",children:[Object(V.jsx)(S.a,{component:"span",color:"inherit",variant:"inherit",children:null===(a=rn.ammCalcData)||void 0===a?void 0:a.myCoinA.belong}),Object(V.jsx)(S.a,{component:"span",color:"inherit",variant:"inherit",children:rn.feeA})]}),Object(V.jsx)(S.a,{component:"span",color:"inherit",variant:"h5",paddingX:1,children:" + "}),Object(V.jsxs)(S.a,{component:"span",color:"inherit",variant:"inherit",display:"flex",flexDirection:"column",children:[Object(V.jsx)(S.a,{component:"span",color:"inherit",variant:"inherit",children:null===(c=rn.ammCalcData)||void 0===c?void 0:c.myCoinB.belong}),Object(V.jsx)(S.a,{component:"span",color:"inherit",variant:"inherit",children:rn.feeB})]})]})]})]}),Object(V.jsxs)(dn,{paddingY:3,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(V.jsx)(S.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",children:Object(V.jsxs)(S.a,{component:"span",color:"textSecondary",children:[" ",s("labelMyPoolShare")]})}),Object(V.jsxs)(S.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(V.jsxs)(S.a,{component:"span",color:"textSecondary",children:[" ",sn||"N/A"," ",null===(r=rn.ammCalcData)||void 0===r?void 0:r.myCoinA.belong," "]}),Object(V.jsx)(S.a,{component:"span",color:"textSecondary",variant:"h5",children:" -- "})]}),Object(V.jsxs)(S.a,{component:"p",color:"textSecondary",display:"flex",justifyContent:"space-between",marginTop:1,children:[Object(V.jsxs)(S.a,{component:"span",color:"textSecondary",children:[" ",un?sn:"N/A"," ",null===(o=rn.ammCalcData)||void 0===o?void 0:o.myCoinB.belong]}),Object(V.jsx)(S.a,{component:"span",color:"textSecondary",variant:"h5",children:" -- "})]})]}),Object(V.jsxs)(dn,{paddingY:3,paddingX:2.5,display:"flex",flexDirection:"column",children:[Object(V.jsxs)(X.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(V.jsxs)(S.a,{display:"flex",flexDirection:"column",component:"div",children:[Object(V.jsx)(S.a,{variant:"body2",component:"h5",color:"textSecondary",children:s("labelReward")}),Object(V.jsx)(S.a,{variant:"body1",component:"span",color:"textPrimary",children:"undefined"===typeof rn.activity?"N/A":Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(S.a,{component:"span",children:[rn.activity.totalRewards," "]}),Object(V.jsx)(S.a,{component:"span",children:rn.activity.rewardToken.simpleName})]})})]}),Object(V.jsxs)(S.a,{display:"flex",flexDirection:"column",alignItems:"flex-end",component:"div",children:[Object(V.jsx)(S.a,{variant:"body2",component:"h5",color:"textSecondary",children:s("labelMyReward")}),Object(V.jsx)(S.a,{variant:"body1",component:"span",color:"textPrimary",children:"undefined"===typeof rn.activity?"N/A":Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(S.a,{component:"span",children:[" ",on," "]}),Object(V.jsxs)(S.a,{component:"span",children:[" ",rn.activity.rewardToken.simpleName]})]})})]})]}),Object(V.jsxs)(S.a,{alignSelf:"flex-start",variant:"body2",color:"textSecondary",component:"span",marginTop:1,children:[s("labelDate"),":","undefined"===typeof rn.activity?"N/A":Zt()(rn.activity.duration.from).format("L")+" - "+Zt()(rn.activity.duration.to).format("L")]})]})]}),Object(V.jsx)(Jt.a,{mdDown:!0,children:Object(V.jsx)(ne.a,{item:!0,md:7,paddingRight:2})})]})}),Object(V.jsx)(X.a,{display:"flex",children:Object(V.jsx)(Qt,{ammProps:cn})})]}),Object(V.jsx)(ne.a,{container:!0,marginTop:3,children:Object(V.jsxs)(ne.a,{item:!0,xs:12,children:[Object(V.jsxs)(_e.a,{value:A,onChange:function(e,t){k(t),_(1)},"aria-label":"tabs switch",children:[Object(V.jsx)(we.a,Object(u.a)({label:s("labelAll")},pn(0))),Object(V.jsx)(we.a,Object(u.a)({label:s("labelMe")},pn(1)))]}),Object(V.jsx)(bn,{marginTop:2,children:Object(V.jsx)(p.d,{rawData:ln,handlePageChange:w,page:E})})]})})]})})),fn=n(968),jn=n(524);var On,hn,gn,vn,xn=["ammProps","t"],yn=b.a.memo(b.a.forwardRef((function(e,t){return Object(V.jsx)(fn.a,Object(u.a)({ref:t},e))}))),An=Object(z.a)("common")((function(e){e.ammProps;var t=e.t,n=(Object(q.a)(e,xn),function(){var e=b.a.useState([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(Mt.c)(),r=c.ammMap,o=c.status,s=(c.errorMessage,c.statusUnset),i=c.updateAmmMap,d=Object(jn.b)(),p=d.ammActivityMap,f=d.status,j=(d.errorMessage,d.statusUnset),O=d.updateAmmActivityMap,h=Object(Lt.b)(),g=h.tickerMap,v=h.status,x=(h.errorMessage,h.statusUnset),y=h.updateTickers,A=b.a.useCallback((function(){try{var e=G(p),t=[];for(var n in p)e[n]=Object(u.a)(Object(u.a)({},G(r[n])),{},{activity:e[n],tradeFloat:g&&g[n]}),t.push(e[n]);a(t)}catch(c){throw new m.c(Object(u.a)(Object(u.a)({},m.e.NO_TOKEN_MAP),{},{options:c}))}}),[p,g,r]),k=b.a.useCallback((function(){p&&Object.keys(p).length>0&&y(Object.keys(p))}),[p,y]);return b.a.useEffect((function(){switch(v){case"ERROR":console.log("ERROR","get ticker error,ui"),x();break;case"PENDING":break;case"DONE":x(),A()}}),[v,x,A]),b.a.useEffect((function(){switch(f){case"ERROR":console.log("ERROR","get ammMap error,ui"),j();break;case Bt.a.PENDING:console.log("PENDING","get ammMap error,ui");break;case Bt.a.DONE:o!==Bt.a.PENDING&&(j(),s(),k())}}),[o,f,j,s,k]),b.a.useEffect((function(){r&&0!==Object.keys(r).length||i(),p&&0!==Object.keys(p).length?k():O()}),[]),{ammActivities:n}}().ammActivities),a=b.a.useState(0),c=Object(l.a)(a,2),r=c[0],o=c[1];return Object(V.jsxs)(ne.a,{container:!0,spacing:2,children:[Object(V.jsx)(ne.a,{item:!0,xs:12,children:Object(V.jsxs)(_e.a,{value:r,onChange:function(e,t){o(t)},"aria-label":"tabs switch",children:[Object(V.jsx)(we.a,{label:t("labelCurrentActivities")}),Object(V.jsx)(we.a,{label:t("labelPastActivities")})]})}),n.map((function(e,t){return Object(V.jsx)(ne.a,{item:!0,xs:12,sm:6,lg:4,children:Object(V.jsx)(yn,Object(u.a)({},e))},t)}))]})})),kn=n(977),Tn=["t"],Cn={ETH:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},LRC:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},USTD:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USTD",simpleName:"USTD",description:"",company:"USTD"}},En=[{type:p.e.add,coinA:Cn.ETH,coinB:Cn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:Zt()().add(-1,"days").toDate().getTime()},{type:p.e.remove,coinA:Cn.ETH,coinB:Cn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:Zt()().add(-100,"days").toDate().getTime()},{type:p.e.swap,coinA:Cn.ETH,coinB:Cn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:Zt()().add(-15,"days").toDate().getTime()},{type:p.e.swap,coinA:Cn.ETH,coinB:Cn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:Zt()().add(-3,"hours").toDate().getTime()},{type:p.e.swap,coinA:Cn.ETH,coinB:Cn.LRC,totalDollar:12,totalYuan:194.89,amountA:122,amountB:231,time:Zt()().add(-75,"second").toDate().getTime()}],Sn=[{feeA:122,feeB:21,feeDollar:.0012,feeYuan:.0312,reward:123,rewardToken:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USDT",simpleName:"USDT",description:"",company:"USDT"},balanceA:12131,balanceB:.0012,balanceYuan:1232131,balanceDollar:232,ammDetail:{coinAInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},coinBInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},amountDollar:12,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,isNew:!0,isActivity:!1}},{feeA:122,feeB:21,feeDollar:.0012,feeYuan:.0312,reward:123,rewardToken:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USDT",simpleName:"USDT",description:"",company:"USDT"},balanceA:12131,balanceB:.0012,balanceYuan:1232131,balanceDollar:232,ammDetail:{coinAInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},coinBInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},amountDollar:12,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,isNew:!0,isActivity:!1}},{feeA:122,feeB:21,feeDollar:.0012,feeYuan:.0312,reward:123,rewardToken:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USDT",simpleName:"USDT",description:"",company:"USDT"},balanceA:12131,balanceB:.0012,balanceYuan:1232131,balanceDollar:232,ammDetail:{coinAInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},coinBInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},amountDollar:12,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,isNew:!0,isActivity:!1}},{feeA:122,feeB:21,feeDollar:.0012,feeYuan:.0312,reward:123,rewardToken:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USDT",simpleName:"USDT",description:"",company:"USDT"},balanceA:12131,balanceB:.0012,balanceYuan:1232131,balanceDollar:232,ammDetail:{coinAInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},coinBInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},amountDollar:12,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,isNew:!0,isActivity:!1}},{feeA:122,feeB:21,feeDollar:.0012,feeYuan:.0312,reward:123,rewardToken:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"USDT",simpleName:"USDT",description:"",company:"USDT"},balanceA:12131,balanceB:.0012,balanceYuan:1232131,balanceDollar:232,ammDetail:{coinAInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x9A0aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"ETH",simpleName:"ETH",description:"",company:"ETH"},coinBInfo:{icon:"https://exchange.loopring.io/assets/images/ethereum/assets/0x565aBA393aac4dFbFf4333B06c407458002C6183/logo.png",name:"LRC",simpleName:"LRC",description:"",company:"LRC"},amountDollar:12,amountYuan:194.89,totalLPToken:12132131,totalA:.002,totalB:12344,isNew:!0,isActivity:!1}}],_n=[{value:"24 H",key:"24 H"},{value:"1 W",key:"1 W"},{value:"ALL",key:"ALL"}],wn=(Object(Pe.a)(X.a)(On||(On=Object(oe.a)(["\n    width: 100%;\n    height: 100%;\n    flex: 1;\n"]))),Object(Pe.a)(ne.a)(hn||(hn=Object(oe.a)(["\n  position: relative;\n  width: 100%;\n  background-color: ",";\n  border-radius: ","px;\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.unit}))),In=Object(Pe.a)(X.a)(gn||(gn=Object(oe.a)(["\n    position: absolute;\n    z-index: 99;\n    top: ","px;\n    width: 100%;\n"])),(function(e){return e.theme.unit})),Pn=Object(Pe.a)(ne.a)(vn||(vn=Object(oe.a)(["\n  &{\n    background-color: ",";\n    ",";\n  }\n \n  ","\n"])),(function(e){return e.theme.colorBase.background().default}),(function(e){return e.theme.border.defaultFrame({c_key:"blur",d_R:1})}),(function(e){var t=e.theme;return Object(p.G)({pLeft:3*t.unit,pRight:3*t.unit})})),Rn=Object(z.a)("common")((function(e){var t=e.t,n=Object(q.a)(e,Tn),a=b.a.useState("ALL"),c=Object(l.a)(a,2),r=c[0],o=c[1],s=b.a.useState(1),i=Object(l.a)(s,2),d=i[0],f=i[1],j=Object(p.bb)().currency,O=1e3,h=33,g=323,v=12,x=232,y=35,A=b.a.useCallback((function(e){f(e)}),[]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(wn,{container:!0,spacing:1,padding:3,margin:0,children:[Object(V.jsxs)(ne.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",item:!0,sm:3,children:[Object(V.jsx)(S.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelTotalPositionValue")}),Object(V.jsx)(S.a,{variant:"h4",marginTop:1,children:void 0===O?"N/A":j===m.b.dollar?m.j.Dollar+Object(m.q)(O):m.j.Yuan+Object(m.q)(h)})]}),Object(V.jsxs)(ne.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",item:!0,sm:3,children:[Object(V.jsx)(S.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelFeeRewards")}),Object(V.jsx)(S.a,{variant:"h4",marginTop:1,children:void 0===g?"N/A":j===m.b.dollar?m.j.Dollar+Object(m.q)(g):m.j.Yuan+Object(m.q)(v)})]}),Object(V.jsxs)(ne.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",item:!0,sm:3,children:[Object(V.jsx)(S.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelMiningRewards")}),Object(V.jsx)(S.a,{variant:"h4",marginTop:1,children:void 0===x?"N/A":j===m.b.dollar?m.j.Dollar+Object(m.q)(x):m.j.Yuan+Object(m.q)(y)})]})]}),Object(V.jsxs)(wn,{container:!0,marginY:2,height:340,children:[Object(V.jsxs)(In,{display:"flex",padding:3,justifyContent:"space-between",children:[Object(V.jsx)(S.a,{variant:"body1",component:"h5",color:"textSecondary",children:t("labelLiquidityValue")}),Object(V.jsx)(X.a,{marginRight:-1,children:Object(V.jsx)(p.I,Object(u.a)({exclusive:!0,size:"small"},Object(u.a)(Object(u.a)({},n),{},{t:t,data:_n,value:r,setValue:o})))})]}),Object(V.jsx)(p.C,{type:p.j.Trend,data:[]})]}),Object(V.jsx)(S.a,{paddingLeft:2,variant:"h4",children:t("labelMyAmm")}),Object(V.jsx)(Pn,{container:!0,marginY:2,paddingY:2,flex:1,height:568,children:Object(V.jsx)(ne.a,{item:!0,xs:12,display:"flex",flexDirection:"column",children:Object(V.jsx)(kn.a,{rawData:Sn,pagination:{pageSize:5},handleDeposit:function(e){console.log()},handleWithdraw:function(e){console.log()},handlePageChange:function(){}})})}),Object(V.jsx)(S.a,{paddingLeft:2,variant:"h4",children:t("labelMyAmmRecord")}),Object(V.jsx)(Pn,{container:!0,marginY:2,paddingY:2,flex:1,children:Object(V.jsx)(ne.a,{item:!0,xs:12,display:"flex",flexDirection:"column",children:Object(V.jsx)(p.d,{rawData:En,handlePageChange:A,page:d})})})]})})),Dn=m.v,Nn=Object(z.a)(["layout","common"],{withRef:!0})(p.E),Mn=function(){var e,t,n=Object(i.h)(["/liquidity/:item",":next/"]),a=null!==(e=null===n||void 0===n?void 0:n.params.item)&&void 0!==e?e:"pools",c=Object(i.h)(["/liquidity/:item/:next/:symbol"]),r=void 0;return c&&(null===c||void 0===c||null===(t=c.params)||void 0===t?void 0:t.next)&&"pools"===c.params.item&&(r=c.params.symbol?c.params.symbol:"LRC-ETH"),Object(V.jsxs)(V.Fragment,{children:[r&&Object(V.jsx)(X.a,{display:"flex",flexDirection:"column",flex:1,alignSelf:"flex-start",children:Object(V.jsx)(mn,{})}),!r&&Object(V.jsxs)(V.Fragment,{children:["  ",Object(V.jsx)(X.a,{width:"200px",display:"flex",justifyContent:"stretch",marginRight:3,children:Object(V.jsx)(p.D,{children:Object(V.jsx)(Nn,{selected:a,subMenu:Dn})})}),Object(V.jsxs)(X.a,{minHeight:420,display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",marginTop:0,flex:1,children:["pools"===a&&!r&&Object(V.jsx)(Gt,{}),"amm-mining"===a&&!r&&Object(V.jsx)(An,{}),"my-liquidity"===a&&!r&&Object(V.jsx)(Rn,{}),"orderBook-Mining"===a&&Object(V.jsx)(An,{})]})]})]})};t.a=function(){return Object(V.jsxs)(s.a,{children:[Object(V.jsx)(Z,{}),Object(V.jsx)(qe.a,{maxWidth:"lg",style:{minHeight:"calc(100% - 64px - 32px)",display:"flex",flexDirection:"column"},children:Object(V.jsx)(X.a,{display:"flex",flex:1,alignItems:"stretch",flexDirection:"row",marginTop:3,children:Object(V.jsxs)(i.c,{children:[Object(V.jsx)(i.a,{exact:!0,component:Fe,path:"/"}),Object(V.jsx)(i.a,{exact:!0,component:re,path:"/markets"}),Object(V.jsx)(i.a,{component:Fe,path:"/trading/lite"}),Object(V.jsx)(i.a,{component:Fe,path:"/trading/lite(/:symbol)"}),Object(V.jsx)(i.a,{exact:!0,component:Nt,path:"/layer2"}),Object(V.jsx)(i.a,{exact:!0,component:Nt,path:"/layer2/assets"}),Object(V.jsx)(i.a,{exact:!0,component:Nt,path:"/layer2/transactions"}),Object(V.jsx)(i.a,{exact:!0,component:Nt,path:"/layer2/trades"}),Object(V.jsx)(i.a,{exact:!0,component:Nt,path:"/layer2/orders"}),Object(V.jsx)(i.a,{exact:!0,component:Nt,path:"/layer2/setting"}),Object(V.jsx)(i.a,{exact:!0,component:Mn,path:"/liquidity"}),Object(V.jsx)(i.a,{exact:!0,component:Mn,path:"/liquidity/pools/*"}),Object(V.jsx)(i.a,{exact:!0,component:Mn,path:"/liquidity/pools"}),Object(V.jsx)(i.a,{exact:!0,component:Mn,path:"/liquidity/amm-mining"}),Object(V.jsx)(i.a,{exact:!0,component:Mn,path:"/liquidity/my-liquidity"}),Object(V.jsx)(i.a,{exact:!0,component:Mn,path:"/liquidity/orderBook-Mining"}),Object(V.jsx)(i.a,{exact:!0,component:Mn,path:"/liquidity/maker-rebates"}),Object(V.jsx)(ze.a,{children:Object(V.jsx)(i.a,{exact:!0,path:"/debug",children:Object(V.jsx)(Ge,{})})})]})})})]})}}},[[1860,9,4,2,3,1,8,5,6]]]);
//# sourceMappingURL=main~a97bfcba.c03b8e77.chunk.js.map